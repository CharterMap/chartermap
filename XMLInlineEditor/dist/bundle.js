(()=>{"use strict";var __webpack_modules__={463:()=>{eval('\n;// CONCATENATED MODULE: ./node_modules/lexical/Lexical.prod.mjs\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction t(t){return{}}const e={},n={},r={},s={},i={},o={},l={},c={},a={},u={},f={},d={},h={},g={},_={},p={},y={},m={},x={},v={},T={},C={},S={},k={},b={},w={},N={},E={},P={},D={},F={},O={},I={},L={},A={},M={},z={},W={},B={},R={},K={},J={},U={},V={},$={},H="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,j=H&&"documentMode"in document?document.documentMode:null,q=H&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Q=H&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),X=!(!H||!("InputEvent"in window)||j)&&"getTargetRanges"in new window.InputEvent("input"),Y=H&&/Version\\/[\\d.]+.*Safari/.test(navigator.userAgent),Z=H&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,G=H&&/Android/.test(navigator.userAgent),tt=H&&/^(?=.*Chrome).*/i.test(navigator.userAgent),et=H&&G&&tt,nt=H&&/AppleWebKit\\/[\\d.]+/.test(navigator.userAgent)&&!tt,rt=1,st=3,it=0,ot=1,lt=2,ct=0,at=1,ut=2,ft=1,dt=2,ht=4,gt=8,_t=16,pt=32,yt=64,mt=128,xt=112|(3|ht|gt)|mt,vt=1,Tt=2,Ct=3,St=4,kt=5,bt=6,wt=Y||Z||nt?" ":"​",Nt="\\n\\n",Et=Q?" ":wt,Pt="֑-߿יִ-﷽ﹰ-ﻼ",Dt="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Ft=new RegExp("^[^"+Dt+"]*["+Pt+"]"),Ot=new RegExp("^[^"+Pt+"]*["+Dt+"]"),It={bold:1,code:16,highlight:mt,italic:2,strikethrough:ht,subscript:32,superscript:64,underline:gt},Lt={directionless:1,unmergeable:2},At={center:Tt,end:bt,justify:St,left:vt,right:Ct,start:kt},Mt={[Tt]:"center",[bt]:"end",[St]:"justify",[vt]:"left",[Ct]:"right",[kt]:"start"},zt={normal:0,segmented:2,token:1},Wt={[ct]:"normal",[ut]:"segmented",[at]:"token"};function Bt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rt=Bt((function(t){const e=new URLSearchParams;e.append("code",t);for(let t=1;t<arguments.length;t++)e.append("v",arguments[t]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));function Kt(...t){const e=[];for(const n of t)if(n&&"string"==typeof n)for(const[t]of n.matchAll(/\\S+/g))e.push(t);return e}const Jt=100;let Ut=!1,Vt=0;function $t(t){Vt=t.timeStamp}function Ht(t,e,n){return e.__lexicalLineBreak===t||void 0!==t[`__lexicalKey_${n._key}`]}function jt(t,e,n){const r=_n(n._window);let s=null,i=null;null!==r&&r.anchorNode===t&&(s=r.anchorOffset,i=r.focusOffset);const o=t.nodeValue;null!==o&&Le(e,o,s,i,!1)}function qt(t,e,n){if(us(t)){const e=t.anchor.getNode();if(e.is(n)&&t.format!==e.getFormat())return!1}return e.nodeType===st&&n.isAttached()}function Qt(t,e,n){Ut=!0;const r=performance.now()-Vt>Jt;try{ii(t,(()=>{const s=ws()||function(t){return t.getEditorState().read((()=>{const t=ws();return null!==t?t.clone():null}))}(t),i=new Map,o=t.getRootElement(),l=t._editorState,c=t._blockCursorElement;let a=!1,u="";for(let n=0;n<e.length;n++){const f=e[n],d=f.type,h=f.target;let g=Te(h,l);if(!(null===g&&h!==o||ui(g)))if("characterData"===d)r&&Gr(g)&&qt(s,h,g)&&jt(h,g,t);else if("childList"===d){a=!0;const e=f.addedNodes;for(let n=0;n<e.length;n++){const r=e[n],s=ve(r),i=r.parentNode;if(null!=i&&r!==c&&null===s&&("BR"!==r.nodeName||!Ht(r,i,t))){if(Q){const t=r.innerText||r.nodeValue;t&&(u+=t)}i.removeChild(r)}}const n=f.removedNodes,r=n.length;if(r>0){let e=0;for(let s=0;s<r;s++){const r=n[s];("BR"===r.nodeName&&Ht(r,h,t)||c===r)&&(h.appendChild(r),e++)}r!==e&&(h===o&&(g=be(l)),i.set(h,g))}}}if(i.size>0)for(const[e,n]of i)if(li(n)){const r=n.getChildrenKeys();let s=e.firstChild;for(let n=0;n<r.length;n++){const i=r[n],o=t.getElementByKey(i);null!==o&&(null==s?(e.appendChild(o),s=o):s!==o&&e.replaceChild(o,s),s=s.nextSibling)}}else Gr(n)&&n.markDirty();const f=n.takeRecords();if(f.length>0){for(let e=0;e<f.length;e++){const n=f[e],r=n.addedNodes,s=n.target;for(let e=0;e<r.length;e++){const n=r[e],i=n.parentNode;null==i||"BR"!==n.nodeName||Ht(n,s,t)||i.removeChild(n)}}n.takeRecords()}null!==s&&(a&&(s.dirty=!0,we(s)),Q&&Qe(t)&&s.insertRawText(u))}))}finally{Ut=!1}}function Xt(t){const e=t._observer;if(null!==e){Qt(t,e.takeRecords(),e)}}function Yt(t){!function(t){0===Vt&&rn(t).addEventListener("textInput",$t,!0)}(t),t._observer=new MutationObserver(((e,n)=>{Qt(t,e,n)}))}function Zt(t,e){const n=t.__mode,r=t.__format,s=t.__style,i=e.__mode,o=e.__format,l=e.__style;return!(null!==n&&n!==i||null!==r&&r!==o||null!==s&&s!==l)}function Gt(t,e){const n=t.mergeWithSibling(e),r=js()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n}function te(t){let e,n,r=t;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(e=r.getPreviousSibling())&&Gr(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(""!==e.__text){if(Zt(e,r)){r=Gt(e,r);break}break}e.remove()}for(;null!==(n=r.getNextSibling())&&Gr(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(Zt(r,n)){r=Gt(r,n);break}break}n.remove()}}else r.remove()}function ee(t){return ne(t.anchor),ne(t.focus),t}function ne(t){for(;"element"===t.type;){const e=t.getNode(),n=t.offset;let r,s;if(n===e.getChildrenSize()?(r=e.getChildAtIndex(n-1),s=!0):(r=e.getChildAtIndex(n),s=!1),Gr(r)){t.set(r.__key,s?r.getTextContentSize():0,"text");break}if(!li(r))break;t.set(r.__key,s?r.getChildrenSize():0,"element")}}let re=1;function se(){re=1}const ie="function"==typeof queueMicrotask?queueMicrotask:t=>{Promise.resolve().then(t)};function oe(t){const e=document.activeElement;if(null===e)return!1;const n=e.nodeName;return ui(Te(t))&&("INPUT"===n||"TEXTAREA"===n||"true"===e.contentEditable&&null==e.__lexicalEditor)}function le(t,e,n){const r=t.getRootElement();try{return null!==r&&r.contains(e)&&r.contains(n)&&null!==e&&!oe(e)&&ce(e)===t}catch(t){return!1}}function ce(t){let e=t;for(;null!=e;){const t=e.__lexicalEditor;if(null!=t)return t;e=Ge(e)}return null}function ae(t){return t.isToken()||t.isSegmented()}function ue(t){return t.nodeType===st}function fe(t){let e=t;for(;null!=e;){if(ue(e))return e;e=e.firstChild}return null}function de(t,e,n){const r=It[e];if(null!==n&&(t&r)==(n&r))return t;let s=t^r;return"subscript"===e?s&=~It.superscript:"superscript"===e&&(s&=~It.subscript),s}function he(t){return Gr(t)||Ar(t)||ui(t)}function ge(t,e){if(null!=e)return void(t.__key=e);Vs(),$s();const n=js(),r=Hs(),s=""+re++;r._nodeMap.set(s,t),li(t)?n._dirtyElements.set(s,!0):n._dirtyLeaves.add(s),n._cloneNotNeeded.add(s),n._dirtyType=ot,t.__key=s}function _e(t){const e=t.getParent();if(null!==e){const n=t.getWritable(),r=e.getWritable(),s=t.getPreviousSibling(),i=t.getNextSibling();if(null===s)if(null!==i){const t=i.getWritable();r.__first=i.__key,t.__prev=null}else r.__first=null;else{const t=s.getWritable();if(null!==i){const e=i.getWritable();e.__prev=t.__key,t.__next=e.__key}else t.__next=null;n.__prev=null}if(null===i)if(null!==s){const t=s.getWritable();r.__last=s.__key,t.__next=null}else r.__last=null;else{const t=i.getWritable();if(null!==s){const e=s.getWritable();e.__next=t.__key,t.__prev=e.__key}else t.__prev=null;n.__next=null}r.__size--,n.__parent=null}}function pe(t){$s();const e=t.getLatest(),n=e.__parent,r=Hs(),s=js(),i=r._nodeMap,o=s._dirtyElements;null!==n&&function(t,e,n){let r=t;for(;null!==r;){if(n.has(r))return;const t=e.get(r);if(void 0===t)break;n.set(r,!1),r=t.__parent}}(n,i,o);const l=e.__key;s._dirtyType=ot,li(t)?o.set(l,!0):s._dirtyLeaves.add(l)}function ye(t){Vs();const e=js(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,null!==n){const t=xe(n);null!==t&&t.getWritable()}if(null!==t){const e=xe(t);null!==e&&e.getWritable()}}}function me(){if(Us())return null;return js()._compositionKey}function xe(t,e){const n=(e||Hs())._nodeMap.get(t);return void 0===n?null:n}function ve(t,e){const n=t[`__lexicalKey_${js()._key}`];return void 0!==n?xe(n,e):null}function Te(t,e){let n=t;for(;null!=n;){const t=ve(n,e);if(null!==t)return t;n=Ge(n)}return null}function Ce(t){const e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n}function Se(t){return t.read((()=>ke().getTextContent()))}function ke(){return be(Hs())}function be(t){return t._nodeMap.get("root")}function we(t){Vs();const e=Hs();null!==t&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t}function Ne(t){const e=js(),n=function(t,e){let n=t;for(;null!=n;){const t=n[`__lexicalKey_${e._key}`];if(void 0!==t)return t;n=Ge(n)}return null}(t,e);if(null===n){return t===e.getRootElement()?xe("root"):null}return xe(n)}function Ee(t,e){return e?t.getTextContentSize():0}function Pe(t){return/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g.test(t)}function De(t){const e=[];let n=t;for(;null!==n;)e.push(n),n=n._parentEditor;return e}function Fe(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function Oe(t){return t.nodeType===st?t.nodeValue:null}function Ie(t,e,n){const r=_n(e._window);if(null===r)return;const s=r.anchorNode;let{anchorOffset:i,focusOffset:o}=r;if(null!==s){let e=Oe(s);const r=Te(s);if(null!==e&&Gr(r)){if(e===wt&&n){const t=n.length;e=n,i=t,o=t}null!==e&&Le(r,e,i,o,t)}}}function Le(t,e,n,r,s){let i=t;if(i.isAttached()&&(s||!i.isDirty())){const o=i.isComposing();let l=e;(o||s)&&e[e.length-1]===wt&&(l=e.slice(0,-1));const c=i.getTextContent();if(s||l!==c){if(""===l){if(ye(null),Y||Z||nt)i.remove();else{const t=js();setTimeout((()=>{t.update((()=>{i.isAttached()&&i.remove()}))}),20)}return}const e=i.getParent(),s=Ns(),c=i.getTextContentSize(),a=me(),u=i.getKey();if(i.isToken()||null!==a&&u===a&&!o||us(s)&&(null!==e&&!e.canInsertTextBefore()&&0===s.anchor.offset||s.anchor.key===t.__key&&0===s.anchor.offset&&!i.canInsertTextBefore()&&!o||s.focus.key===t.__key&&s.focus.offset===c&&!i.canInsertTextAfter()&&!o))return void i.markDirty();const f=ws();if(!us(f)||null===n||null===r)return void i.setTextContent(l);if(f.setTextNodeRange(i,n,i,r),i.isSegmented()){const t=Zr(i.getTextContent());i.replace(t),i=t}i.setTextContent(l)}}}function Ae(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;const n=t.anchor.offset,r=e.getParentOrThrow(),s=e.isToken();return 0===n?!e.canInsertTextBefore()||!r.canInsertTextBefore()&&!e.isComposing()||s||function(t){const e=t.getPreviousSibling();return(Gr(e)||li(e)&&e.isInline())&&!e.canInsertTextAfter()}(e):n===e.getTextContentSize()&&(!e.canInsertTextAfter()||!r.canInsertTextAfter()&&!e.isComposing()||s)}function Me(t){return"ArrowLeft"===t}function ze(t){return"ArrowRight"===t}function We(t,e){return q?t:e}function Be(t){return"Enter"===t}function Re(t){return"Backspace"===t}function Ke(t){return"Delete"===t}function Je(t,e,n){return"a"===t.toLowerCase()&&We(e,n)}function Ue(){const t=ke();we(ee(t.select(0,t.getChildrenSize())))}function Ve(t,e){void 0===t.__lexicalClassNameCache&&(t.__lexicalClassNameCache={});const n=t.__lexicalClassNameCache,r=n[e];if(void 0!==r)return r;const s=t[e];if("string"==typeof s){const t=Kt(s);return n[e]=t,t}return s}function $e(t,e,n,r,s){if(0===n.size)return;const i=r.__type,o=r.__key,l=e.get(i);void 0===l&&Rt(33,i);const c=l.klass;let a=t.get(c);void 0===a&&(a=new Map,t.set(c,a));const u=a.get(o),f="destroyed"===u&&"created"===s;(void 0===u||f)&&a.set(o,f?"updated":s)}function He(t){const e=Hs(),n=e._readOnly,r=t.getType(),s=e._nodeMap,i=[];for(const[,e]of s)e instanceof t&&e.__type===r&&(n||e.isAttached())&&i.push(e);return i}function je(t,e,n){const r=t.getParent();let s=n,i=t;return null!==r&&(e&&0===n?(s=i.getIndexWithinParent(),i=r):e||n!==i.getChildrenSize()||(s=i.getIndexWithinParent()+1,i=r)),i.getChildAtIndex(e?s-1:s)}function qe(t,e){const n=t.offset;if("element"===t.type){return je(t.getNode(),e,n)}{const r=t.getNode();if(e&&0===n||!e&&n===r.getTextContentSize()){const t=e?r.getPreviousSibling():r.getNextSibling();return null===t?je(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):t}}return null}function Qe(t){const e=rn(t).event,n=e&&e.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function Xe(t,e,n){return ni(t,e,n)}function Ye(t){return!di(t)&&!t.isLastChild()&&!t.isInline()}function Ze(t,e){const n=t._keyToDOMMap.get(e);return void 0===n&&Rt(75,e),n}function Ge(t){const e=t.assignedSlot||t.parentElement;return null!==e&&11===e.nodeType?e.host:e}function tn(t){return js()._updateTags.has(t)}function en(t){Vs();js()._updateTags.add(t)}function nn(t,e){let n=t.getParent();for(;null!==n;){if(n.is(e))return!0;n=n.getParent()}return!1}function rn(t){const e=t._window;return null===e&&Rt(78),e}function sn(t){return li(t)&&t.isInline()||ui(t)&&t.isInline()}function on(t){let e=t.getParentOrThrow();for(;null!==e;){if(ln(e))return e;e=e.getParentOrThrow()}return e}function ln(t){return di(t)||li(t)&&t.isShadowRoot()}function cn(t){const e=t.constructor.clone(t);return ge(e,null),e}function an(t){const e=js(),n=t.constructor.getType(),r=e._nodes.get(n);void 0===r&&Rt(97);const s=r.replace;if(null!==s){const e=s(t);return e instanceof t.constructor||Rt(98),e}return t}function un(t,e){!di(t.getParent())||li(e)||ui(e)||Rt(99)}function fn(t){const e=xe(t);return null===e&&Rt(63,t),e}function dn(t){return(ui(t)||li(t)&&!t.canBeEmpty())&&!t.isInline()}function hn(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=t.parentElement;null!==r&&r.removeChild(t)}function gn(t,e,n){let r=t._blockCursorElement;if(us(n)&&n.isCollapsed()&&"element"===n.anchor.type&&e.contains(document.activeElement)){const s=n.anchor,i=s.getNode(),o=s.offset;let l=!1,c=null;if(o===i.getChildrenSize()){dn(i.getChildAtIndex(o-1))&&(l=!0)}else{const e=i.getChildAtIndex(o);if(dn(e)){const n=e.getPreviousSibling();(null===n||dn(n))&&(l=!0,c=t.getElementByKey(e.__key))}}if(l){const n=t.getElementByKey(i.__key);return null===r&&(t._blockCursorElement=r=function(t){const e=t.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let r=e.blockCursor;if(void 0!==r){if("string"==typeof r){const t=Kt(r);r=e.blockCursor=t}void 0!==r&&n.classList.add(...r)}return n}(t._config)),e.style.caretColor="transparent",void(null===c?n.appendChild(r):n.insertBefore(r,c))}}null!==r&&hn(r,t,e)}function _n(t){return H?(t||window).getSelection():null}function pn(t,e){let n=t.getChildAtIndex(e);null==n&&(n=t),ln(t)&&Rt(102);const r=t=>{const e=t.getParentOrThrow(),s=ln(e),i=t!==n||s?cn(t):t;if(s)return li(t)&&li(i)||Rt(133),t.insertAfter(i),[t,i,i];{const[n,s,o]=r(e),l=t.getNextSiblings();return o.append(i,...l),[n,s,i]}},[s,i]=r(n);return[s,i]}function yn(t){return mn(t)&&"A"===t.tagName}function mn(t){return 1===t.nodeType}function xn(t){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==t.nodeName.match(e)}function vn(t){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==t.nodeName.match(e)}function Tn(t){if(di(t)||ui(t)&&!t.isInline())return!0;if(!li(t)||ln(t))return!1;const e=t.getFirstChild(),n=null===e||Ar(e)||Gr(e)||e.isInline();return!t.isInline()&&!1!==t.canBeEmpty()&&n}function Cn(t,e){let n=t;for(;null!==n&&null!==n.getParent()&&!e(n);)n=n.getParentOrThrow();return e(n)?n:null}function Sn(){return js()}function kn(t,e,n,r,s,i){let o=t.getFirstChild();for(;null!==o;){const t=o.__key;o.__parent===e&&(li(o)&&kn(o,t,n,r,s,i),n.has(t)||i.delete(t),s.push(t)),o=o.getNextSibling()}}let bn,wn,Nn,En,Pn,Dn,Fn,On,In,Ln,An="",Mn="",zn=null,Wn="",Bn=!1,Rn=!1,Kn=null;function Jn(t,e){const n=Fn.get(t);if(null!==e){const n=ir(t);n.parentNode===e&&e.removeChild(n)}if(On.has(t)||wn._keyToDOMMap.delete(t),li(n)){const t=tr(n,Fn);Un(t,0,t.length-1,null)}void 0!==n&&$e(Ln,Nn,En,n,"destroyed")}function Un(t,e,n,r){let s=e;for(;s<=n;++s){const e=t[s];void 0!==e&&Jn(e,r)}}function Vn(t,e){t.setProperty("text-align",e)}const $n="40px";function Hn(t,e){const n=bn.theme.indent;if("string"==typeof n){const r=t.classList.contains(n);e>0&&!r?t.classList.add(n):e<1&&r&&t.classList.remove(n)}const r=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||$n;t.style.setProperty("padding-inline-start",0===e?"":`calc(${e} * ${r})`)}function jn(t,e){const n=t.style;0===e?Vn(n,""):e===vt?Vn(n,"left"):e===Tt?Vn(n,"center"):e===Ct?Vn(n,"right"):e===St?Vn(n,"justify"):e===kt?Vn(n,"start"):e===bt&&Vn(n,"end")}function qn(t,e,n){const r=On.get(t);void 0===r&&Rt(60);const s=r.createDOM(bn,wn);if(function(t,e,n){const r=n._keyToDOMMap;e["__lexicalKey_"+n._key]=t,r.set(t,e)}(t,s,wn),Gr(r)?s.setAttribute("data-lexical-text","true"):ui(r)&&s.setAttribute("data-lexical-decorator","true"),li(r)){const t=r.__indent,e=r.__size;if(0!==t&&Hn(s,t),0!==e){const t=e-1;!function(t,e,n,r){const s=Mn;Mn="",Qn(t,n,0,e,r,null),Zn(n,r),Mn=s}(tr(r,On),t,r,s)}const n=r.__format;0!==n&&jn(s,n),r.isInline()||Yn(null,r,s),Ye(r)&&(An+=Nt,Wn+=Nt)}else{const e=r.getTextContent();if(ui(r)){const e=r.decorate(wn,bn);null!==e&&nr(t,e),s.contentEditable="false"}else Gr(r)&&(r.isDirectionless()||(Mn+=e));An+=e,Wn+=e}if(null!==e)if(null!=n)e.insertBefore(s,n);else{const t=e.__lexicalLineBreak;null!=t?e.insertBefore(s,t):e.appendChild(s)}return $e(Ln,Nn,En,r,"created"),s}function Qn(t,e,n,r,s,i){const o=An;An="";let l=n;for(;l<=r;++l){qn(t[l],s,i);const e=On.get(t[l]);null!==e&&null===zn&&Gr(e)&&(zn=e.getFormat())}Ye(e)&&(An+=Nt),s.__lexicalTextContent=An,An=o+An}function Xn(t,e){const n=e.get(t);return Ar(n)||ui(n)&&n.isInline()}function Yn(t,e,n){const r=null!==t&&(0===t.__size||Xn(t.__last,Fn)),s=0===e.__size||Xn(e.__last,On);if(r){if(!s){const t=n.__lexicalLineBreak;null!=t&&n.removeChild(t),n.__lexicalLineBreak=null}}else if(s){const t=document.createElement("br");n.__lexicalLineBreak=t,n.appendChild(t)}}function Zn(t,e){const n=e.__lexicalDirTextContent,r=e.__lexicalDir;if(n!==Mn||r!==Kn){const n=""===Mn,i=n?Kn:(s=Mn,Ft.test(s)?"rtl":Ot.test(s)?"ltr":null);if(i!==r){const s=e.classList,o=bn.theme;let l=null!==r?o[r]:void 0,c=null!==i?o[i]:void 0;if(void 0!==l){if("string"==typeof l){const t=Kt(l);l=o[r]=t}s.remove(...l)}if(null===i||n&&"ltr"===i)e.removeAttribute("dir");else{if(void 0!==c){if("string"==typeof c){const t=Kt(c);c=o[i]=t}void 0!==c&&s.add(...c)}e.dir=i}if(!Rn){t.getWritable().__dir=i}}Kn=i,e.__lexicalDirTextContent=Mn,e.__lexicalDir=i}var s}function Gn(t,e,n){const r=Mn;var s;Mn="",zn=null,function(t,e,n){const r=An,s=t.__size,i=e.__size;if(An="",1===s&&1===i){const r=t.__first,s=e.__first;if(r===s)er(r,n);else{const t=ir(r),e=qn(s,null,null);n.replaceChild(e,t),Jn(r,null)}const i=On.get(s);null===zn&&Gr(i)&&(zn=i.getFormat())}else{const r=tr(t,Fn),o=tr(e,On);if(0===s)0!==i&&Qn(o,e,0,i-1,n,null);else if(0===i){if(0!==s){const t=null==n.__lexicalLineBreak;Un(r,0,s-1,t?null:n),t&&(n.textContent="")}}else!function(t,e,n,r,s,i){const o=r-1,l=s-1;let c,a,u=(h=i,h.firstChild),f=0,d=0;var h;for(;f<=o&&d<=l;){const t=e[f],r=n[d];if(t===r)u=rr(er(r,i)),f++,d++;else{void 0===c&&(c=new Set(e)),void 0===a&&(a=new Set(n));const s=a.has(t),o=c.has(r);if(s)if(o){const t=Ze(wn,r);t===u?u=rr(er(r,i)):(null!=u?i.insertBefore(t,u):i.appendChild(t),er(r,i)),f++,d++}else qn(r,i,u),d++;else u=rr(ir(t)),Jn(t,i),f++}const s=On.get(r);null!==s&&null===zn&&Gr(s)&&(zn=s.getFormat())}const g=f>o,_=d>l;if(g&&!_){const e=n[l+1];Qn(n,t,d,l,i,void 0===e?null:wn.getElementByKey(e))}else _&&!g&&Un(e,f,o,i)}(e,r,o,s,i,n)}Ye(e)&&(An+=Nt);n.__lexicalTextContent=An,An=r+An}(t,e,n),Zn(e,n),vi(s=e)&&null!=zn&&zn!==s.__textFormat&&!Rn&&s.setTextFormat(zn),Mn=r,zn=null}function tr(t,e){const n=[];let r=t.__first;for(;null!==r;){const t=e.get(r);void 0===t&&Rt(101),n.push(r),r=t.__next}return n}function er(t,e){const n=Fn.get(t);let r=On.get(t);void 0!==n&&void 0!==r||Rt(61);const s=Bn||Dn.has(t)||Pn.has(t),i=Ze(wn,t);if(n===r&&!s){if(li(n)){const t=i.__lexicalTextContent;void 0!==t&&(An+=t,Wn+=t);const e=i.__lexicalDirTextContent;void 0!==e&&(Mn+=e)}else{const t=n.getTextContent();Gr(n)&&!n.isDirectionless()&&(Mn+=t),Wn+=t,An+=t}return i}if(n!==r&&s&&$e(Ln,Nn,En,r,"updated"),r.updateDOM(n,i,bn)){const n=qn(t,null,null);return null===e&&Rt(62),e.replaceChild(n,i),Jn(t,null),n}if(li(n)&&li(r)){const t=r.__indent;t!==n.__indent&&Hn(i,t);const e=r.__format;e!==n.__format&&jn(i,e),s&&(Gn(n,r,i),di(r)||r.isInline()||Yn(n,r,i)),Ye(r)&&(An+=Nt,Wn+=Nt)}else{const e=r.getTextContent();if(ui(r)){const e=r.decorate(wn,bn);null!==e&&nr(t,e)}else Gr(r)&&!r.isDirectionless()&&(Mn+=e);An+=e,Wn+=e}if(!Rn&&di(r)&&r.__cachedText!==Wn){const t=r.getWritable();t.__cachedText=Wn,r=t}return i}function nr(t,e){let n=wn._pendingDecorators;const r=wn._decorators;if(null===n){if(r[t]===e)return;n=Ce(wn)}n[t]=e}function rr(t){let e=t.nextSibling;return null!==e&&e===wn._blockCursorElement&&(e=e.nextSibling),e}function sr(t,e,n,r,s,i){An="",Wn="",Mn="",Bn=r===lt,Kn=null,wn=n,bn=n._config,Nn=n._nodes,En=wn._listeners.mutation,Pn=s,Dn=i,Fn=t._nodeMap,On=e._nodeMap,Rn=e._readOnly,In=new Map(n._keyToDOMMap);const o=new Map;return Ln=o,er("root",null),wn=void 0,Nn=void 0,Pn=void 0,Dn=void 0,Fn=void 0,On=void 0,bn=void 0,In=void 0,Ln=void 0,o}function ir(t){const e=In.get(t);return void 0===e&&Rt(75,t),e}const or=Object.freeze({}),lr=30,cr=[["keydown",function(t,e){if(ar=t.timeStamp,ur=t.key,e.isComposing())return;const{key:n,shiftKey:r,ctrlKey:o,metaKey:l,altKey:c}=t;if(Xe(e,_,t))return;if(null==n)return;if(function(t,e,n,r){return ze(t)&&!e&&!r&&!n}(n,o,c,l))Xe(e,p,t);else if(function(t,e,n,r,s){return ze(t)&&!r&&!n&&(e||s)}(n,o,r,c,l))Xe(e,y,t);else if(function(t,e,n,r){return Me(t)&&!e&&!r&&!n}(n,o,c,l))Xe(e,m,t);else if(function(t,e,n,r,s){return Me(t)&&!r&&!n&&(e||s)}(n,o,r,c,l))Xe(e,x,t);else if(function(t,e,n){return function(t){return"ArrowUp"===t}(t)&&!e&&!n}(n,o,l))Xe(e,v,t);else if(function(t,e,n){return function(t){return"ArrowDown"===t}(t)&&!e&&!n}(n,o,l))Xe(e,T,t);else if(function(t,e){return Be(t)&&e}(n,r))pr=!0,Xe(e,C,t);else if(function(t){return" "===t}(n))Xe(e,S,t);else if(function(t,e){return q&&e&&"o"===t.toLowerCase()}(n,o))t.preventDefault(),pr=!0,Xe(e,i,!0);else if(function(t,e){return Be(t)&&!e}(n,r))pr=!1,Xe(e,C,t);else if(function(t,e,n,r){return q?!e&&!n&&(Re(t)||"h"===t.toLowerCase()&&r):!(r||e||n)&&Re(t)}(n,c,l,o))Re(n)?Xe(e,k,t):(t.preventDefault(),Xe(e,s,!0));else if(function(t){return"Escape"===t}(n))Xe(e,b,t);else if(function(t,e,n,r,s){return q?!(n||r||s)&&(Ke(t)||"d"===t.toLowerCase()&&e):!(e||r||s)&&Ke(t)}(n,o,r,c,l))Ke(n)?Xe(e,w,t):(t.preventDefault(),Xe(e,s,!1));else if(function(t,e,n){return Re(t)&&(q?e:n)}(n,c,o))t.preventDefault(),Xe(e,u,!0);else if(function(t,e,n){return Ke(t)&&(q?e:n)}(n,c,o))t.preventDefault(),Xe(e,u,!1);else if(function(t,e){return q&&e&&Re(t)}(n,l))t.preventDefault(),Xe(e,f,!0);else if(function(t,e){return q&&e&&Ke(t)}(n,l))t.preventDefault(),Xe(e,f,!1);else if(function(t,e,n,r){return"b"===t.toLowerCase()&&!e&&We(n,r)}(n,c,l,o))t.preventDefault(),Xe(e,d,"bold");else if(function(t,e,n,r){return"u"===t.toLowerCase()&&!e&&We(n,r)}(n,c,l,o))t.preventDefault(),Xe(e,d,"underline");else if(function(t,e,n,r){return"i"===t.toLowerCase()&&!e&&We(n,r)}(n,c,l,o))t.preventDefault(),Xe(e,d,"italic");else if(function(t,e,n,r){return"Tab"===t&&!e&&!n&&!r}(n,c,o,l))Xe(e,N,t);else if(function(t,e,n,r){return"z"===t.toLowerCase()&&!e&&We(n,r)}(n,r,l,o))t.preventDefault(),Xe(e,h,void 0);else if(function(t,e,n,r){return q?"z"===t.toLowerCase()&&n&&e:"y"===t.toLowerCase()&&r||"z"===t.toLowerCase()&&r&&e}(n,r,l,o))t.preventDefault(),Xe(e,g,void 0);else{ds(e._editorState._selection)?!function(t,e,n,r){return!e&&"c"===t.toLowerCase()&&(q?n:r)}(n,r,l,o)?!function(t,e,n,r){return!e&&"x"===t.toLowerCase()&&(q?n:r)}(n,r,l,o)?Je(n,l,o)&&(t.preventDefault(),Xe(e,W,t)):(t.preventDefault(),Xe(e,z,t)):(t.preventDefault(),Xe(e,M,t)):!Q&&Je(n,l,o)&&(t.preventDefault(),Xe(e,W,t))}(function(t,e,n,r){return t||e||n||r})(o,r,c,l)&&Xe(e,$,t)}],["pointerdown",function(t,e){const n=t.target,r=t.pointerType;n instanceof Node&&"touch"!==r&&ii(e,(()=>{ui(Te(n))||(_r=!0)}))}],["compositionstart",function(t,e){ii(e,(()=>{const n=ws();if(us(n)&&!e.isComposing()){const r=n.anchor,s=n.anchor.getNode();ye(r.key),(t.timeStamp<ar+lr||"element"===r.type||!n.isCollapsed()||s.getFormat()!==n.format||Gr(s)&&s.getStyle()!==n.style)&&Xe(e,l,Et)}}))}],["compositionend",function(t,e){Q?yr=!0:ii(e,(()=>{Sr(e,t.data)}))}],["input",function(t,e){t.stopPropagation(),ii(e,(()=>{const n=ws(),r=t.data,s=Cr(t);if(null!=r&&us(n)&&xr(n,s,r,t.timeStamp,!1)){yr&&(Sr(e,r),yr=!1);const s=n.anchor.getNode(),i=_n(e._window);if(null===i)return;const o=n.isBackward(),c=o?n.anchor.offset:n.focus.offset,a=o?n.focus.offset:n.anchor.offset;X&&!n.isCollapsed()&&Gr(s)&&null!==i.anchorNode&&s.getTextContent().slice(0,c)+r+s.getTextContent().slice(c+a)===Oe(i.anchorNode)||Xe(e,l,r);const u=r.length;Q&&u>1&&"insertCompositionText"===t.inputType&&!e.isComposing()&&(n.anchor.offset-=u),Y||Z||nt||!e.isComposing()||(ar=0,ye(null))}else{Ie(!1,e,null!==r?r:void 0),yr&&(Sr(e,r||void 0),yr=!1)}Vs(),Xt(js())})),dr=null}],["click",function(t,e){ii(e,(()=>{const n=ws(),s=_n(e._window),i=Ns();if(s)if(us(n)){const e=n.anchor,r=e.getNode();if("element"===e.type&&0===e.offset&&n.isCollapsed()&&!di(r)&&1===ke().getChildrenSize()&&r.getTopLevelElementOrThrow().isEmpty()&&null!==i&&n.is(i))s.removeAllRanges(),n.dirty=!0;else if(3===t.detail&&!n.isCollapsed()){r!==n.focus.getNode()&&(li(r)?r.select(0):r.getParentOrThrow().select(0))}}else if("touch"===t.pointerType){const n=s.anchorNode;if(null!==n){const r=n.nodeType;if(r===rt||r===st){we(bs(i,s,e,t))}}}Xe(e,r,t)}))}],["cut",or],["copy",or],["dragstart",or],["dragover",or],["dragend",or],["paste",or],["focus",or],["blur",or],["drop",or]];X&&cr.push(["beforeinput",(t,e)=>function(t,e){const n=t.inputType,r=Cr(t);if("deleteCompositionText"===n||Q&&Qe(e))return;if("insertCompositionText"===n)return;ii(e,(()=>{const _=ws();if("deleteContentBackward"===n){if(null===_){const t=Ns();if(!us(t))return;we(t.clone())}if(us(_)){const n=_.anchor.key===_.focus.key;if(p=t.timeStamp,"MediaLast"===ur&&p<ar+lr&&e.isComposing()&&n){if(ye(null),ar=0,setTimeout((()=>{ii(e,(()=>{ye(null)}))}),lr),us(_)){const t=_.anchor.getNode();t.markDirty(),_.format=t.getFormat(),Gr(t)||Rt(142),_.style=t.getStyle()}}else{ye(null),t.preventDefault();const r=_.anchor.getNode().getTextContent(),i=0===_.anchor.offset&&_.focus.offset===r.length;et&&n&&!i||Xe(e,s,!0)}return}}var p;if(!us(_))return;const y=t.data;null!==dr&&Ie(!1,e,dr),_.dirty&&null===dr||!_.isCollapsed()||di(_.anchor.getNode())||null===r||_.applyDOMRange(r),dr=null;const m=_.anchor,x=_.focus,v=m.getNode(),T=x.getNode();if("insertText"!==n&&"insertTranspose"!==n)switch(t.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Xe(e,l,t);break;case"insertFromComposition":ye(null),Xe(e,l,t);break;case"insertLineBreak":ye(null),Xe(e,i,!1);break;case"insertParagraph":ye(null),pr&&!Z?(pr=!1,Xe(e,i,!1)):Xe(e,o,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Xe(e,c,t);break;case"deleteByComposition":(function(t,e){return t!==e||li(t)||li(e)||!t.isToken()||!e.isToken()})(v,T)&&Xe(e,a,t);break;case"deleteByDrag":case"deleteByCut":Xe(e,a,t);break;case"deleteContent":Xe(e,s,!1);break;case"deleteWordBackward":Xe(e,u,!0);break;case"deleteWordForward":Xe(e,u,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Xe(e,f,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Xe(e,f,!1);break;case"formatStrikeThrough":Xe(e,d,"strikethrough");break;case"formatBold":Xe(e,d,"bold");break;case"formatItalic":Xe(e,d,"italic");break;case"formatUnderline":Xe(e,d,"underline");break;case"historyUndo":Xe(e,h,void 0);break;case"historyRedo":Xe(e,g,void 0)}else{if("\\n"===y)t.preventDefault(),Xe(e,i,!1);else if(y===Nt)t.preventDefault(),Xe(e,o,void 0);else if(null==y&&t.dataTransfer){const e=t.dataTransfer.getData("text/plain");t.preventDefault(),_.insertRawText(e)}else null!=y&&xr(_,r,y,t.timeStamp,!0)?(t.preventDefault(),Xe(e,l,y)):dr=y;fr=t.timeStamp}}))}(t,e)]);let ar=0,ur=null,fr=0,dr=null;const hr=new WeakMap;let gr=!1,_r=!1,pr=!1,yr=!1,mr=[0,"",0,"root",0];function xr(t,e,n,r,s){const i=t.anchor,o=t.focus,l=i.getNode(),c=js(),a=_n(c._window),u=null!==a?a.anchorNode:null,f=i.key,d=c.getElementByKey(f),h=n.length;return f!==o.key||!Gr(l)||(!s&&(!X||fr<r+50)||l.isDirty()&&h<2||Pe(n))&&i.offset!==o.offset&&!l.isComposing()||ae(l)||l.isDirty()&&h>1||(s||!X)&&null!==d&&!l.isComposing()&&u!==fe(d)||null!==a&&null!==e&&(!e.collapsed||e.startContainer!==a.anchorNode||e.startOffset!==a.anchorOffset)||l.getFormat()!==t.format||l.getStyle()!==t.style||Ae(t,l)}function vr(t,e){return null!==t&&null!==t.nodeValue&&t.nodeType===st&&0!==e&&e!==t.nodeValue.length}function Tr(t,n,r){const{anchorNode:s,anchorOffset:i,focusNode:o,focusOffset:l}=t;gr&&(gr=!1,vr(s,i)&&vr(o,l))||ii(n,(()=>{if(!r)return void we(null);if(!le(n,s,o))return;const c=ws();if(us(c)){const e=c.anchor,r=e.getNode();if(c.isCollapsed()){"Range"===t.type&&t.anchorNode===t.focusNode&&(c.dirty=!0);const s=rn(n).event,i=s?s.timeStamp:performance.now(),[o,l,a,u,f]=mr,d=ke(),h=!1===n.isComposing()&&""===d.getTextContent();if(i<f+200&&e.offset===a&&e.key===u)c.format=o,c.style=l;else if("text"===e.type)Gr(r)||Rt(141),c.format=r.getFormat(),c.style=r.getStyle();else if("element"===e.type&&!h){const t=e.getNode();t instanceof yi&&0===t.getChildrenSize()?c.format=t.getTextFormat():c.format=0,c.style=""}}else{const t=e.key,n=c.focus.key,r=c.getNodes(),s=r.length,o=c.isBackward(),a=o?l:i,u=o?i:l,f=o?n:t,d=o?t:n;let h=xt,g=!1;for(let t=0;t<s;t++){const e=r[t],n=e.getTextContentSize();if(Gr(e)&&0!==n&&!(0===t&&e.__key===f&&a===n||t===s-1&&e.__key===d&&0===u)&&(g=!0,h&=e.getFormat(),0===h))break}c.format=g?h:0}}Xe(n,e,void 0)}))}function Cr(t){if(!t.getTargetRanges)return null;const e=t.getTargetRanges();return 0===e.length?null:e[0]}function Sr(t,e){const n=t._compositionKey;if(ye(null),null!==n&&null!=e){if(""===e){const e=xe(n),r=fe(t.getElementByKey(n));return void(null!==r&&null!==r.nodeValue&&Gr(e)&&Le(e,r.nodeValue,null,null,!0))}if("\\n"===e[e.length-1]){const e=ws();if(us(e)){const n=e.focus;return e.anchor.set(n.key,n.offset,n.type),void Xe(t,C,null)}}}Ie(!0,t,e)}function kr(t){let e=t.__lexicalEventHandles;return void 0===e&&(e=[],t.__lexicalEventHandles=e),e}const br=new Map;function wr(t){const e=t.target,n=_n(null==e?null:9===e.nodeType?e.defaultView:e.ownerDocument.defaultView);if(null===n)return;const r=ce(n.anchorNode);if(null===r)return;_r&&(_r=!1,ii(r,(()=>{const e=Ns(),s=n.anchorNode;if(null===s)return;const i=s.nodeType;if(i!==rt&&i!==st)return;we(bs(e,n,r,t))})));const s=De(r),i=s[s.length-1],o=i._key,l=br.get(o),c=l||i;c!==r&&Tr(n,c,!1),Tr(n,r,!0),r!==i?br.set(o,r):l&&br.delete(o)}function Nr(t){t._lexicalHandled=!0}function Er(t){return!0===t._lexicalHandled}function Pr(t){const e=t.ownerDocument,n=hr.get(e);void 0===n&&Rt(162);const r=n-1;r>=0||Rt(164),hr.set(e,r),0===r&&e.removeEventListener("selectionchange",wr);const s=t.__lexicalEditor;null!=s&&(!function(t){if(null!==t._parentEditor){const e=De(t),n=e[e.length-1]._key;br.get(n)===t&&br.delete(n)}else br.delete(t._key)}(s),t.__lexicalEditor=null);const i=kr(t);for(let t=0;t<i.length;t++)i[t]();t.__lexicalEventHandles=[]}function Dr(t,e,n){Vs();const r=t.__key,s=t.getParent();if(null===s)return;const i=function(t){const e=ws();if(!us(e)||!li(t))return e;const{anchor:n,focus:r}=e,s=n.getNode(),i=r.getNode();return nn(s,t)&&n.set(t.__key,0,"element"),nn(i,t)&&r.set(t.__key,0,"element"),e}(t);let o=!1;if(us(i)&&e){const e=i.anchor,n=i.focus;e.key===r&&(Ds(e,t,s,t.getPreviousSibling(),t.getNextSibling()),o=!0),n.key===r&&(Ds(n,t,s,t.getPreviousSibling(),t.getNextSibling()),o=!0)}else ds(i)&&e&&t.isSelected()&&t.selectPrevious();if(us(i)&&e&&!o){const e=t.getIndexWithinParent();_e(t),Es(i,s,e,-1)}else _e(t);n||ln(s)||s.canBeEmpty()||!s.isEmpty()||Dr(s,e),e&&di(s)&&s.isEmpty()&&s.selectEnd()}class Fr{static getType(){Rt(64,this.name)}static clone(t){Rt(65,this.name)}constructor(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,ge(this,t)}getType(){return this.__type}isInline(){Rt(137,this.constructor.name)}isAttached(){let t=this.__key;for(;null!==t;){if("root"===t)return!0;const e=xe(t);if(null===e)break;t=e.__parent}return!1}isSelected(t){const e=t||ws();if(null==e)return!1;const n=e.getNodes().some((t=>t.__key===this.__key));return(Gr(this)||!us(e)||"element"!==e.anchor.type||"element"!==e.focus.type||e.anchor.key!==e.focus.key||e.anchor.offset!==e.focus.offset)&&n}getKey(){return this.__key}getIndexWithinParent(){const t=this.getParent();if(null===t)return-1;let e=t.getFirstChild(),n=0;for(;null!==e;){if(this.is(e))return n;n++,e=e.getNextSibling()}return-1}getParent(){const t=this.getLatest().__parent;return null===t?null:xe(t)}getParentOrThrow(){const t=this.getParent();return null===t&&Rt(66,this.__key),t}getTopLevelElement(){let t=this;for(;null!==t;){const e=t.getParent();if(ln(e))return li(t)||Rt(138),t;t=e}return null}getTopLevelElementOrThrow(){const t=this.getTopLevelElement();return null===t&&Rt(67,this.__key),t}getParents(){const t=[];let e=this.getParent();for(;null!==e;)t.push(e),e=e.getParent();return t}getParentKeys(){const t=[];let e=this.getParent();for(;null!==e;)t.push(e.__key),e=e.getParent();return t}getPreviousSibling(){const t=this.getLatest().__prev;return null===t?null:xe(t)}getPreviousSiblings(){const t=[],e=this.getParent();if(null===e)return t;let n=e.getFirstChild();for(;null!==n&&!n.is(this);)t.push(n),n=n.getNextSibling();return t}getNextSibling(){const t=this.getLatest().__next;return null===t?null:xe(t)}getNextSiblings(){const t=[];let e=this.getNextSibling();for(;null!==e;)t.push(e),e=e.getNextSibling();return t}getCommonAncestor(t){const e=this.getParents(),n=t.getParents();li(this)&&e.unshift(this),li(t)&&n.unshift(t);const r=e.length,s=n.length;if(0===r||0===s||e[r-1]!==n[s-1])return null;const i=new Set(n);for(let t=0;t<r;t++){const n=e[t];if(i.has(n))return n}return null}is(t){return null!=t&&this.__key===t.__key}isBefore(t){if(this===t)return!1;if(t.isParentOf(this))return!0;if(this.isParentOf(t))return!1;const e=this.getCommonAncestor(t);let n=0,r=0,s=this;for(;;){const t=s.getParentOrThrow();if(t===e){n=s.getIndexWithinParent();break}s=t}for(s=t;;){const t=s.getParentOrThrow();if(t===e){r=s.getIndexWithinParent();break}s=t}return n<r}isParentOf(t){const e=this.__key;if(e===t.__key)return!1;let n=t;for(;null!==n;){if(n.__key===e)return!0;n=n.getParent()}return!1}getNodesBetween(t){const e=this.isBefore(t),n=[],r=new Set;let s=this;for(;null!==s;){const i=s.__key;if(r.has(i)||(r.add(i),n.push(s)),s===t)break;const o=li(s)?e?s.getFirstChild():s.getLastChild():null;if(null!==o){s=o;continue}const l=e?s.getNextSibling():s.getPreviousSibling();if(null!==l){s=l;continue}const c=s.getParentOrThrow();if(r.has(c.__key)||n.push(c),c===t)break;let a=null,u=c;do{if(null===u&&Rt(68),a=e?u.getNextSibling():u.getPreviousSibling(),u=u.getParent(),null===u)break;null!==a||r.has(u.__key)||n.push(u)}while(null===a);s=a}return e||n.reverse(),n}isDirty(){const t=js()._dirtyLeaves;return null!==t&&t.has(this.__key)}getLatest(){const t=xe(this.__key);return null===t&&Rt(113),t}getWritable(){Vs();const t=Hs(),e=js(),n=t._nodeMap,r=this.__key,s=this.getLatest(),i=s.__parent,o=e._cloneNotNeeded,l=ws();if(null!==l&&l.setCachedNodes(null),o.has(r))return pe(s),s;const c=s.constructor.clone(s);return c.__parent=i,c.__next=s.__next,c.__prev=s.__prev,li(s)&&li(c)?(vi(s)&&vi(c)&&(c.__textFormat=s.__textFormat),c.__first=s.__first,c.__last=s.__last,c.__size=s.__size,c.__indent=s.__indent,c.__format=s.__format,c.__dir=s.__dir):Gr(s)&&Gr(c)&&(c.__format=s.__format,c.__style=s.__style,c.__mode=s.__mode,c.__detail=s.__detail),o.add(r),c.__key=r,pe(c),n.set(r,c),c}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(t,e){Rt(70)}updateDOM(t,e,n){Rt(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){Rt(72)}static importJSON(t){Rt(18,this.name)}static transform(){return null}remove(t){Dr(this,!0,t)}replace(t,e){Vs();let n=ws();null!==n&&(n=n.clone()),un(this,t);const r=this.getLatest(),s=this.__key,i=t.__key,o=t.getWritable(),l=this.getParentOrThrow().getWritable(),c=l.__size;_e(o);const a=r.getPreviousSibling(),u=r.getNextSibling(),f=r.__prev,d=r.__next,h=r.__parent;if(Dr(r,!1,!0),null===a)l.__first=i;else{a.getWritable().__next=i}if(o.__prev=f,null===u)l.__last=i;else{u.getWritable().__prev=i}if(o.__next=d,o.__parent=h,l.__size=c,e&&(li(this)&&li(o)||Rt(139),this.getChildren().forEach((t=>{o.append(t)}))),us(n)){we(n);const t=n.anchor,e=n.focus;t.key===s&&ls(t,o),e.key===s&&ls(e,o)}return me()===s&&ye(i),o}insertAfter(t,e=!0){Vs(),un(this,t);const n=this.getWritable(),r=t.getWritable(),s=r.getParent(),i=ws();let o=!1,l=!1;if(null!==s){const e=t.getIndexWithinParent();if(_e(r),us(i)){const t=s.__key,n=i.anchor,r=i.focus;o="element"===n.type&&n.key===t&&n.offset===e+1,l="element"===r.type&&r.key===t&&r.offset===e+1}}const c=this.getNextSibling(),a=this.getParentOrThrow().getWritable(),u=r.__key,f=n.__next;if(null===c)a.__last=u;else{c.getWritable().__prev=u}if(a.__size++,n.__next=u,r.__next=f,r.__prev=n.__key,r.__parent=n.__parent,e&&us(i)){const t=this.getIndexWithinParent();Es(i,a,t+1);const e=a.__key;o&&i.anchor.set(e,t+2,"element"),l&&i.focus.set(e,t+2,"element")}return t}insertBefore(t,e=!0){Vs(),un(this,t);const n=this.getWritable(),r=t.getWritable(),s=r.__key;_e(r);const i=this.getPreviousSibling(),o=this.getParentOrThrow().getWritable(),l=n.__prev,c=this.getIndexWithinParent();if(null===i)o.__first=s;else{i.getWritable().__next=s}o.__size++,n.__prev=s,r.__prev=l,r.__next=n.__key,r.__parent=n.__parent;const a=ws();if(e&&us(a)){Es(a,this.getParentOrThrow(),c)}return t}isParentRequired(){return!1}createParentElementNode(){return xi()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(t,e){Vs();const n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(li(n))return n.select();if(!Gr(n)){const t=n.getIndexWithinParent()+1;return r.select(t,t)}return n.select(t,e)}selectNext(t,e){Vs();const n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(li(n))return n.select(0,0);if(!Gr(n)){const t=n.getIndexWithinParent();return r.select(t,t)}return n.select(t,e)}markDirty(){this.getWritable()}}class Or extends Fr{static getType(){return"linebreak"}static clone(t){return new Or(t.__key)}constructor(t){super(t)}getTextContent(){return"\\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:t=>function(t){const e=t.parentElement;if(null!==e){const n=e.firstChild;if(n===t||n.nextSibling===t&&Mr(n)){const n=e.lastChild;if(n===t||n.previousSibling===t&&Mr(n))return!0}}return!1}(t)?null:{conversion:Ir,priority:0}}}static importJSON(t){return Lr()}exportJSON(){return{type:"linebreak",version:1}}}function Ir(t){return{node:Lr()}}function Lr(){return an(new Or)}function Ar(t){return t instanceof Or}function Mr(t){return t.nodeType===st&&/^( |\\t|\\r?\\n)+$/.test(t.textContent||"")}function zr(t,e){return 16&e?"code":e&mt?"mark":32&e?"sub":64&e?"sup":null}function Wr(t,e){return 1&e?"strong":2&e?"em":"span"}function Br(t,e,n,r,s){const i=r.classList;let o=Ve(s,"base");void 0!==o&&i.add(...o),o=Ve(s,"underlineStrikethrough");let l=!1;const c=e&gt&&e&ht;void 0!==o&&(n&gt&&n&ht?(l=!0,c||i.add(...o)):c&&i.remove(...o));for(const t in It){const r=It[t];if(o=Ve(s,t),void 0!==o)if(n&r){if(l&&("underline"===t||"strikethrough"===t)){e&r&&i.remove(...o);continue}e&r&&(!c||"underline"!==t)&&"strikethrough"!==t||i.add(...o)}else e&r&&i.remove(...o)}}function Rr(t,e,n){const r=e.firstChild,s=n.isComposing(),i=t+(s?wt:"");if(null==r)e.textContent=i;else{const t=r.nodeValue;if(t!==i)if(s||Q){const[e,n,s]=function(t,e){const n=t.length,r=e.length;let s=0,i=0;for(;s<n&&s<r&&t[s]===e[s];)s++;for(;i+s<n&&i+s<r&&t[n-i-1]===e[r-i-1];)i++;return[s,n-s-i,e.slice(s,r-i)]}(t,i);0!==n&&r.deleteData(e,n),r.insertData(e,s)}else r.nodeValue=i}}function Kr(t,e,n,r,s,i){Rr(s,t,e);const o=i.theme.text;void 0!==o&&Br(0,0,r,t,o)}function Jr(t,e){const n=document.createElement(e);return n.appendChild(t),n}class Ur extends Fr{static getType(){return"text"}static clone(t){return new Ur(t.__text,t.__key)}constructor(t,e){super(e),this.__text=t,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const t=this.getLatest();return Wt[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===me()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(t){const e=It[t];return!!(this.getFormat()&e)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(t,e){return de(this.getLatest().__format,t,e)}canHaveFormat(){return!0}createDOM(t,e){const n=this.__format,r=zr(0,n),s=Wr(0,n),i=null===r?s:r,o=document.createElement(i);let l=o;this.hasFormat("code")&&o.setAttribute("spellcheck","false"),null!==r&&(l=document.createElement(s),o.appendChild(l));Kr(l,this,0,n,this.__text,t);const c=this.__style;return""!==c&&(o.style.cssText=c),o}updateDOM(t,e,n){const r=this.__text,s=t.__format,i=this.__format,o=zr(0,s),l=zr(0,i),c=Wr(0,s),a=Wr(0,i);if((null===o?c:o)!==(null===l?a:l))return!0;if(o===l&&c!==a){const t=e.firstChild;null==t&&Rt(48);const s=document.createElement(a);return Kr(s,this,0,i,r,n),e.replaceChild(s,t),!1}let u=e;null!==l&&null!==o&&(u=e.firstChild,null==u&&Rt(49)),Rr(r,u,this);const f=n.theme.text;void 0!==f&&s!==i&&Br(0,s,i,u,f);const d=t.__style,h=this.__style;return d!==h&&(e.style.cssText=h),!1}static importDOM(){return{"#text":()=>({conversion:qr,priority:0}),b:()=>({conversion:$r,priority:0}),code:()=>({conversion:Yr,priority:0}),em:()=>({conversion:Yr,priority:0}),i:()=>({conversion:Yr,priority:0}),s:()=>({conversion:Yr,priority:0}),span:()=>({conversion:Vr,priority:0}),strong:()=>({conversion:Yr,priority:0}),sub:()=>({conversion:Yr,priority:0}),sup:()=>({conversion:Yr,priority:0}),u:()=>({conversion:Yr,priority:0})}}static importJSON(t){const e=Zr(t.text);return e.setFormat(t.format),e.setDetail(t.detail),e.setMode(t.mode),e.setStyle(t.style),e}exportDOM(t){let{element:e}=super.exportDOM(t);return null!==e&&mn(e)||Rt(132),e.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(e=Jr(e,"b")),this.hasFormat("italic")&&(e=Jr(e,"i")),this.hasFormat("strikethrough")&&(e=Jr(e,"s")),this.hasFormat("underline")&&(e=Jr(e,"u")),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(t,e){}setFormat(t){const e=this.getWritable();return e.__format="string"==typeof t?It[t]:t,e}setDetail(t){const e=this.getWritable();return e.__detail="string"==typeof t?Lt[t]:t,e}setStyle(t){const e=this.getWritable();return e.__style=t,e}toggleFormat(t){const e=de(this.getFormat(),t,null);return this.setFormat(e)}toggleDirectionless(){const t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){const t=this.getWritable();return t.__detail^=2,t}setMode(t){const e=zt[t];if(this.__mode===e)return this;const n=this.getWritable();return n.__mode=e,n}setTextContent(t){if(this.__text===t)return this;const e=this.getWritable();return e.__text=t,e}select(t,e){Vs();let n=t,r=e;const s=ws(),i=this.getTextContent(),o=this.__key;if("string"==typeof i){const t=i.length;void 0===n&&(n=t),void 0===r&&(r=t)}else n=0,r=0;if(!us(s))return Ts(o,n,o,r,"text","text");{const t=me();t!==s.anchor.key&&t!==s.focus.key||ye(o),s.setTextNodeRange(this,n,this,r)}return s}selectStart(){return this.select(0,0)}selectEnd(){const t=this.getTextContentSize();return this.select(t,t)}spliceText(t,e,n,r){const s=this.getWritable(),i=s.__text,o=n.length;let l=t;l<0&&(l=o+l,l<0&&(l=0));const c=ws();if(r&&us(c)){const e=t+o;c.setTextNodeRange(s,e,s,e)}const a=i.slice(0,l)+n+i.slice(l+e);return s.__text=a,s}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...t){Vs();const e=this.getLatest(),n=e.getTextContent(),r=e.__key,s=me(),i=new Set(t),o=[],l=n.length;let c="";for(let t=0;t<l;t++)""!==c&&i.has(t)&&(o.push(c),c=""),c+=n[t];""!==c&&o.push(c);const a=o.length;if(0===a)return[];if(o[0]===n)return[e];const u=o[0],f=e.getParentOrThrow();let d;const h=e.getFormat(),g=e.getStyle(),_=e.__detail;let p=!1;e.isSegmented()?(d=Zr(u),d.__format=h,d.__style=g,d.__detail=_,p=!0):(d=e.getWritable(),d.__text=u);const y=ws(),m=[d];let x=u.length;for(let t=1;t<a;t++){const e=o[t],n=e.length,i=Zr(e).getWritable();i.__format=h,i.__style=g,i.__detail=_;const l=i.__key,c=x+n;if(us(y)){const t=y.anchor,e=y.focus;t.key===r&&"text"===t.type&&t.offset>x&&t.offset<=c&&(t.key=l,t.offset-=x,y.dirty=!0),e.key===r&&"text"===e.type&&e.offset>x&&e.offset<=c&&(e.key=l,e.offset-=x,y.dirty=!0)}s===r&&ye(l),x=c,m.push(i)}!function(t){const e=t.getPreviousSibling(),n=t.getNextSibling();null!==e&&pe(e),null!==n&&pe(n)}(this);const v=f.getWritable(),T=this.getIndexWithinParent();return p?(v.splice(T,0,m),this.remove()):v.splice(T,1,m),us(y)&&Es(y,f,T,a-1),m}mergeWithSibling(t){const e=t===this.getPreviousSibling();e||t===this.getNextSibling()||Rt(50);const n=this.__key,r=t.__key,s=this.__text,i=s.length;me()===r&&ye(n);const o=ws();if(us(o)){const s=o.anchor,l=o.focus;null!==s&&s.key===r&&(Fs(s,e,n,t,i),o.dirty=!0),null!==l&&l.key===r&&(Fs(l,e,n,t,i),o.dirty=!0)}const l=t.__text,c=e?l+s:s+l;this.setTextContent(c);const a=this.getWritable();return t.remove(),a}isTextEntity(){return!1}}function Vr(t){return{forChild:ts(t.style),node:null}}function $r(t){const e=t,n="normal"===e.style.fontWeight;return{forChild:ts(e.style,n?void 0:"bold"),node:null}}const Hr=new WeakMap;function jr(t){return"PRE"===t.nodeName||t.nodeType===rt&&void 0!==t.style&&void 0!==t.style.whiteSpace&&t.style.whiteSpace.startsWith("pre")}function qr(t){const e=t;null===t.parentElement&&Rt(129);let n=e.textContent||"";if(null!==function(t){let e,n=t.parentNode;const r=[t];for(;null!==n&&void 0===(e=Hr.get(n))&&!jr(n);)r.push(n),n=n.parentNode;const s=void 0===e?n:e;for(let t=0;t<r.length;t++)Hr.set(r[t],s);return s}(e)){const t=n.split(/(\\r?\\n|\\t)/),e=[],r=t.length;for(let n=0;n<r;n++){const r=t[n];"\\n"===r||"\\r\\n"===r?e.push(Lr()):"\\t"===r?e.push(ns()):""!==r&&e.push(Zr(r))}return{node:e}}if(n=n.replace(/\\r/g,"").replace(/[ \\t\\n]+/g," "),""===n)return{node:null};if(" "===n[0]){let t=e,r=!0;for(;null!==t&&null!==(t=Qr(t,!1));){const e=t.textContent||"";if(e.length>0){/[ \\t\\n]$/.test(e)&&(n=n.slice(1)),r=!1;break}}r&&(n=n.slice(1))}if(" "===n[n.length-1]){let t=e,r=!0;for(;null!==t&&null!==(t=Qr(t,!0));){if((t.textContent||"").replace(/^( |\\t|\\r?\\n)+/,"").length>0){r=!1;break}}r&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:Zr(n)}}function Qr(t,e){let n=t;for(;;){let t;for(;null===(t=e?n.nextSibling:n.previousSibling);){const t=n.parentElement;if(null===t)return null;n=t}if(n=t,n.nodeType===rt){const t=n.style.display;if(""===t&&!xn(n)||""!==t&&!t.startsWith("inline"))return null}let r=n;for(;null!==(r=e?n.firstChild:n.lastChild);)n=r;if(n.nodeType===st)return n;if("BR"===n.nodeName)return null}}const Xr={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Yr(t){const e=Xr[t.nodeName.toLowerCase()];return void 0===e?{node:null}:{forChild:ts(t.style,e),node:null}}function Zr(t=""){return an(new Ur(t))}function Gr(t){return t instanceof Ur}function ts(t,e){const n=t.fontWeight,r=t.textDecoration.split(" "),s="700"===n||"bold"===n,i=r.includes("line-through"),o="italic"===t.fontStyle,l=r.includes("underline"),c=t.verticalAlign;return t=>Gr(t)?(s&&!t.hasFormat("bold")&&t.toggleFormat("bold"),i&&!t.hasFormat("strikethrough")&&t.toggleFormat("strikethrough"),o&&!t.hasFormat("italic")&&t.toggleFormat("italic"),l&&!t.hasFormat("underline")&&t.toggleFormat("underline"),"sub"!==c||t.hasFormat("subscript")||t.toggleFormat("subscript"),"super"!==c||t.hasFormat("superscript")||t.toggleFormat("superscript"),e&&!t.hasFormat(e)&&t.toggleFormat(e),t):t}class es extends Ur{static getType(){return"tab"}static clone(t){const e=new es(t.__key);return e.__text=t.__text,e.__format=t.__format,e.__style=t.__style,e}constructor(t){super("\\t",t),this.__detail=2}static importDOM(){return null}static importJSON(t){const e=ns();return e.setFormat(t.format),e.setStyle(t.style),e}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(t){Rt(126)}setDetail(t){Rt(127)}setMode(t){Rt(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function ns(){return an(new es)}function rs(t){return t instanceof es}class ss{constructor(t,e,n){this._selection=null,this.key=t,this.offset=e,this.type=n}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){let e=this.getNode(),n=t.getNode();const r=this.offset,s=t.offset;if(li(e)){const t=e.getDescendantByIndex(r);e=null!=t?t:e}if(li(n)){const t=n.getDescendantByIndex(s);n=null!=t?t:n}return e===n?r<s:e.isBefore(n)}getNode(){const t=xe(this.key);return null===t&&Rt(20),t}set(t,e,n){const r=this._selection,s=this.key;this.key=t,this.offset=e,this.type=n,Us()||(me()===s&&ye(t),null!==r&&(r.setCachedNodes(null),r.dirty=!0))}}function is(t,e,n){return new ss(t,e,n)}function os(t,e){let n=e.__key,r=t.offset,s="element";if(Gr(e)){s="text";const t=e.getTextContentSize();r>t&&(r=t)}else if(!li(e)){const t=e.getNextSibling();if(Gr(t))n=t.__key,r=0,s="text";else{const t=e.getParent();t&&(n=t.__key,r=e.getIndexWithinParent()+1)}}t.set(n,r,s)}function ls(t,e){if(li(e)){const n=e.getLastDescendant();li(n)||Gr(n)?os(t,n):os(t,e)}else os(t,e)}function cs(t,e,n,r){t.key=e,t.offset=n,t.type=r}class as{constructor(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){if(!ds(t))return!1;const e=this._nodes,n=t._nodes;return e.size===n.size&&Array.from(e).every((t=>n.has(t)))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new as(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){const e=this.getNodes(),n=e.length,r=e[n-1];let s;if(Gr(r))s=r.select();else{const t=r.getIndexWithinParent()+1;s=r.getParentOrThrow().select(t,t)}s.insertNodes(t);for(let t=0;t<n;t++)e[t].remove()}getNodes(){const t=this._cachedNodes;if(null!==t)return t;const e=this._nodes,n=[];for(const t of e){const e=xe(t);null!==e&&n.push(e)}return Us()||(this._cachedNodes=n),n}getTextContent(){const t=this.getNodes();let e="";for(let n=0;n<t.length;n++)e+=t[n].getTextContent();return e}}function us(t){return t instanceof fs}class fs{constructor(t,e,n,r){this.anchor=t,this.focus=e,t._selection=this,e._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!us(t)&&(this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const t=this._cachedNodes;if(null!==t)return t;const e=this.anchor,n=this.focus,r=e.isBefore(n),s=r?e:n,i=r?n:e;let o=s.getNode(),l=i.getNode();const c=s.offset,a=i.offset;if(li(o)){const t=o.getDescendantByIndex(c);o=null!=t?t:o}if(li(l)){let t=l.getDescendantByIndex(a);null!==t&&t!==o&&l.getChildAtIndex(a)===t&&(t=t.getPreviousSibling()),l=null!=t?t:l}let u;return u=o.is(l)?li(o)&&o.getChildrenSize()>0?[]:[o]:o.getNodesBetween(l),Us()||(this._cachedNodes=u),u}setTextNodeRange(t,e,n,r){cs(this.anchor,t.__key,e,"text"),cs(this.focus,n.__key,r,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const t=this.getNodes();if(0===t.length)return"";const e=t[0],n=t[t.length-1],r=this.anchor,s=this.focus,i=r.isBefore(s),[o,l]=gs(this);let c="",a=!0;for(let u=0;u<t.length;u++){const f=t[u];if(li(f)&&!f.isInline())a||(c+="\\n"),a=!f.isEmpty();else if(a=!1,Gr(f)){let t=f.getTextContent();f===e?f===n?"element"===r.type&&"element"===s.type&&s.offset!==r.offset||(t=o<l?t.slice(o,l):t.slice(l,o)):t=i?t.slice(o):t.slice(l):f===n&&(t=i?t.slice(0,l):t.slice(0,o)),c+=t}else!ui(f)&&!Ar(f)||f===n&&this.isCollapsed()||(c+=f.getTextContent())}return c}applyDOMRange(t){const e=js(),n=e.getEditorState()._selection,r=xs(t.startContainer,t.startOffset,t.endContainer,t.endOffset,e,n);if(null===r)return;const[s,i]=r;cs(this.anchor,s.key,s.offset,s.type),cs(this.focus,i.key,i.offset,i.type),this._cachedNodes=null}clone(){const t=this.anchor,e=this.focus;return new fs(is(t.key,t.offset,t.type),is(e.key,e.offset,e.type),this.format,this.style)}toggleFormat(t){this.format=de(this.format,t,null),this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){const e=It[t];return!!(this.format&e)}insertRawText(t){const e=t.split(/(\\r?\\n|\\t)/),n=[],r=e.length;for(let t=0;t<r;t++){const r=e[t];"\\n"===r||"\\r\\n"===r?n.push(Lr()):"\\t"===r?n.push(ns()):n.push(Zr(r))}this.insertNodes(n)}insertText(t){const e=this.anchor,n=this.focus,r=this.format,s=this.style;let i=e,o=n;!this.isCollapsed()&&n.isBefore(e)&&(i=n,o=e),"element"===i.type&&function(t,e,n,r){const s=t.getNode(),i=s.getChildAtIndex(t.offset),o=Zr(),l=di(s)?xi().append(o):o;o.setFormat(n),o.setStyle(r),null===i?s.append(l):i.insertBefore(l),t.is(e)&&e.set(o.__key,0,"text"),t.set(o.__key,0,"text")}(i,o,r,s);const l=i.offset;let c=o.offset;const a=this.getNodes(),u=a.length;let f=a[0];Gr(f)||Rt(26);const d=f.getTextContent().length,h=f.getParentOrThrow();let g=a[u-1];if(1===u&&"element"===o.type&&(c=d,o.set(i.key,c,"text")),this.isCollapsed()&&l===d&&(f.isSegmented()||f.isToken()||!f.canInsertTextAfter()||!h.canInsertTextAfter()&&null===f.getNextSibling())){let e=f.getNextSibling();if(Gr(e)&&e.canInsertTextBefore()&&!ae(e)||(e=Zr(),e.setFormat(r),e.setStyle(s),h.canInsertTextAfter()?f.insertAfter(e):h.insertAfter(e)),e.select(0,0),f=e,""!==t)return void this.insertText(t)}else if(this.isCollapsed()&&0===l&&(f.isSegmented()||f.isToken()||!f.canInsertTextBefore()||!h.canInsertTextBefore()&&null===f.getPreviousSibling())){let e=f.getPreviousSibling();if(Gr(e)&&!ae(e)||(e=Zr(),e.setFormat(r),h.canInsertTextBefore()?f.insertBefore(e):h.insertBefore(e)),e.select(),f=e,""!==t)return void this.insertText(t)}else if(f.isSegmented()&&l!==d){const t=Zr(f.getTextContent());t.setFormat(r),f.replace(t),f=t}else if(!this.isCollapsed()&&""!==t){const e=g.getParent();if(!h.canInsertTextBefore()||!h.canInsertTextAfter()||li(e)&&(!e.canInsertTextBefore()||!e.canInsertTextAfter()))return this.insertText(""),ms(this.anchor,this.focus,null),void this.insertText(t)}if(1===u){if(f.isToken()){const e=Zr(t);return e.select(),void f.replace(e)}const e=f.getFormat(),n=f.getStyle();if(l!==c||e===r&&n===s){if(rs(f)){const e=Zr(t);return e.setFormat(r),e.setStyle(s),e.select(),void f.replace(e)}}else{if(""!==f.getTextContent()){const e=Zr(t);if(e.setFormat(r),e.setStyle(s),e.select(),0===l)f.insertBefore(e,!1);else{const[t]=f.splitText(l);t.insertAfter(e,!1)}return void(e.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=t.length))}f.setFormat(r),f.setStyle(s)}const i=c-l;f=f.spliceText(l,i,t,!0),""===f.getTextContent()?f.remove():"text"===this.anchor.type&&(f.isComposing()?this.anchor.offset-=t.length:(this.format=e,this.style=n))}else{const e=new Set([...f.getParentKeys(),...g.getParentKeys()]),n=li(f)?f:f.getParentOrThrow();let r=li(g)?g:g.getParentOrThrow(),s=g;if(!n.is(r)&&r.isInline())do{s=r,r=r.getParentOrThrow()}while(r.isInline());if("text"===o.type&&(0!==c||""===g.getTextContent())||"element"===o.type&&g.getIndexWithinParent()<c)if(Gr(g)&&!g.isToken()&&c!==g.getTextContentSize()){if(g.isSegmented()){const t=Zr(g.getTextContent());g.replace(t),g=t}di(o.getNode())||"text"!==o.type||(g=g.spliceText(0,c,"")),e.add(g.__key)}else{const t=g.getParentOrThrow();t.canBeEmpty()||1!==t.getChildrenSize()?g.remove():t.remove()}else e.add(g.__key);const i=r.getChildren(),h=new Set(a),_=n.is(r),p=n.isInline()&&null===f.getNextSibling()?n:f;for(let t=i.length-1;t>=0;t--){const e=i[t];if(e.is(f)||li(e)&&e.isParentOf(f))break;e.isAttached()&&(!h.has(e)||e.is(s)?_||p.insertAfter(e,!1):e.remove())}if(!_){let t=r,n=null;for(;null!==t;){const r=t.getChildren(),s=r.length;(0===s||r[s-1].is(n))&&(e.delete(t.__key),n=t),t=t.getParent()}}if(f.isToken())if(l===d)f.select();else{const e=Zr(t);e.select(),f.replace(e)}else f=f.spliceText(l,d-l,t,!0),""===f.getTextContent()?f.remove():f.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=t.length);for(let t=1;t<u;t++){const n=a[t],r=n.__key;e.has(r)||n.remove()}}}removeText(){this.insertText("")}formatText(t){if(this.isCollapsed())return this.toggleFormat(t),void ye(null);const e=this.getNodes(),n=[];for(const t of e)Gr(t)&&n.push(t);const r=n.length;if(0===r)return this.toggleFormat(t),void ye(null);const s=this.anchor,i=this.focus,o=this.isBackward(),l=o?i:s,c=o?s:i;let a=0,u=n[0],f="element"===l.type?0:l.offset;if("text"===l.type&&f===u.getTextContentSize()&&(a=1,u=n[1],f=0),null==u)return;const d=u.getFormatFlags(t,null),h=r-1;let g=n[h];const _="text"===c.type?c.offset:g.getTextContentSize();if(u.is(g)){if(f===_)return;if(ae(u)||0===f&&_===u.getTextContentSize())u.setFormat(d);else{const t=u.splitText(f,_),e=0===f?t[0]:t[1];e.setFormat(d),"text"===l.type&&l.set(e.__key,0,"text"),"text"===c.type&&c.set(e.__key,_-f,"text")}return void(this.format=d)}0===f||ae(u)||([,u]=u.splitText(f),f=0),u.setFormat(d);const p=g.getFormatFlags(t,d);_>0&&(_===g.getTextContentSize()||ae(g)||([g]=g.splitText(_)),g.setFormat(p));for(let e=a+1;e<h;e++){const r=n[e],s=r.getFormatFlags(t,p);r.setFormat(s)}"text"===l.type&&l.set(u.__key,f,"text"),"text"===c.type&&c.set(g.__key,_,"text"),this.format=d|p}insertNodes(t){if(0===t.length)return;if("root"===this.anchor.key){this.insertParagraph();const e=ws();return us(e)||Rt(134),e.insertNodes(t)}const e=Cn((this.isBackward()?this.focus:this.anchor).getNode(),Tn),n=t[t.length-1];if("__language"in e&&li(e)){if("__language"in t[0])this.insertText(t[0].getTextContent());else{const r=As(this);e.splice(r,0,t),n.selectEnd()}return}if(!t.some((t=>(li(t)||ui(t))&&!t.isInline()))){li(e)||Rt(135);const r=As(this);return e.splice(r,0,t),void n.selectEnd()}const r=function(t){const e=xi();let n=null;for(let r=0;r<t.length;r++){const s=t[r],i=Ar(s);if(i||ui(s)&&s.isInline()||li(s)&&s.isInline()||Gr(s)||s.isParentRequired()){if(null===n&&(n=s.createParentElementNode(),e.append(n),i))continue;null!==n&&n.append(s)}else e.append(s),n=null}return e}(t),s=r.getLastDescendant(),i=r.getChildren(),o=t=>"__value"in t&&"__checked"in t,l=!li(e)||!e.isEmpty()?this.insertParagraph():null,c=i[i.length-1];let a=i[0];var u;li(u=a)&&Tn(u)&&!u.isEmpty()&&li(e)&&(!e.isEmpty()||o(e))&&(li(e)||Rt(135),e.append(...a.getChildren()),a=i[1]),a&&function(t,e,n){const r=e.getParentOrThrow().getLastChild();let s=e;const i=[e];for(;s!==r;)s.getNextSibling()||Rt(140),s=s.getNextSibling(),i.push(s);let o=t;for(const t of i)o=o.insertAfter(t)}(e,a);const f=Cn(s,Tn);l&&li(f)&&(o(l)||Tn(c))&&(f.append(...l.getChildren()),l.remove()),li(e)&&e.isEmpty()&&e.remove(),s.selectEnd();const d=li(e)?e.getLastChild():null;Ar(d)&&f!==e&&d.remove()}insertParagraph(){if("root"===this.anchor.key){const t=xi();return ke().splice(this.anchor.offset,0,[t]),t.select(),t}const t=As(this),e=Cn(this.anchor.getNode(),Tn);li(e)||Rt(136);const n=e.getChildAtIndex(t),r=n?[n,...n.getNextSiblings()]:[],s=e.insertNewAfter(this,!1);return s?(s.append(...r),s.selectStart(),s):null}insertLineBreak(t){const e=Lr();if(this.insertNodes([e]),t){const t=e.getParentOrThrow(),n=e.getIndexWithinParent();t.select(n,n)}}extract(){const t=this.getNodes(),e=t.length,n=e-1,r=this.anchor,s=this.focus;let i=t[0],o=t[n];const[l,c]=gs(this);if(0===e)return[];if(1===e){if(Gr(i)&&!this.isCollapsed()){const t=l>c?c:l,e=l>c?l:c,n=i.splitText(t,e),r=0===t?n[0]:n[1];return null!=r?[r]:[]}return[i]}const a=r.isBefore(s);if(Gr(i)){const e=a?l:c;e===i.getTextContentSize()?t.shift():0!==e&&([,i]=i.splitText(e),t[0]=i)}if(Gr(o)){const e=o.getTextContent().length,r=a?c:l;0===r?t.pop():r!==e&&([o]=o.splitText(r),t[n]=o)}return t}modify(t,e,n){const r=this.focus,s=this.anchor,i="move"===t,o=qe(r,e);if(ui(o)&&!o.isIsolated()){if(i&&o.isKeyboardSelectable()){const t=Ss();return t.add(o.__key),void we(t)}const t=e?o.getPreviousSibling():o.getNextSibling();if(Gr(t)){const n=t.__key,o=e?t.getTextContent().length:0;return r.set(n,o,"text"),void(i&&s.set(n,o,"text"))}{const n=o.getParentOrThrow();let l,c;return li(t)?(c=t.__key,l=e?t.getChildrenSize():0):(l=o.getIndexWithinParent(),c=n.__key,e||l++),r.set(c,l,"element"),void(i&&s.set(c,l,"element"))}}const l=js(),c=_n(l._window);if(!c)return;const a=l._blockCursorElement,u=l._rootElement;if(null===u||null===a||!li(o)||o.isInline()||o.canBeEmpty()||hn(a,l,u),function(t,e,n,r){t.modify(e,n,r)}(c,t,e?"backward":"forward",n),c.rangeCount>0){const t=c.getRangeAt(0),n=this.anchor.getNode(),r=di(n)?n:on(n);if(this.applyDOMRange(t),this.dirty=!0,!i){const n=this.getNodes(),s=[];let i=!1;for(let t=0;t<n.length;t++){const e=n[t];nn(e,r)?s.push(e):i=!0}if(i&&s.length>0)if(e){const t=s[0];li(t)?t.selectStart():t.getParentOrThrow().selectStart()}else{const t=s[s.length-1];li(t)?t.selectEnd():t.getParentOrThrow().selectEnd()}c.anchorNode===t.startContainer&&c.anchorOffset===t.startOffset||function(t){const e=t.focus,n=t.anchor,r=n.key,s=n.offset,i=n.type;cs(n,e.key,e.offset,e.type),cs(e,r,s,i),t._cachedNodes=null}(this)}}}forwardDeletion(t,e,n){if(!n&&("element"===t.type&&li(e)&&t.offset===e.getChildrenSize()||"text"===t.type&&t.offset===e.getTextContentSize())){const t=e.getParent(),n=e.getNextSibling()||(null===t?null:t.getNextSibling());if(li(n)&&n.isShadowRoot())return!0}return!1}deleteCharacter(t){const n=this.isCollapsed();if(this.isCollapsed()){const n=this.anchor;let r=n.getNode();if(this.forwardDeletion(n,r,t))return;const s=this.focus,i=qe(s,t);if(ui(i)&&!i.isIsolated()){if(i.isKeyboardSelectable()&&li(r)&&0===r.getChildrenSize()){r.remove();const t=Ss();t.add(i.__key),we(t)}else{i.remove();js().dispatchCommand(e,void 0)}return}if(!t&&li(i)&&li(r)&&r.isEmpty())return r.remove(),void i.selectStart();if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&0===n.offset){if(("element"===n.type?n.getNode():n.getNode().getParentOrThrow()).collapseAtStart(this))return}}else{const e="text"===s.type?s.getNode():null;if(r="text"===n.type?n.getNode():null,null!==e&&e.isSegmented()){const n=s.offset,i=e.getTextContentSize();if(e.is(r)||t&&n!==i||!t&&0!==n)return void _s(e,t,n)}else if(null!==r&&r.isSegmented()){const s=n.offset,i=r.getTextContentSize();if(r.is(e)||t&&0!==s||!t&&s!==i)return void _s(r,t,s)}!function(t,e){const n=t.anchor,r=t.focus,s=n.getNode(),i=r.getNode();if(s===i&&"text"===n.type&&"text"===r.type){const t=n.offset,i=r.offset,o=t<i,l=o?t:i,c=o?i:t,a=c-1;if(l!==a){Pe(s.getTextContent().slice(l,c))||(e?r.offset=a:n.offset=a)}}}(this,t)}}if(this.removeText(),t&&!n&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){const t=this.anchor.getNode();t.isEmpty()&&di(t.getParent())&&0===t.getIndexWithinParent()&&t.collapseAtStart(this)}}deleteLine(t){if(this.isCollapsed()){const e="element"===this.anchor.type;e&&this.insertText(" "),this.modify("extend",t,"lineboundary");if(0===(t?this.focus:this.anchor).offset&&this.modify("extend",t,"character"),e){const e=t?this.anchor:this.focus;e.set(e.key,e.offset+1,e.type)}}this.removeText()}deleteWord(t){if(this.isCollapsed()){const e=this.anchor,n=e.getNode();if(this.forwardDeletion(e,n,t))return;this.modify("extend",t,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function ds(t){return t instanceof as}function hs(t){const e=t.offset;if("text"===t.type)return e;const n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0}function gs(t){const e=t.getStartEndPoints();if(null===e)return[0,0];const[n,r]=e;return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[hs(n),hs(r)]}function _s(t,e,n){const r=t,s=r.getTextContent().split(/(?=\\s)/g),i=s.length;let o=0,l=0;for(let t=0;t<i;t++){const r=t===i-1;if(l=o,o+=s[t].length,e&&o===n||o>n||r){s.splice(t,1),r&&(l=void 0);break}}const c=s.join("").trim();""===c?r.remove():(r.setTextContent(c),r.select(l,l))}function ps(t,e,n,r){let s,i=e;if(t.nodeType===rt){let o=!1;const l=t.childNodes,c=l.length,a=r._blockCursorElement;i===c&&(o=!0,i=c-1);let u=l[i],f=!1;if(u===a)u=l[i+1],f=!0;else if(null!==a){const n=a.parentNode;if(t===n){e>Array.prototype.indexOf.call(n.children,a)&&i--}}if(s=Ne(u),Gr(s))i=Ee(s,o);else{let r=Ne(t);if(null===r)return null;if(li(r)){i=Math.min(r.getChildrenSize(),i);let t=r.getChildAtIndex(i);if(li(t)&&function(t,e,n){const r=t.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(t,0,n)){const e=o?t.getLastDescendant():t.getFirstDescendant();null===e?r=t:(t=e,r=li(t)?t:t.getParentOrThrow()),i=0}Gr(t)?(s=t,r=null,i=Ee(t,o)):t!==r&&o&&!f&&i++}else{const n=r.getIndexWithinParent();i=0===e&&ui(r)&&Ne(t)===r?n:n+1,r=r.getParentOrThrow()}if(li(r))return is(r.__key,i,"element")}}else s=Ne(t);return Gr(s)?is(s.__key,i,"text"):null}function ys(t,e,n){const r=t.offset,s=t.getNode();if(0===r){const r=s.getPreviousSibling(),i=s.getParent();if(e){if((n||!e)&&null===r&&li(i)&&i.isInline()){const e=i.getPreviousSibling();Gr(e)&&(t.key=e.__key,t.offset=e.getTextContent().length)}}else li(r)&&!n&&r.isInline()?(t.key=r.__key,t.offset=r.getChildrenSize(),t.type="element"):Gr(r)&&(t.key=r.__key,t.offset=r.getTextContent().length)}else if(r===s.getTextContent().length){const r=s.getNextSibling(),i=s.getParent();if(e&&li(r)&&r.isInline())t.key=r.__key,t.offset=0,t.type="element";else if((n||e)&&null===r&&li(i)&&i.isInline()&&!i.canInsertTextAfter()){const e=i.getNextSibling();Gr(e)&&(t.key=e.__key,t.offset=0)}}}function ms(t,e,n){if("text"===t.type&&"text"===e.type){const r=t.isBefore(e),s=t.is(e);ys(t,r,s),ys(e,!r,s),s&&(e.key=t.key,e.offset=t.offset,e.type=t.type);const i=js();if(i.isComposing()&&i._compositionKey!==t.key&&us(n)){const r=n.anchor,s=n.focus;cs(t,r.key,r.offset,r.type),cs(e,s.key,s.offset,s.type)}}}function xs(t,e,n,r,s,i){if(null===t||null===n||!le(s,t,n))return null;const o=ps(t,e,us(i)?i.anchor:null,s);if(null===o)return null;const l=ps(n,r,us(i)?i.focus:null,s);if(null===l)return null;if("element"===o.type&&"element"===l.type){const e=Ne(t),r=Ne(n);if(ui(e)&&ui(r))return null}return ms(o,l,i),[o,l]}function vs(t){return li(t)&&!t.isInline()}function Ts(t,e,n,r,s,i){const o=Hs(),l=new fs(is(t,e,s),is(n,r,i),0,"");return l.dirty=!0,o._selection=l,l}function Cs(){const t=is("root",0,"element"),e=is("root",0,"element");return new fs(t,e,0,"")}function Ss(){return new as(new Set)}function ks(t,e){return bs(null,t,e,null)}function bs(t,e,n,r){const s=n._window;if(null===s)return null;const i=r||s.event,o=i?i.type:void 0,l="selectionchange"===o,c=!Ut&&(l||"beforeinput"===o||"compositionstart"===o||"compositionend"===o||"click"===o&&i&&3===i.detail||"drop"===o||void 0===o);let a,u,f,d;if(us(t)&&!c)return t.clone();if(null===e)return null;if(a=e.anchorNode,u=e.focusNode,f=e.anchorOffset,d=e.focusOffset,l&&us(t)&&!le(n,a,u))return t.clone();const h=xs(a,f,u,d,n,t);if(null===h)return null;const[g,_]=h;return new fs(g,_,us(t)?t.format:0,us(t)?t.style:"")}function ws(){return Hs()._selection}function Ns(){return js()._editorState._selection}function Es(t,e,n,r=1){const s=t.anchor,i=t.focus,o=s.getNode(),l=i.getNode();if(!e.is(o)&&!e.is(l))return;const c=e.__key;if(t.isCollapsed()){const e=s.offset;if(n<=e&&r>0||n<e&&r<0){const n=Math.max(0,e+r);s.set(c,n,"element"),i.set(c,n,"element"),Ps(t)}}else{const o=t.isBackward(),l=o?i:s,a=l.getNode(),u=o?s:i,f=u.getNode();if(e.is(a)){const t=l.offset;(n<=t&&r>0||n<t&&r<0)&&l.set(c,Math.max(0,t+r),"element")}if(e.is(f)){const t=u.offset;(n<=t&&r>0||n<t&&r<0)&&u.set(c,Math.max(0,t+r),"element")}}Ps(t)}function Ps(t){const e=t.anchor,n=e.offset,r=t.focus,s=r.offset,i=e.getNode(),o=r.getNode();if(t.isCollapsed()){if(!li(i))return;const t=i.getChildrenSize(),s=n>=t,o=s?i.getChildAtIndex(t-1):i.getChildAtIndex(n);if(Gr(o)){let t=0;s&&(t=o.getTextContentSize()),e.set(o.__key,t,"text"),r.set(o.__key,t,"text")}}else{if(li(i)){const t=i.getChildrenSize(),r=n>=t,s=r?i.getChildAtIndex(t-1):i.getChildAtIndex(n);if(Gr(s)){let t=0;r&&(t=s.getTextContentSize()),e.set(s.__key,t,"text")}}if(li(o)){const t=o.getChildrenSize(),e=s>=t,n=e?o.getChildAtIndex(t-1):o.getChildAtIndex(s);if(Gr(n)){let t=0;e&&(t=n.getTextContentSize()),r.set(n.__key,t,"text")}}}}function Ds(t,e,n,r,s){let i=null,o=0,l=null;null!==r?(i=r.__key,Gr(r)?(o=r.getTextContentSize(),l="text"):li(r)&&(o=r.getChildrenSize(),l="element")):null!==s&&(i=s.__key,Gr(s)?l="text":li(s)&&(l="element")),null!==i&&null!==l?t.set(i,o,l):(o=e.getIndexWithinParent(),-1===o&&(o=n.getChildrenSize()),t.set(n.__key,o,"element"))}function Fs(t,e,n,r,s){"text"===t.type?(t.key=n,e||(t.offset+=s)):t.offset>r.getIndexWithinParent()&&(t.offset-=1)}function Os(t,e,n,r,s,i,o){const l=r.anchorNode,c=r.focusNode,a=r.anchorOffset,u=r.focusOffset,f=document.activeElement;if(s.has("collaboration")&&f!==i||null!==f&&oe(f))return;if(!us(e))return void(null!==t&&le(n,l,c)&&r.removeAllRanges());const d=e.anchor,h=e.focus,g=d.key,_=h.key,p=Ze(n,g),y=Ze(n,_),m=d.offset,x=h.offset,v=e.format,T=e.style,C=e.isCollapsed();let S=p,k=y,b=!1;if("text"===d.type){S=fe(p);const t=d.getNode();b=t.getFormat()!==v||t.getStyle()!==T}else us(t)&&"text"===t.anchor.type&&(b=!0);var w,N,E,P,D;if(("text"===h.type&&(k=fe(y)),null!==S&&null!==k)&&(C&&(null===t||b||us(t)&&(t.format!==v||t.style!==T))&&(w=v,N=T,E=m,P=g,D=performance.now(),mr=[w,N,E,P,D]),a!==m||u!==x||l!==S||c!==k||"Range"===r.type&&C||(null!==f&&i.contains(f)||i.focus({preventScroll:!0}),"element"===d.type))){try{r.setBaseAndExtent(S,m,k,x)}catch(t){}if(!s.has("skip-scroll-into-view")&&e.isCollapsed()&&null!==i&&i===document.activeElement){const t=e instanceof fs&&"element"===e.anchor.type?S.childNodes[m]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==t){let e;if(t instanceof Text){const n=document.createRange();n.selectNode(t),e=n.getBoundingClientRect()}else e=t.getBoundingClientRect();!function(t,e,n){const r=n.ownerDocument,s=r.defaultView;if(null===s)return;let{top:i,bottom:o}=e,l=0,c=0,a=n;for(;null!==a;){const e=a===r.body;if(e)l=0,c=rn(t).innerHeight;else{const t=a.getBoundingClientRect();l=t.top,c=t.bottom}let n=0;if(i<l?n=-(l-i):o>c&&(n=o-c),0!==n)if(e)s.scrollBy(0,n);else{const t=a.scrollTop;a.scrollTop+=n;const e=a.scrollTop-t;i-=e,o-=e}if(e)break;a=Ge(a)}}(n,e,i)}}gr=!0}}function Is(t){let e=ws()||Ns();null===e&&(e=ke().selectEnd()),e.insertNodes(t)}function Ls(){const t=ws();return null===t?"":t.getTextContent()}function As(t){let e=t;t.isCollapsed()||e.removeText();const n=ws();us(n)&&(e=n),us(e)||Rt(161);const r=e.anchor;let s=r.getNode(),i=r.offset;for(;!Tn(s);)[s,i]=Ms(s,i);return i}function Ms(t,e){const n=t.getParent();if(!n){const t=xi();return ke().append(t),t.select(),[ke(),0]}if(Gr(t)){const r=t.splitText(e);if(0===r.length)return[n,t.getIndexWithinParent()];const s=0===e?0:1;return[n,r[0].getIndexWithinParent()+s]}if(!li(t)||0===e)return[n,t.getIndexWithinParent()];const r=t.getChildAtIndex(e);if(r){const n=new fs(is(t.__key,e,"element"),is(t.__key,e,"element"),0,""),s=t.insertNewAfter(n);s&&s.append(r,...r.getNextSiblings())}return[n,t.getIndexWithinParent()+1]}let zs=null,Ws=null,Bs=!1,Rs=!1,Ks=0;const Js={characterData:!0,childList:!0,subtree:!0};function Us(){return Bs||null!==zs&&zs._readOnly}function Vs(){Bs&&Rt(13)}function $s(){Ks>99&&Rt(14)}function Hs(){return null===zs&&Rt(15),zs}function js(){return null===Ws&&Rt(16),Ws}function qs(){return Ws}function Qs(t,e,n){const r=e.__type,s=function(t,e){const n=t._nodes.get(e);return void 0===n&&Rt(30,e),n}(t,r);let i=n.get(r);void 0===i&&(i=Array.from(s.transforms),n.set(r,i));const o=i.length;for(let t=0;t<o&&(i[t](e),e.isAttached());t++);}function Xs(t,e){return void 0!==t&&t.__key!==e&&t.isAttached()}function Ys(t){return Zs(t,js()._nodes)}function Zs(t,e){const n=t.type,r=e.get(n);void 0===r&&Rt(17,n);const s=r.klass;t.type!==s.getType()&&Rt(18,s.name);const i=s.importJSON(t),o=t.children;if(li(i)&&Array.isArray(o))for(let t=0;t<o.length;t++){const n=Zs(o[t],e);i.append(n)}return i}function Gs(t,e){const n=zs,r=Bs,s=Ws;zs=t,Bs=!0,Ws=null;try{return e()}finally{zs=n,Bs=r,Ws=s}}function ti(t,n){const r=t._pendingEditorState,s=t._rootElement,i=t._headless||null===s;if(null===r)return;const o=t._editorState,l=o._selection,c=r._selection,a=t._dirtyType!==it,u=zs,f=Bs,d=Ws,h=t._updating,g=t._observer;let _=null;if(t._pendingEditorState=null,t._editorState=r,!i&&a&&null!==g){Ws=t,zs=r,Bs=!1,t._updating=!0;try{const e=t._dirtyType,n=t._dirtyElements,s=t._dirtyLeaves;g.disconnect(),_=sr(o,r,t,e,n,s)}catch(e){if(e instanceof Error&&t._onError(e),Rs)throw e;return wi(t,null,s,r),Yt(t),t._dirtyType=lt,Rs=!0,ti(t,o),void(Rs=!1)}finally{g.observe(s,Js),t._updating=h,zs=u,Bs=f,Ws=d}}r._readOnly||(r._readOnly=!0);const p=t._dirtyLeaves,y=t._dirtyElements,m=t._normalizedNodes,x=t._updateTags,v=t._deferred;a&&(t._dirtyType=it,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set),function(t,e){const n=t._decorators;let r=t._pendingDecorators||n;const s=e._nodeMap;let i;for(i in r)s.has(i)||(r===n&&(r=Ce(t)),delete r[i])}(t,r);const T=i?null:_n(t._window);if(t._editable&&null!==T&&(a||null===c||c.dirty)){Ws=t,zs=r;try{if(null!==g&&g.disconnect(),a||null===c||c.dirty){const e=t._blockCursorElement;null!==e&&hn(e,t,s),Os(l,c,t,T,x,s)}gn(t,s,c),null!==g&&g.observe(s,Js)}finally{Ws=d,zs=u}}null!==_&&function(t,e,n,r,s){const i=Array.from(t._listeners.mutation),o=i.length;for(let t=0;t<o;t++){const[o,l]=i[t],c=e.get(l);void 0!==c&&o(c,{dirtyLeaves:r,prevEditorState:s,updateTags:n})}}(t,_,x,p,o),us(c)||null===c||null!==l&&l.is(c)||t.dispatchCommand(e,void 0);const C=t._pendingDecorators;null!==C&&(t._decorators=C,t._pendingDecorators=null,ei("decorator",t,!0,C)),function(t,e,n){const r=Se(e),s=Se(n);r!==s&&ei("textcontent",t,!0,s)}(t,n||o,r),ei("update",t,!0,{dirtyElements:y,dirtyLeaves:p,editorState:r,normalizedNodes:m,prevEditorState:n||o,tags:x}),function(t,e){if(t._deferred=[],0!==e.length){const n=t._updating;t._updating=!0;try{for(let t=0;t<e.length;t++)e[t]()}finally{t._updating=n}}}(t,v),function(t){const e=t._updates;if(0!==e.length){const n=e.shift();if(n){const[e,r]=n;si(t,e,r)}}}(t)}function ei(t,e,n,...r){const s=e._updating;e._updating=n;try{const n=Array.from(e._listeners[t]);for(let t=0;t<n.length;t++)n[t].apply(null,r)}finally{e._updating=s}}function ni(t,e,n){if(!1===t._updating||Ws!==t){let r=!1;return t.update((()=>{r=ni(t,e,n)})),r}const r=De(t);for(let s=4;s>=0;s--)for(let i=0;i<r.length;i++){const o=r[i]._commands.get(e);if(void 0!==o){const e=o[s];if(void 0!==e){const r=Array.from(e),s=r.length;for(let e=0;e<s;e++)if(!0===r[e](n,t))return!0}}}return!1}function ri(t,e){const n=t._updates;let r=e||!1;for(;0!==n.length;){const e=n.shift();if(e){const[n,s]=e;let i,o;void 0!==s&&(i=s.onUpdate,o=s.tag,s.skipTransforms&&(r=!0),i&&t._deferred.push(i),o&&t._updateTags.add(o)),n()}}return r}function si(t,e,n){const r=t._updateTags;let s,i,o=!1,l=!1;void 0!==n&&(s=n.onUpdate,i=n.tag,null!=i&&r.add(i),o=n.skipTransforms||!1,l=n.discrete||!1),s&&t._deferred.push(s);const c=t._editorState;let a=t._pendingEditorState,u=!1;(null===a||a._readOnly)&&(a=t._pendingEditorState=new _i(new Map((a||c)._nodeMap)),u=!0),a._flushSync=l;const f=zs,d=Bs,h=Ws,g=t._updating;zs=a,Bs=!1,t._updating=!0,Ws=t;try{u&&(t._headless?null!==c._selection&&(a._selection=c._selection.clone()):a._selection=function(t){const e=t.getEditorState()._selection,n=_n(t._window);return us(e)||null==e?bs(e,n,t,null):e.clone()}(t));const n=t._compositionKey;e(),o=ri(t,o),function(t,e){const n=e.getEditorState()._selection,r=t._selection;if(us(r)){const t=r.anchor,e=r.focus;let s;if("text"===t.type&&(s=t.getNode(),s.selectionTransform(n,r)),"text"===e.type){const t=e.getNode();s!==t&&t.selectionTransform(n,r)}}}(a,t),t._dirtyType!==it&&(o?function(t,e){const n=e._dirtyLeaves,r=t._nodeMap;for(const t of n){const e=r.get(t);Gr(e)&&e.isAttached()&&e.isSimpleText()&&!e.isUnmergeable()&&te(e)}}(a,t):function(t,e){const n=e._dirtyLeaves,r=e._dirtyElements,s=t._nodeMap,i=me(),o=new Map;let l=n,c=l.size,a=r,u=a.size;for(;c>0||u>0;){if(c>0){e._dirtyLeaves=new Set;for(const t of l){const r=s.get(t);Gr(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&te(r),void 0!==r&&Xs(r,i)&&Qs(e,r,o),n.add(t)}if(l=e._dirtyLeaves,c=l.size,c>0){Ks++;continue}}e._dirtyLeaves=new Set,e._dirtyElements=new Map;for(const t of a){const n=t[0],l=t[1];if("root"!==n&&!l)continue;const c=s.get(n);void 0!==c&&Xs(c,i)&&Qs(e,c,o),r.set(n,l)}l=e._dirtyLeaves,c=l.size,a=e._dirtyElements,u=a.size,Ks++}e._dirtyLeaves=n,e._dirtyElements=r}(a,t),ri(t),function(t,e,n,r){const s=t._nodeMap,i=e._nodeMap,o=[];for(const[t]of r){const e=i.get(t);void 0!==e&&(e.isAttached()||(li(e)&&kn(e,t,s,i,o,r),s.has(t)||r.delete(t),o.push(t)))}for(const t of o)i.delete(t);for(const t of n){const e=i.get(t);void 0===e||e.isAttached()||(s.has(t)||n.delete(t),i.delete(t))}}(c,a,t._dirtyLeaves,t._dirtyElements));n!==t._compositionKey&&(a._flushSync=!0);const r=a._selection;if(us(r)){const t=a._nodeMap,e=r.anchor.key,n=r.focus.key;void 0!==t.get(e)&&void 0!==t.get(n)||Rt(19)}else ds(r)&&0===r._nodes.size&&(a._selection=null)}catch(e){return e instanceof Error&&t._onError(e),t._pendingEditorState=c,t._dirtyType=lt,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),void ti(t)}finally{zs=f,Bs=d,Ws=h,t._updating=g,Ks=0}const _=t._dirtyType!==it||function(t,e){const n=e.getEditorState()._selection,r=t._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(a,t);_?a._flushSync?(a._flushSync=!1,ti(t)):u&&ie((()=>{ti(t)})):(a._flushSync=!1,u&&(r.clear(),t._deferred=[],t._pendingEditorState=null))}function ii(t,e,n){t._updating?t._updates.push([e,n]):si(t,e,n)}class oi extends Fr{constructor(t){super(t),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__indent=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){const t=this.getFormat();return Mt[t]||""}getIndent(){return this.getLatest().__indent}getChildren(){const t=[];let e=this.getFirstChild();for(;null!==e;)t.push(e),e=e.getNextSibling();return t}getChildrenKeys(){const t=[];let e=this.getFirstChild();for(;null!==e;)t.push(e.__key),e=e.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){const t=js()._dirtyElements;return null!==t&&t.has(this.__key)}isLastChild(){const t=this.getLatest(),e=this.getParentOrThrow().getLastChild();return null!==e&&e.is(t)}getAllTextNodes(){const t=[];let e=this.getFirstChild();for(;null!==e;){if(Gr(e)&&t.push(e),li(e)){const n=e.getAllTextNodes();t.push(...n)}e=e.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;li(t);){const e=t.getFirstChild();if(null===e)break;t=e}return t}getLastDescendant(){let t=this.getLastChild();for(;li(t);){const e=t.getLastChild();if(null===e)break;t=e}return t}getDescendantByIndex(t){const e=this.getChildren(),n=e.length;if(t>=n){const t=e[n-1];return li(t)&&t.getLastDescendant()||t||null}const r=e[t];return li(r)&&r.getFirstDescendant()||r||null}getFirstChild(){const t=this.getLatest().__first;return null===t?null:xe(t)}getFirstChildOrThrow(){const t=this.getFirstChild();return null===t&&Rt(45,this.__key),t}getLastChild(){const t=this.getLatest().__last;return null===t?null:xe(t)}getLastChildOrThrow(){const t=this.getLastChild();return null===t&&Rt(96,this.__key),t}getChildAtIndex(t){const e=this.getChildrenSize();let n,r;if(t<e/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=t;){if(r===t)return n;n=n.getNextSibling(),r++}return null}for(n=this.getLastChild(),r=e-1;null!==n&&r>=t;){if(r===t)return n;n=n.getPreviousSibling(),r--}return null}getTextContent(){let t="";const e=this.getChildren(),n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=s.getTextContent(),li(s)&&r!==n-1&&!s.isInline()&&(t+=Nt)}return t}getTextContentSize(){let t=0;const e=this.getChildren(),n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=s.getTextContentSize(),li(s)&&r!==n-1&&!s.isInline()&&(t+=Nt.length)}return t}getDirection(){return this.getLatest().__dir}hasFormat(t){if(""!==t){const e=At[t];return!!(this.getFormat()&e)}return!1}select(t,e){Vs();const n=ws();let r=t,s=e;const i=this.getChildrenSize();if(!this.canBeEmpty())if(0===t&&0===e){const t=this.getFirstChild();if(Gr(t)||li(t))return t.select(0,0)}else if(!(void 0!==t&&t!==i||void 0!==e&&e!==i)){const t=this.getLastChild();if(Gr(t)||li(t))return t.select()}void 0===r&&(r=i),void 0===s&&(s=i);const o=this.__key;return us(n)?(n.anchor.set(o,r,"element"),n.focus.set(o,s,"element"),n.dirty=!0,n):Ts(o,r,o,s,"element","element")}selectStart(){const t=this.getFirstDescendant();return t?t.selectStart():this.select()}selectEnd(){const t=this.getLastDescendant();return t?t.selectEnd():this.select()}clear(){const t=this.getWritable();return this.getChildren().forEach((t=>t.remove())),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){const e=this.getWritable();return e.__dir=t,e}setFormat(t){return this.getWritable().__format=""!==t?At[t]:0,this}setIndent(t){return this.getWritable().__indent=t,this}splice(t,e,n){const r=n.length,s=this.getChildrenSize(),i=this.getWritable(),o=i.__key,l=[],c=[],a=this.getChildAtIndex(t+e);let u=null,f=s-e+r;if(0!==t)if(t===s)u=this.getLastChild();else{const e=this.getChildAtIndex(t);null!==e&&(u=e.getPreviousSibling())}if(e>0){let t=null===u?this.getFirstChild():u.getNextSibling();for(let n=0;n<e;n++){null===t&&Rt(100);const e=t.getNextSibling(),n=t.__key;_e(t.getWritable()),c.push(n),t=e}}let d=u;for(let t=0;t<r;t++){const e=n[t];null!==d&&e.is(d)&&(u=d=d.getPreviousSibling());const r=e.getWritable();r.__parent===o&&f--,_e(r);const s=e.__key;if(null===d)i.__first=s,r.__prev=null;else{const t=d.getWritable();t.__next=s,r.__prev=t.__key}e.__key===o&&Rt(76),r.__parent=o,l.push(s),d=e}if(t+e===s){if(null!==d){d.getWritable().__next=null,i.__last=d.__key}}else if(null!==a){const t=a.getWritable();if(null!==d){const e=d.getWritable();t.__prev=d.__key,e.__next=a.__key}else t.__prev=null}if(i.__size=f,c.length){const t=ws();if(us(t)){const e=new Set(c),n=new Set(l),{anchor:r,focus:s}=t;ci(r,e,n)&&Ds(r,r.getNode(),this,u,a),ci(s,e,n)&&Ds(s,s.getNode(),this,u,a),0!==f||this.canBeEmpty()||ln(this)||this.remove()}}return i}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(t,e){return null}canIndent(){return!0}collapseAtStart(t){return!1}excludeFromCopy(t){return!1}canReplaceWith(t){return!0}canInsertAfter(t){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(t){return!1}extractWithChild(t,e,n){return!1}}function li(t){return t instanceof oi}function ci(t,e,n){let r=t.getNode();for(;r;){const t=r.__key;if(e.has(t)&&!n.has(t))return!0;r=r.getParent()}return!1}class ai extends Fr{constructor(t){super(t)}decorate(t,e){Rt(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function ui(t){return t instanceof ai}class fi extends oi{static getType(){return"root"}static clone(){return new fi}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){Rt(51)}getTextContent(){const t=this.__cachedText;return!Us()&&js()._dirtyType!==it||null===t?super.getTextContent():t}remove(){Rt(52)}replace(t){Rt(53)}insertBefore(t){Rt(54)}insertAfter(t){Rt(55)}updateDOM(t,e){return!1}append(...t){for(let e=0;e<t.length;e++){const n=t[e];li(n)||ui(n)||Rt(56)}return super.append(...t)}static importJSON(t){const e=ke();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function di(t){return t instanceof fi}function hi(){return new _i(new Map([["root",new fi]]))}function gi(t){const e=t.exportJSON(),n=t.constructor;if(e.type!==n.getType()&&Rt(130,n.name),li(t)){const r=e.children;Array.isArray(r)||Rt(59,n.name);const s=t.getChildren();for(let t=0;t<s.length;t++){const e=gi(s[t]);r.push(e)}}return e}class _i{constructor(t,e){this._nodeMap=t,this._selection=e||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(t){return Gs(this,t)}clone(t){const e=new _i(this._nodeMap,void 0===t?this._selection:t);return e._readOnly=!0,e}toJSON(){return Gs(this,(()=>({root:gi(ke())})))}}class pi extends oi{static getType(){return"artificial"}createDOM(t){return document.createElement("div")}}class yi extends oi{constructor(t){super(t),this.__textFormat=0}static getType(){return"paragraph"}getTextFormat(){return this.getLatest().__textFormat}setTextFormat(t){const e=this.getWritable();return e.__textFormat=t,e}hasTextFormat(t){const e=It[t];return!!(this.getTextFormat()&e)}static clone(t){return new yi(t.__key)}createDOM(t){const e=document.createElement("p"),n=Ve(t.theme,"paragraph");if(void 0!==n){e.classList.add(...n)}return e}updateDOM(t,e,n){return!1}static importDOM(){return{p:t=>({conversion:mi,priority:0})}}exportDOM(t){const{element:e}=super.exportDOM(t);if(e&&mn(e)){this.isEmpty()&&e.append(document.createElement("br"));const t=this.getFormatType();e.style.textAlign=t;const n=this.getDirection();n&&(e.dir=n);const r=this.getIndent();r>0&&(e.style.textIndent=20*r+"px")}return{element:e}}static importJSON(t){const e=xi();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e.setTextFormat(t.textFormat),e}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),type:"paragraph",version:1}}insertNewAfter(t,e){const n=xi();n.setTextFormat(t.format);const r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),this.insertAfter(n,e),n}collapseAtStart(){const t=this.getChildren();if(0===t.length||Gr(t[0])&&""===t[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function mi(t){const e=xi();if(t.style){e.setFormat(t.style.textAlign);const n=parseInt(t.style.textIndent,10)/20;n>0&&e.setIndent(n)}return{node:e}}function xi(){return an(new yi)}function vi(t){return t instanceof yi}const Ti=0,Ci=1,Si=2,ki=3,bi=4;function wi(t,e,n,r){const s=t._keyToDOMMap;s.clear(),t._editorState=hi(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=it,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null;const i=t._observer;null!==i&&(i.disconnect(),t._observer=null),null!==e&&(e.textContent=""),null!==n&&(n.textContent="",s.set("root",n))}function Ni(t){const e=t||{},n=qs(),r=e.theme||{},s=void 0===t?n:e.parentEditor||null,i=e.disableEvents||!1,o=hi(),l=e.namespace||(null!==s?s._config.namespace:Fe()),c=e.editorState,a=[fi,Ur,Or,es,yi,pi,...e.nodes||[]],{onError:u,html:f}=e,d=void 0===e.editable||e.editable;let h;if(void 0===t&&null!==n)h=n._nodes;else{h=new Map;for(let t=0;t<a.length;t++){let e=a[t],n=null,r=null;if("function"!=typeof e){const t=e;e=t.replace,n=t.with,r=t.withKlass||null}const s=e.getType(),i=e.transform(),o=new Set;null!==i&&o.add(i),h.set(s,{exportDOM:f&&f.export?f.export.get(e):void 0,klass:e,replace:n,replaceWithKlass:r,transforms:o})}}const g=new Ei(o,s,h,{disableEvents:i,namespace:l,theme:r},u||console.error,function(t,e){const n=new Map,r=new Set,s=t=>{Object.keys(t).forEach((e=>{let r=n.get(e);void 0===r&&(r=[],n.set(e,r)),r.push(t[e])}))};return t.forEach((t=>{const e=t.klass.importDOM;if(null==e||r.has(e))return;r.add(e);const n=e.call(t.klass);null!==n&&s(n)})),e&&s(e),n}(h,f?f.import:void 0),d);return void 0!==c&&(g._pendingEditorState=c,g._dirtyType=lt),g}class Ei{constructor(t,e,n,r,s,i,o){this._parentEditor=e,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=it,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Fe(),this._onError=s,this._htmlConversions=i,this._editable=o,this._headless=null!==e&&e._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(t){const e=this._listeners.update;return e.add(t),()=>{e.delete(t)}}registerEditableListener(t){const e=this._listeners.editable;return e.add(t),()=>{e.delete(t)}}registerDecoratorListener(t){const e=this._listeners.decorator;return e.add(t),()=>{e.delete(t)}}registerTextContentListener(t){const e=this._listeners.textcontent;return e.add(t),()=>{e.delete(t)}}registerRootListener(t){const e=this._listeners.root;return t(this._rootElement,null),e.add(t),()=>{t(null,this._rootElement),e.delete(t)}}registerCommand(t,e,n){void 0===n&&Rt(35);const r=this._commands;r.has(t)||r.set(t,[new Set,new Set,new Set,new Set,new Set]);const s=r.get(t);void 0===s&&Rt(36,String(t));const i=s[n];return i.add(e),()=>{i.delete(e),s.every((t=>0===t.size))&&r.delete(t)}}registerMutationListener(t,e){let n=this._nodes.get(t.getType());void 0===n&&Rt(37,t.name);let r=t,s=null;for(;s=n.replaceWithKlass;)r=s,n=this._nodes.get(s.getType()),void 0===n&&Rt(37,s.name);const i=this._listeners.mutation;return i.set(e,r),()=>{i.delete(e)}}registerNodeTransformToKlass(t,e){const n=t.getType(),r=this._nodes.get(n);void 0===r&&Rt(37,t.name);return r.transforms.add(e),r}registerNodeTransform(t,e){const n=this.registerNodeTransformToKlass(t,e),r=[n],s=n.replaceWithKlass;if(null!=s){const t=this.registerNodeTransformToKlass(s,e);r.push(t)}var i,o;return i=this,o=t.getType(),ii(i,(()=>{const t=Hs();if(t.isEmpty())return;if("root"===o)return void ke().markDirty();const e=t._nodeMap;for(const[,t]of e)t.markDirty()}),null===i._pendingEditorState?{tag:"history-merge"}:void 0),()=>{r.forEach((t=>t.transforms.delete(e)))}}hasNode(t){return this._nodes.has(t.getType())}hasNodes(t){return t.every(this.hasNode.bind(this))}dispatchCommand(t,e){return Xe(this,t,e)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){const e=this._rootElement;if(t!==e){const n=Ve(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=t,wi(this,e,t,r),null!==e&&(this._config.disableEvents||Pr(e),null!=n&&e.classList.remove(...n)),null!==t){const e=function(t){const e=t.ownerDocument;return e&&e.defaultView||null}(t),r=t.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=e,this._dirtyType=lt,Yt(this),this._updateTags.add("history-merge"),ti(this),this._config.disableEvents||function(t,e){const n=t.ownerDocument,r=hr.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",wr),hr.set(n,(r||0)+1),t.__lexicalEditor=e;const s=kr(t);for(let n=0;n<cr.length;n++){const[r,i]=cr[n],o="function"==typeof i?t=>{Er(t)||(Nr(t),(e.isEditable()||"click"===r)&&i(t,e))}:t=>{if(Er(t))return;Nr(t);const n=e.isEditable();switch(r){case"cut":return n&&Xe(e,z,t);case"copy":return Xe(e,M,t);case"paste":return n&&Xe(e,c,t);case"dragstart":return n&&Xe(e,I,t);case"dragover":return n&&Xe(e,L,t);case"dragend":return n&&Xe(e,A,t);case"focus":return n&&Xe(e,U,t);case"blur":return n&&Xe(e,V,t);case"drop":return n&&Xe(e,F,t)}};t.addEventListener(r,o),s.push((()=>{t.removeEventListener(r,o)}))}}(t,this),null!=n&&t.classList.add(...n)}else this._editorState=r,this._pendingEditorState=null,this._window=null;ei("root",this,!1,t,e)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,e){t.isEmpty()&&Rt(38),Xt(this);const n=this._pendingEditorState,r=this._updateTags,s=void 0!==e?e.tag:null;null===n||n.isEmpty()||(null!=s&&r.add(s),ti(this)),this._pendingEditorState=t,this._dirtyType=lt,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=s&&r.add(s),ti(this)}parseEditorState(t,e){return function(t,e,n){const r=hi(),s=zs,i=Bs,o=Ws,l=e._dirtyElements,c=e._dirtyLeaves,a=e._cloneNotNeeded,u=e._dirtyType;e._dirtyElements=new Map,e._dirtyLeaves=new Set,e._cloneNotNeeded=new Set,e._dirtyType=0,zs=r,Bs=!1,Ws=e;try{const s=e._nodes;Zs(t.root,s),n&&n(),r._readOnly=!0}catch(t){t instanceof Error&&e._onError(t)}finally{e._dirtyElements=l,e._dirtyLeaves=c,e._cloneNotNeeded=a,e._dirtyType=u,zs=s,Bs=i,Ws=o}return r}("string"==typeof t?JSON.parse(t):t,this,e)}update(t,e){ii(this,t,e)}focus(t,e={}){const n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),ii(this,(()=>{const t=ws(),n=ke();null!==t?t.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===e.defaultSelection?n.selectStart():n.selectEnd())}),{onUpdate:()=>{n.removeAttribute("autocapitalize"),t&&t()},tag:"focus"}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){const t=this._rootElement;null!==t&&t.blur();const e=_n(this._window);null!==e&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,ei("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}}\n\n;// CONCATENATED MODULE: ./src/index.js\n\n\n// Lexical implementation for editing XML markup with overlapping tags\n\nconst config = {\n    namespace: "XML Inline Editor",\n    theme: {},\n    onError: console.error\n};\n\nconst editor = Ni(config);\n\nconst contentEditableElement = document.getElementById(\'xmlEditor\');\n\neditor.setRootElement(contentEditableElement);\n\neditor.update(() => {\n    const root = ke();\n\n    const selection = ws();\n\n    const paragraphNode = xi();\n\n    const textNode = Zr("Hwaet world");\n\n    paragraphNode.append(textNode);\n\n    root.append(paragraphNode);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYzLmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyxTQUFTLFVBQVUsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLDY3QkFBNjdCLCtGQUErRixLQUFLLDhCQUE4QixLQUFLLHNEQUFzRCxLQUFLLDhFQUE4RSxLQUFLLDZCQUE2QixLQUFLLDZDQUE2QyxlQUFlLHNGQUFzRix1QkFBdUIsNEJBQTRCLG1CQUFtQixZQUFZLG1CQUFtQiwrQkFBK0IsdUNBQXVDLElBQUksdUNBQXVDLEdBQUcsZ0hBQWdILEdBQUcsa0JBQWtCLFdBQVcsc0ZBQXNGLFNBQVMsYUFBYSxlQUFlLGVBQWUsZUFBZSxtQkFBbUIsNERBQTRELE9BQU8sR0FBRyxtQkFBbUIsc0JBQXNCLGtCQUFrQiwrREFBK0Qsb0JBQW9CLHlCQUF5QixtQkFBbUIsVUFBVSwyQkFBMkIsOENBQThDLHVDQUF1QyxtQkFBbUIsTUFBTSxnQ0FBZ0MsSUFBSSxXQUFXLDBCQUEwQixxQ0FBcUMsYUFBYSwrQkFBK0IsR0FBRyw0RUFBNEUsY0FBYyxZQUFZLFdBQVcsS0FBSyxpQ0FBaUMsY0FBYyxtRkFBbUYseUJBQXlCLEtBQUsscUJBQXFCLFlBQVksV0FBVyxLQUFLLG9DQUFvQyw4REFBOEQsTUFBTSxpQ0FBaUMsVUFBVSxrQkFBa0Isa0NBQWtDLFFBQVEsUUFBUSxZQUFZLElBQUksS0FBSyxhQUFhLDhEQUE4RCx1Q0FBdUMseUNBQXlDLDRCQUE0QixtQkFBbUIsWUFBWSxXQUFXLEtBQUssb0NBQW9DLHVGQUF1RiwwQkFBMEIsd0JBQXdCLGVBQWUsWUFBWSxXQUFXLEtBQUssdUNBQXVDLFlBQVksV0FBVyxLQUFLLDRCQUE0Qix5REFBeUQsZ0JBQWdCLCtEQUErRCxHQUFHLFFBQVEsT0FBTyxlQUFlLG9CQUFvQixhQUFhLHlCQUF5QixlQUFlLGFBQWEsa0RBQWtELDhDQUE4QyxVQUFVLEdBQUcsaUJBQWlCLDhFQUE4RSwyREFBMkQsaUJBQWlCLHNEQUFzRCx1Q0FBdUMsZUFBZSxZQUFZLHdEQUF3RCxLQUFLLCtFQUErRSxFQUFFLGtCQUFrQixZQUFZLFVBQVUsTUFBTSxNQUFNLFdBQVcsS0FBSywyRUFBMkUsRUFBRSxrQkFBa0IsWUFBWSxVQUFVLE1BQU0sTUFBTSxZQUFZLGdCQUFnQixlQUFlLGtDQUFrQyxlQUFlLEtBQUssbUJBQW1CLEVBQUUsK0JBQStCLFFBQVEsZ0dBQWdHLGlEQUFpRCxNQUFNLGdCQUFnQixrREFBa0QsU0FBUyxjQUFjLEtBQUssOERBQThELDJCQUEyQixlQUFlLCtCQUErQixxQkFBcUIsbUJBQW1CLHFHQUFxRyxtQkFBbUIsMkJBQTJCLElBQUksMkVBQTJFLFNBQVMsVUFBVSxlQUFlLFFBQVEsS0FBSyxRQUFRLEVBQUUsMEJBQTBCLG9CQUFvQixRQUFRLFlBQVksZUFBZSxvQ0FBb0MsZUFBZSx1QkFBdUIsZUFBZSxRQUFRLEtBQUssUUFBUSxFQUFFLGtCQUFrQixlQUFlLFlBQVksbUJBQW1CLGNBQWMsbUNBQW1DLFVBQVUsaUZBQWlGLGVBQWUsMkJBQTJCLGlCQUFpQixrQ0FBa0MsVUFBVSw4QkFBOEIsOEhBQThILGVBQWUsc0JBQXNCLGFBQWEsd0ZBQXdGLHlCQUF5Qix3QkFBd0IsZ0NBQWdDLG9CQUFvQixLQUFLLHdCQUF3QixhQUFhLHdCQUF3QixrQ0FBa0MsbUJBQW1CLGNBQWMseUJBQXlCLHdCQUF3QiwrQkFBK0IsbUJBQW1CLEtBQUssd0JBQXdCLGFBQWEsd0JBQXdCLGtDQUFrQyxtQkFBbUIsY0FBYyw0QkFBNEIsZUFBZSxLQUFLLGlGQUFpRiwwQkFBMEIsUUFBUSxLQUFLLFNBQVMsRUFBRSxtQkFBbUIsaUJBQWlCLG9CQUFvQiwwQkFBMEIsUUFBUSxnQkFBZ0Isd0RBQXdELGVBQWUsS0FBSyxpQ0FBaUMsVUFBVSxpQ0FBaUMsY0FBYywwQkFBMEIsYUFBYSxjQUFjLDRCQUE0QixjQUFjLG9CQUFvQiw0QkFBNEIsaUJBQWlCLGtDQUFrQyx5QkFBeUIsaUJBQWlCLDBCQUEwQixVQUFVLEdBQUcsK0JBQStCLGlCQUFpQixRQUFRLEtBQUssUUFBUSxFQUFFLGdCQUFnQixxQkFBcUIsUUFBUSxZQUFZLGVBQWUsd0NBQXdDLElBQUksZ0NBQWdDLGVBQWUsMkNBQTJDLGNBQWMsZ0JBQWdCLGVBQWUsOEJBQThCLGVBQWUsS0FBSyxhQUFhLDZEQUE2RCxlQUFlLDZCQUE2QixRQUFRLEtBQUssUUFBUSxFQUFFLDBCQUEwQixPQUFPLEdBQUcsdUJBQXVCLFFBQVEsWUFBWSxNQUFNLGFBQWEsOENBQThDLGFBQWEsaUJBQWlCLGtDQUFrQyxlQUFlLGdEQUFnRCxlQUFlLFdBQVcsUUFBUSxLQUFLLFNBQVMsNkJBQTZCLFNBQVMsY0FBYyxxRUFBcUUsZUFBZSx3Q0FBd0MsbUJBQW1CLHNCQUFzQixtQkFBbUIscUJBQXFCLElBQUksNkJBQTZCLEdBQUcsYUFBYSxZQUFZLGNBQWMsb0JBQW9CLGNBQWMsaUJBQWlCLFlBQVksMEJBQTBCLHVCQUF1QixRQUFRLHNDQUFzQyx3QkFBd0IsUUFBUSw4Q0FBOEMsMkJBQTJCLGFBQWEsV0FBVyxnQ0FBZ0MsS0FBSyxhQUFhLGlCQUFpQixlQUFlLDJCQUEyQixHQUFHLE1BQU0sT0FBTywwRUFBMEUsbVJBQW1SLGFBQWEsOERBQThELGdEQUFnRCwrQkFBK0IsaUJBQWlCLHNCQUFzQixpQkFBaUIsNEJBQTRCLDZCQUE2Qiw2REFBNkQsa0dBQWtHLCtCQUErQiw0REFBNEQsd0dBQXdHLGVBQWUsc0JBQXNCLGVBQWUsdUJBQXVCLGlCQUFpQixhQUFhLGVBQWUsa0JBQWtCLGVBQWUsc0JBQXNCLGVBQWUsbUJBQW1CLG1CQUFtQixxQ0FBcUMsY0FBYyxhQUFhLHdDQUF3QyxpQkFBaUIsaUVBQWlFLEVBQUUseUNBQXlDLHVCQUF1QixhQUFhLHVCQUF1QixjQUFjLGdCQUFnQixTQUFTLHVCQUF1QixxQkFBcUIsc0NBQXNDLHFCQUFxQixnQkFBZ0IsZUFBZSxtQ0FBbUMsa0RBQWtELHdDQUF3QyxlQUFlLDJEQUEyRCwrRUFBK0UsU0FBUyxtQkFBbUIsc0JBQXNCLFlBQVksdUpBQXVKLGlCQUFpQixpQkFBaUIsdUJBQXVCLDRCQUE0QixvQkFBb0IsNkNBQTZDLG9EQUFvRCwrRUFBK0UsWUFBWSxlQUFlLHFDQUFxQyw4REFBOEQsbUJBQW1CLGlCQUFpQixlQUFlLDhDQUE4QyxpQkFBaUIsOEJBQThCLDhCQUE4QixlQUFlLHdDQUF3QywwQ0FBMEMsZUFBZSwrQkFBK0IsZUFBZSxLQUFLLHdCQUF3QixpQkFBaUIsb0JBQW9CLEtBQUssU0FBUyxFQUFFLG9CQUFvQixnQkFBZ0IsU0FBUyxlQUFlLGtCQUFrQiwwQkFBMEIsZUFBZSxnREFBZ0QsZUFBZSwyQkFBMkIsS0FBSyxTQUFTLEVBQUUsa0JBQWtCLHVCQUF1QixTQUFTLGVBQWUsc0NBQXNDLGVBQWUsK0JBQStCLG9CQUFvQixlQUFlLHlEQUF5RCxtQkFBbUIsa0JBQWtCLGFBQWEsYUFBYSw0Q0FBNEMsU0FBUyxpQkFBaUIseUNBQXlDLGVBQWUsY0FBYyw0QkFBNEIsZUFBZSxxREFBcUQsbUJBQW1CLGlFQUFpRSx3QkFBd0IsMkJBQTJCLG1CQUFtQiw0QkFBNEIsMEZBQTBGLDBDQUEwQyxnQkFBZ0IsNEJBQTRCLG1DQUFtQyxLQUFLLDZCQUE2QixVQUFVLCtCQUErQix3REFBd0QsTUFBTSxtQ0FBbUMsc0RBQXNELGdEQUFnRCx1RUFBdUUsb0JBQW9CLGVBQWUsdUJBQXVCLGNBQWMsa0JBQWtCLGtDQUFrQyxTQUFTLG1HQUFtRyxvQkFBb0IsZUFBZSx5Q0FBeUMsaUJBQWlCLDJCQUEyQiw4QkFBOEIsWUFBWSx3REFBd0QsNERBQTRELHdDQUF3QyxpQ0FBaUMsWUFBWSxZQUFZLGVBQWUsOEJBQThCLGVBQWUsc0JBQXNCLGVBQWUsNklBQTZJLGtDQUFrQyxlQUFlLG9OQUFvTixrQ0FBa0MsZUFBZSx3Q0FBd0MsMEJBQTBCLGlFQUFpRSw0Q0FBNEMsaUJBQWlCLFFBQVEsS0FBSyxzQ0FBc0Msd0JBQXdCLG1CQUFtQixjQUFjLFlBQVkseUJBQXlCLHdCQUF3QixLQUFLLFNBQVMsRUFBRSxnQkFBZ0IsK0ZBQStGLGdGQUFnRixpQkFBaUIsa0JBQWtCLGFBQWEsY0FBYyxtQ0FBbUMsK0NBQStDLGlCQUFpQix3QkFBd0IsdUNBQXVDLHFCQUFxQixRQUFRLEtBQUssS0FBSyxLQUFLLGFBQWEscUJBQXFCLGlCQUFpQiw4QkFBOEIsZ0JBQWdCLGlCQUFpQix3QkFBd0IsdUJBQXVCLGdDQUFnQyx5REFBeUQsZ0ZBQWdGLDREQUE0RCxHQUFHLElBQUksRUFBRSxJQUFJLGlCQUFpQixnQkFBZ0IsOElBQThJLG1CQUFtQixrQkFBa0IsbUJBQW1CLDJCQUEyQixtQkFBbUIsdUJBQXVCLHVDQUF1Qyx3SEFBd0gsOEJBQThCLHlCQUF5QixZQUFZLG1CQUFtQixXQUFXLHNDQUFzQyxpQkFBaUIsbUJBQW1CLGlFQUFpRSxLQUFLLDJCQUEyQixVQUFVLDBCQUEwQiw0Q0FBNEMsMkNBQTJDLFlBQVksMkNBQTJDLEtBQUssNkJBQTZCLDZDQUE2QyxrQ0FBa0MseUJBQXlCLFdBQVcsTUFBTSxRQUFRLEtBQUssS0FBSyxLQUFLLGFBQWEscUJBQXFCLCtDQUErQyxrREFBa0QsaUJBQWlCLGlCQUFpQixrQ0FBa0MsbUJBQW1CLGtGQUFrRixNQUFNLE9BQU8sNkJBQTZCLHFEQUFxRCxXQUFXLHFDQUFxQyx5Q0FBeUMsaUJBQWlCLG1EQUFtRCxtQkFBbUIscUVBQXFFLFVBQVUsK0JBQStCLGtEQUFrRCxlQUFlLHVCQUF1QixjQUFjLFNBQVMsZUFBZSxtREFBbUQsS0FBSyxlQUFlLHVCQUF1QixjQUFjLFNBQVMsd0JBQXdCLFFBQVEsUUFBUSx5QkFBeUIsbURBQW1ELE1BQU0sbUJBQW1CLFdBQVcsTUFBTSw4QkFBOEIsaUNBQWlDLHVCQUF1Qiw4QkFBOEIsaUJBQWlCLEtBQUssZ0NBQWdDLCtCQUErQixrQkFBa0IscUNBQXFDLEtBQUssNEJBQTRCLHFDQUFxQyxlQUFlLFVBQVUsbUNBQW1DLDRDQUE0QywyQkFBMkIsa0JBQWtCLHFDQUFxQyxNQUFNLEtBQUssV0FBVyxFQUFFLG9CQUFvQiwrQkFBK0IsS0FBSyxzREFBc0QsNEJBQTRCLFdBQVcsaUJBQWlCLG1GQUFtRixtQkFBbUIsNkJBQTZCLGtCQUFrQiwrQ0FBK0Msa0JBQWtCLFVBQVUsZUFBZSxvREFBb0Qsd0JBQXdCLGNBQWMsZ0JBQWdCLGtDQUFrQyw4RkFBOEYsaUJBQWlCLFdBQVcsZ0JBQWdCLEtBQUssU0FBUyxFQUFFLGlCQUFpQix5Q0FBeUMsU0FBUyxpQkFBaUIsa0JBQWtCLGdCQUFnQiwrQkFBK0IsNENBQTRDLGNBQWMsVUFBVSwrQkFBK0IsMEJBQTBCLGtDQUFrQyxvQkFBb0IsS0FBSywyQkFBMkIsaURBQWlELFNBQVMsMkRBQTJELHdCQUF3Qix5REFBeUQsaUJBQWlCLG1CQUFtQix3QkFBd0IsbUJBQW1CLDZGQUE2RixLQUFLLDJCQUEyQixVQUFVLDBCQUEwQixrQkFBa0IsMENBQTBDLFlBQVksb0NBQW9DLHdCQUF3QixzQkFBc0IsU0FBUyxpQkFBaUIsNEJBQTRCLHVCQUF1QixhQUFhLG1CQUFtQixTQUFTLE9BQU8sZUFBZSxvQkFBb0IsaUVBQWlFLHlCQUF5Qiw0S0FBNEssZ0JBQWdCLHdIQUF3SCxlQUFlLGtCQUFrQiw4QkFBOEIseUJBQXlCLHFDQUFxQyxrREFBa0QsTUFBTSw4Q0FBOEMsR0FBRyxvQkFBb0Isa0JBQWtCLHFCQUFxQix5QkFBeUIsb0JBQW9CLDRCQUE0Qiw2QkFBNkIsc0JBQXNCLDBCQUEwQix5QkFBeUIsb0JBQW9CLDRCQUE0Qiw2QkFBNkIsc0JBQXNCLHdCQUF3QixtQkFBbUIsb0JBQW9CLFlBQVksa0JBQWtCLHdCQUF3QixtQkFBbUIsc0JBQXNCLFlBQVksa0JBQWtCLHNCQUFzQixnQkFBZ0Isc0JBQXNCLG9CQUFvQixjQUFjLGNBQWMsc0JBQXNCLG1DQUFtQywwQ0FBMEMsc0JBQXNCLGlCQUFpQixzQkFBc0IsMEJBQTBCLHFFQUFxRSwwREFBMEQsb0JBQW9CLG1CQUFtQixjQUFjLDRCQUE0Qix5RUFBeUUsNERBQTRELHdCQUF3QixzQkFBc0Isc0NBQXNDLHdCQUF3QixzQkFBc0Isc0NBQXNDLHNCQUFzQixtQkFBbUIsb0NBQW9DLHNCQUFzQixtQkFBbUIsb0NBQW9DLDBCQUEwQix5Q0FBeUMsNENBQTRDLDBCQUEwQix5Q0FBeUMsaURBQWlELDBCQUEwQix5Q0FBeUMsOENBQThDLDBCQUEwQiw0QkFBNEIsb0JBQW9CLDBCQUEwQix5Q0FBeUMsNENBQTRDLDBCQUEwQiwyRkFBMkYsNENBQTRDLEtBQUssaURBQWlELHlDQUF5Qyw2QkFBNkIseUNBQXlDLGdLQUFnSyxtQkFBbUIsa0JBQWtCLHNCQUFzQiwrQkFBK0IsaUNBQWlDLDJDQUEyQyxtQkFBbUIsR0FBRyxvQ0FBb0MsV0FBVyxhQUFhLDRCQUE0QixzQ0FBc0MsMElBQTBJLEdBQUcsa0NBQWtDLG1CQUFtQixhQUFhLEdBQUcseUJBQXlCLCtCQUErQiw4QkFBOEIsNkNBQTZDLG9CQUFvQiwyQ0FBMkMsbUJBQW1CLDZGQUE2Riw2SUFBNkksaUJBQWlCLGtJQUFrSSxLQUFLLHVEQUF1RCxjQUFjLFdBQVcseUJBQXlCLFdBQVcsb0NBQW9DLGVBQWUsK0JBQStCLG9MQUFvTCx3Q0FBd0MsMkVBQTJFLGlDQUFpQyxxQkFBcUIsYUFBYSxtQkFBbUIsbUJBQW1CLGtCQUFrQixVQUFVLEdBQUcsNEhBQTRILCtDQUErQyw0QkFBNEIsZ0RBQWdELHNDQUFzQyxXQUFXLGFBQWEsZ0NBQWdDLGFBQWEsYUFBYSxpQkFBaUIsY0FBYyxVQUFVLG1DQUFtQyxnRUFBZ0Usa0NBQWtDLFdBQVcsU0FBUyxHQUFHLGFBQWEsMkJBQTJCLDBFQUEwRSxLQUFLLDRCQUE0Qiw2RkFBNkYsc0JBQXNCLFFBQVEsTUFBTSxpQkFBaUIsZUFBZSwwSEFBMEgsdURBQXVELHdFQUF3RSxnRkFBZ0YsTUFBTSwrQ0FBK0MsTUFBTSwwQ0FBMEMsTUFBTSx3RUFBd0UsTUFBTSxpRUFBaUUsTUFBTSx5Q0FBeUMsdURBQXVELGtCQUFrQixNQUFNLCtDQUErQyxNQUFNLCtCQUErQixNQUFNLG9DQUFvQyxNQUFNLG1DQUFtQyxNQUFNLHFFQUFxRSxNQUFNLDhGQUE4RixNQUFNLGtEQUFrRCxNQUFNLGdDQUFnQyxNQUFNLG9DQUFvQyxNQUFNLDBDQUEwQyxNQUFNLGlDQUFpQyxNQUFNLGlDQUFpQyxLQUFLLDBDQUEwQyxpREFBaUQsaUNBQWlDLDZDQUE2QyxzQ0FBc0MsMkVBQTJFLGdCQUFnQixHQUFHLFFBQVEsOEJBQThCLHFCQUFxQixpREFBaUQsdUJBQXVCLHVJQUF1SSx1VkFBdVYsaUJBQWlCLG9GQUFvRixtQkFBbUIsTUFBTSxzREFBc0QsR0FBRyx5Q0FBeUMsMkJBQTJCLHFCQUFxQixhQUFhLFVBQVUsK0JBQStCLG9CQUFvQiwyREFBMkQsNEhBQTRILHlEQUF5RCxtRkFBbUYsZ0NBQWdDLG9CQUFvQiwyRkFBMkYsS0FBSyx1R0FBdUcsY0FBYyxZQUFZLElBQUksS0FBSyxzQ0FBc0MsZ0hBQWdILGdCQUFnQixlQUFlLEdBQUcsZUFBZSxrQ0FBa0MsNEJBQTRCLDhCQUE4QixpQkFBaUIsMEJBQTBCLCtCQUErQixXQUFXLHlDQUF5QyxpRkFBaUYseUJBQXlCLGFBQWEsVUFBVSxnQkFBZ0IsK0RBQStELFdBQVcsZUFBZSw4QkFBOEIsc0RBQXNELGlCQUFpQixlQUFlLDZGQUE2RixtQkFBbUIseUJBQXlCLG1CQUFtQixzQkFBc0IsNEJBQTRCLG1CQUFtQixtQkFBbUIseUJBQXlCLGdCQUFnQixJQUFJLDBEQUEwRCwrREFBK0QsZUFBZSxxQkFBcUIsZUFBZSw2QkFBNkIsZUFBZSxvQ0FBb0Msb0JBQW9CLFlBQVksNkVBQTZFLDBCQUEwQix1QkFBdUIsMkJBQTJCLG1DQUFtQyw0QkFBNEIsdUJBQXVCLDRCQUE0QixjQUFjLFlBQVksV0FBVyxXQUFXLDJCQUEyQixtQkFBbUIsS0FBSyxnQ0FBZ0MsbUJBQW1CLG9CQUFvQixhQUFhLDJCQUEyQixNQUFNLGlCQUFpQiwrQkFBK0IsaUZBQWlGLElBQUksU0FBUyxhQUFhLDJCQUEyQiw0SUFBNEksa0RBQWtELGlCQUFpQixpQ0FBaUMsbUJBQW1CLFdBQVcscUZBQXFGLFNBQVMsaUJBQWlCLGlCQUFpQixnQkFBZ0IsaUJBQWlCLGVBQWUsdUdBQXVHLFVBQVUsbUJBQW1CLFdBQVcsOEJBQThCLGFBQWEsaUJBQWlCLEtBQUssU0FBUyxFQUFFLHVCQUF1QixjQUFjLGtCQUFrQixhQUFhLFNBQVMsY0FBYyxnQkFBZ0Isb0JBQW9CLHFEQUFxRCwrSUFBK0ksU0FBUyxrQkFBa0IsdUJBQXVCLHlCQUF5QixxQkFBcUIsNEJBQTRCLEtBQUssU0FBUyxFQUFFLHVCQUF1Qix5QkFBeUIsU0FBUyxZQUFZLGtDQUFrQywyQkFBMkIsbUJBQW1CLHlCQUF5QixxQ0FBcUMscUJBQXFCLFdBQVcsS0FBSyxTQUFTLEVBQUUsc0JBQXNCLGlDQUFpQyxJQUFJLFlBQVksNEJBQTRCLGtDQUFrQyxxQ0FBcUMsYUFBYSxXQUFXLHVCQUF1QixLQUFLLFNBQVMsMkJBQTJCLFNBQVMsZ0JBQWdCLFdBQVcsdUJBQXVCLEtBQUssU0FBUyxpQ0FBaUMsU0FBUyxxQkFBcUIsZ0NBQWdDLDJCQUEyQixzQkFBc0IsOEJBQThCLHFCQUFxQix3QkFBd0IsS0FBSyxzQkFBc0IsZ0NBQWdDLFNBQVMsaUJBQWlCLGdDQUFnQywyQkFBMkIsa0JBQWtCLFdBQVcsNEJBQTRCLEtBQUssU0FBUyxnQ0FBZ0MsU0FBUyxxQkFBcUIsMkNBQTJDLDhDQUE4Qyw0QkFBNEIsNkNBQTZDLG1CQUFtQixZQUFZLElBQUksS0FBSyxhQUFhLHFCQUFxQixZQUFZLE1BQU0scUNBQXFDLFlBQVkscUJBQXFCLCtCQUErQiwrQkFBK0Isa0NBQWtDLG1CQUFtQixNQUFNLEVBQUUsNkJBQTZCLFVBQVUsMkJBQTJCLE1BQU0sSUFBSSxTQUFTLEVBQUUsNkJBQTZCLFVBQVUsMkJBQTJCLE1BQU0sSUFBSSxXQUFXLGNBQWMsbUJBQW1CLHdCQUF3QixRQUFRLEtBQUssU0FBUyxFQUFFLHdCQUF3QixnQkFBZ0IsU0FBUyxtQkFBbUIsd0NBQXdDLFdBQVcsS0FBSyxTQUFTLEVBQUUsZ0JBQWdCLDhDQUE4Qyx3REFBd0QsYUFBYSxJQUFJLFNBQVMsb0RBQW9ELGFBQWEsSUFBSSxTQUFTLDZCQUE2Qix5Q0FBeUMsZUFBZSxHQUFHLGlHQUFpRyxvQ0FBb0MsZ0JBQWdCLElBQUksd0JBQXdCLFVBQVUsMEJBQTBCLG1DQUFtQyxZQUFZLHVCQUF1QiwyQkFBMkIsY0FBYyxLQUFLLHlHQUF5Ryw0REFBNEQsK0JBQStCLGlYQUFpWCxpQkFBaUIsU0FBUyxxQkFBcUIsb0NBQW9DLGVBQWUsT0FBTyxpQkFBaUIsT0FBTyxhQUFhLE9BQU8scUNBQXFDLGFBQWEsT0FBTyxxQkFBcUIsaUJBQWlCLG1CQUFtQixZQUFZLFVBQVUsY0FBYyxhQUFhLEtBQUssV0FBVyxtQ0FBbUMscUhBQXFILE1BQU0sdUZBQXVGLG9DQUFvQyxLQUFLLHlCQUF5QixrQ0FBa0MsS0FBSyx5QkFBeUIsbUdBQW1HLFlBQVksV0FBVyxNQUFNLDJCQUEyQixzQ0FBc0MseUJBQXlCLG9CQUFvQixnQkFBZ0Isb0VBQW9FLGNBQWMsYUFBYSxpQ0FBaUMsZ0JBQWdCLHFDQUFxQyxpR0FBaUcsMkZBQTJGLHVCQUF1QixLQUFLLHlCQUF5QixxRkFBcUYsb0NBQW9DLFlBQVksZ0JBQWdCLGlFQUFpRSxTQUFTLHFCQUFxQixnQkFBZ0IsdURBQXVELE1BQU0sbUhBQW1ILHdCQUF3QixLQUFLLHlCQUF5Qix3RUFBd0UsYUFBYSxhQUFhLGdDQUFnQyxTQUFTLG1CQUFtQixTQUFTLDBCQUEwQixZQUFZLGNBQWMsNkJBQTZCLFlBQVksNEJBQTRCLG9CQUFvQixLQUFLLDREQUE0RCxpQ0FBaUMsMkJBQTJCLFdBQVcsbUNBQW1DLHFCQUFxQixxQkFBcUIsZ0JBQWdCLEtBQUssd0RBQXdELDhCQUE4Qiw4QkFBOEIsV0FBVyxpQ0FBaUMscUJBQXFCLHFCQUFxQixZQUFZLG9CQUFvQixvQkFBb0IsaUJBQWlCLGtCQUFrQixnQkFBZ0IsdUJBQXVCLGVBQWUsU0FBUyxpQkFBaUIsV0FBVyxZQUFZLG9DQUFvQyxZQUFZLFNBQVMsbUJBQW1CLE9BQU8sa0JBQWtCLHdCQUF3QixhQUFhLHFCQUFxQixvQ0FBb0Msb0JBQW9CLGlEQUFpRCxTQUFTLFVBQVUsMkJBQTJCLHFCQUFxQixZQUFZLGFBQWEsT0FBTyw2QkFBNkIsZUFBZSxPQUFPLFdBQVcsY0FBYyxrQkFBa0IsZUFBZSx1QkFBdUIsZUFBZSxrRUFBa0UsaUJBQWlCLDBEQUEwRCxpQkFBaUIsb0NBQW9DLHVCQUF1QixvQkFBb0IsbUJBQW1CLHlEQUF5RCxTQUFTLG1CQUFtQixpRUFBaUUsbUJBQW1CLGNBQWMsZ0NBQWdDLDhDQUE4QyxvQkFBb0IsU0FBUyw2REFBNkQsMEJBQTBCLG1CQUFtQixxREFBcUQsMkJBQTJCLEtBQUssb0JBQW9CLGtCQUFrQiwyQkFBMkIsNEJBQTRCLFlBQVksS0FBSyxzQkFBc0IsS0FBSyxLQUFLLGtDQUFrQyxLQUFLLCtCQUErQixNQUFNLDJDQUEyQyxvQkFBb0IseUJBQXlCLFVBQVUscUJBQXFCLDBCQUEwQixpQkFBaUIsa0NBQWtDLDBCQUEwQixvQkFBb0IsaUJBQWlCLGFBQWEsZ0JBQWdCLGdDQUFnQyxpQkFBaUIscUZBQXFGLFlBQVksaUNBQWlDLFlBQVksaUNBQWlDLFVBQVUseUJBQXlCLG9CQUFvQixXQUFXLGdDQUFnQyxVQUFVLG1DQUFtQyxjQUFjLHlCQUF5QixjQUFjLG1DQUFtQyxrQkFBa0Isc0NBQXNDLGdCQUFnQixzQ0FBc0MsYUFBYSxjQUFjLDZCQUE2QixlQUFlLDRDQUE0QyxpQkFBaUIsK0JBQStCLG9CQUFvQix5Q0FBeUMsZ0JBQWdCLFNBQVMsZUFBZSxxRkFBcUYsUUFBUSxzSEFBc0gsNkJBQTZCLHFCQUFxQixvQ0FBb0MsaUJBQWlCLHlGQUF5Riw0Q0FBNEMsaUJBQWlCLHFCQUFxQixnQkFBZ0Isa0NBQWtDLGlEQUFpRCxRQUFRLGtFQUFrRSxxQkFBcUIsaUNBQWlDLGlDQUFpQyxxQ0FBcUMsbUJBQW1CLE9BQU8sY0FBYyx5QkFBeUIsVUFBVSx5QkFBeUIsYUFBYSx5QkFBeUIsV0FBVyx5QkFBeUIsVUFBVSx5QkFBeUIsVUFBVSx5QkFBeUIsYUFBYSx5QkFBeUIsZUFBZSx5QkFBeUIsWUFBWSx5QkFBeUIsWUFBWSx5QkFBeUIsVUFBVSx5QkFBeUIsR0FBRyxxQkFBcUIsbUJBQW1CLDJGQUEyRixhQUFhLElBQUksVUFBVSxvQkFBb0IsdU9BQXVPLFdBQVcsYUFBYSxPQUFPLDRJQUE0SSx5QkFBeUIsYUFBYSwyQkFBMkIsK0NBQStDLGFBQWEsMkJBQTJCLCtDQUErQyxZQUFZLDJCQUEyQixxQkFBcUIsZ0JBQWdCLG9DQUFvQyx5QkFBeUIsc0JBQXNCLDJCQUEyQix1QkFBdUIsb0JBQW9CLDJCQUEyQix1QkFBdUIsV0FBVyxjQUFjLCtCQUErQiwyQkFBMkIsb0JBQW9CLGtCQUFrQiwrQkFBK0IsMkJBQTJCLG9CQUFvQixZQUFZLEtBQUssWUFBWSxrREFBa0QsdUJBQXVCLGlCQUFpQixvQ0FBb0MsYUFBYSw0Q0FBNEMsYUFBYSwyRUFBMkUsU0FBUyxjQUFjLHdCQUF3QixZQUFZLGtDQUFrQyx3QkFBd0Isb0JBQW9CLGlEQUFpRCxRQUFRLHdCQUF3QixhQUFhLGFBQWEsWUFBWSw0QkFBNEIsb0NBQW9DLG9CQUFvQixzQkFBc0IsU0FBUyxxQkFBcUIsU0FBUyxnQkFBZ0IsS0FBSyw0RkFBNEYsU0FBUyxZQUFZLElBQUksK0NBQStDLGtCQUFrQixpQkFBaUIsa0JBQWtCLHNCQUFzQixvQ0FBb0MsTUFBTSxrREFBa0QsU0FBUyxvR0FBb0csbUJBQW1CLGVBQWUsWUFBWSxJQUFJLEtBQUssOENBQThDLHNDQUFzQyxzQkFBc0IsVUFBVSwyQkFBMkIsNEtBQTRLLDJCQUEyQixhQUFhLG9EQUFvRCxnQ0FBZ0MsT0FBTyxzREFBc0QsZ0ZBQWdGLG9CQUFvQixzQ0FBc0MscUNBQXFDLHNEQUFzRCxnQkFBZ0IsYUFBYSxVQUFVLDJCQUEyQixnR0FBZ0csNkJBQTZCLHVCQUF1QiwyQkFBMkIsb0JBQW9CLGVBQWUsVUFBVSxlQUFlLE9BQU8sZ0NBQWdDLGVBQWUsMENBQTBDLE9BQU8sZ0RBQWdELHFCQUFxQixlQUFlLCtIQUErSCxlQUFlLFVBQVUsZ0NBQWdDLHdCQUF3QixzQkFBc0IscUJBQXFCLFlBQVksS0FBSyx5Q0FBeUMsMEJBQTBCLHVCQUF1QixZQUFZLFdBQVcsbUJBQW1CLFNBQVMsS0FBSyw4Q0FBOEMsWUFBWSxJQUFJLEtBQUssYUFBYSw4RUFBOEUsT0FBTyxRQUFRLGdFQUFnRSxXQUFXLGVBQWUsYUFBYSxLQUFLLDhCQUE4QixFQUFFLDBCQUEwQixlQUFlLHdDQUF3QyxPQUFPLGtCQUFrQix3QkFBd0IsYUFBYSxLQUFLLDhCQUE4QixFQUFFLDhEQUE4RCxLQUFLLE9BQU8sNkJBQTZCLGNBQWMsVUFBVSxFQUFFLFlBQVksaUJBQWlCLFFBQVEsTUFBTSxFQUFFLE1BQU0sS0FBSyw2Q0FBNkMsRUFBRSx3QkFBd0Isd0JBQXdCLElBQUksd0JBQXdCLHdCQUF3QiwrREFBK0QsUUFBUSxLQUFLLHNDQUFzQyxLQUFLLDRCQUE0QixrQ0FBa0MsVUFBVSxvSEFBb0gsZUFBZSxxQ0FBcUMsbUJBQW1CLFVBQVUsRUFBRSxrQ0FBa0Msa0JBQWtCLHFCQUFxQixlQUFlLHVCQUF1QixpQkFBaUIsNktBQTZLLG9hQUFvYSxvQkFBb0IsaUJBQWlCLFlBQVksZ0JBQWdCLHdCQUF3QixxRUFBcUUsZUFBZSw4QkFBOEIsbUJBQW1CLFlBQVkscUJBQXFCLGFBQWEsbURBQW1ELGFBQWEsT0FBTyw0Q0FBNEMsa0JBQWtCLFFBQVEsYUFBYSxRQUFRLFdBQVcsUUFBUSxzQkFBc0IsU0FBUyxxQkFBcUIsVUFBVSxjQUFjLGtCQUFrQixlQUFlLHVCQUF1QixTQUFTLG1CQUFtQiwwREFBMEQsTUFBTSxvRUFBb0UsWUFBWSxtQ0FBbUMsK0JBQStCLFVBQVUsa0NBQWtDLGNBQWMsVUFBVSxrQ0FBa0MsY0FBYywrQkFBK0IsVUFBVSxxQkFBcUIsMEJBQTBCLFdBQVcsbUNBQW1DLDRHQUE0RyxtQkFBbUIscUJBQXFCLGlCQUFpQixxQ0FBcUMsVUFBVSxTQUFTLCtCQUErQixXQUFXLGdCQUFnQiwyQkFBMkIsZ0NBQWdDLEtBQUssc0JBQXNCLDZDQUE2QyxhQUFhLGlCQUFpQixVQUFVLDhCQUE4Qiw2QkFBNkIsYUFBYSxxQkFBcUIsNEJBQTRCLFNBQVMsZUFBZSxtREFBbUQsaUJBQWlCLHlCQUF5QixrQkFBa0Isb0JBQW9CLE1BQU0sbUJBQW1CLCtCQUErQiwyREFBMkQsY0FBYyxTQUFTLGFBQWEsU0FBUyxvQkFBb0IsWUFBWSxPQUFPLHdEQUF3RCxVQUFVLDJEQUEyRCxRQUFRLHlEQUF5RCxPQUFPLDBCQUEwQixRQUFRLG9DQUFvQyxVQUFVLHVCQUF1QixrQkFBa0IsY0FBYyxlQUFlLDRDQUE0QyxNQUFNLHNCQUFzQixLQUFLLG1DQUFtQyxtQ0FBbUMsaUJBQWlCLFlBQVksSUFBSSxrQkFBa0IsV0FBVywwQkFBMEIscUJBQXFCLHlCQUF5QixrQkFBa0IsY0FBYyxvQkFBb0IscUNBQXFDLGlCQUFpQix3QkFBd0IsU0FBUyxZQUFZLFdBQVcsNkJBQTZCLFVBQVUsZUFBZSx1QkFBdUIsU0FBUyxxQkFBcUIsK0hBQStILGlCQUFpQix5QkFBeUIsa0JBQWtCLG9CQUFvQixNQUFNLGdIQUFnSCxjQUFjLGtDQUFrQyxXQUFXLDBCQUEwQixxQkFBcUIsaUVBQWlFLGdDQUFnQyw0QkFBNEIsVUFBVSxrQ0FBa0MsY0FBYyxVQUFVLGdDQUFnQyxvRkFBb0YsTUFBTSx3R0FBd0csMEJBQTBCLHNHQUFzRyxpQkFBaUIsd0JBQXdCLHlCQUF5Qix1RkFBdUYsY0FBYyxZQUFZLFdBQVcsS0FBSyxhQUFhLG9EQUFvRCxvQkFBb0IseUJBQXlCLGlMQUFpTCx1RUFBdUUsU0FBUyxpQkFBaUIsaUhBQWlILG1CQUFtQixhQUFhLGtHQUFrRyxRQUFRLGlDQUFpQywwRkFBMEYsZ0JBQWdCLGlEQUFpRCxZQUFZLDJCQUEyQixhQUFhLGNBQWMsd0JBQXdCLGlCQUFpQiw4Q0FBOEMsWUFBWSxJQUFJLEtBQUssYUFBYSxzRUFBc0Usb0JBQW9CLGNBQWMsNERBQTRELFlBQVksb0ZBQW9GLGtGQUFrRiw2SEFBNkgsVUFBVSxpQkFBaUIsZUFBZSxtQ0FBbUMsV0FBVyxjQUFjLHlEQUF5RCxhQUFhLGtNQUFrTSx5QkFBeUIsa01BQWtNLHNKQUFzSiw2QkFBNkIsMkpBQTJKLGdDQUFnQywrQkFBK0IsZ0NBQWdDLHFDQUFxQyxzQkFBc0Isb01BQW9NLFVBQVUsZ0JBQWdCLGNBQWMsb0NBQW9DLHFDQUFxQyx3QkFBd0IsVUFBVSxjQUFjLGtFQUFrRSxLQUFLLDRCQUE0QixjQUFjLHNFQUFzRSxLQUFLLHdCQUF3QixvQkFBb0Isd0ZBQXdGLDZCQUE2QixZQUFZLG1LQUFtSyxLQUFLLDRGQUE0Rix1Q0FBdUMsNkJBQTZCLDJCQUEyQixvQkFBb0IseUpBQXlKLG9CQUFvQiwrQkFBK0IsaUJBQWlCLDBFQUEwRSxLQUFLLDZCQUE2Qiw4REFBOEQsb0JBQW9CLDZGQUE2RixxQkFBcUIsS0FBSyxLQUFLLGFBQWEseUNBQXlDLHVFQUF1RSxPQUFPLGVBQWUsS0FBSyxTQUFTLEVBQUUsbUNBQW1DLGdFQUFnRSxtQ0FBbUMsS0FBSyxjQUFjLHdCQUF3Qiw4SUFBOEksWUFBWSxJQUFJLEtBQUssdUJBQXVCLHVCQUF1QixhQUFhLG9CQUFvQixjQUFjLGdFQUFnRSw2QkFBNkIsa0NBQWtDLGlCQUFpQixtREFBbUQscUVBQXFFLCtDQUErQyxnRkFBZ0YsdUNBQXVDLFdBQVcsd0RBQXdELFlBQVksZ0JBQWdCLDJEQUEyRCxLQUFLLDJDQUEyQyxtR0FBbUcsMkJBQTJCLHVEQUF1RCw4QkFBOEIsOEVBQThFLGNBQWMsSUFBSSxLQUFLLHFDQUFxQyxlQUFlLGtHQUFrRyxlQUFlLHVCQUF1Qiw2QkFBNkIsdUJBQXVCLGFBQWEsdUNBQXVDLG9GQUFvRiw0QkFBNEIsOERBQThELEtBQUssaUJBQWlCLDhCQUE4QixPQUFPLGdEQUFnRCxlQUFlLGlCQUFpQiwwQ0FBMEMsb0JBQW9CLGFBQWEsV0FBVyxZQUFZLFdBQVcsS0FBSyxxQkFBcUIsNkVBQTZFLG9FQUFvRSxzQkFBc0Isd0JBQXdCLFNBQVMscUpBQXFKLFdBQVcsTUFBTSxtSUFBbUksNENBQTRDLFFBQVEsWUFBWSxLQUFLLE1BQU0sNERBQTRELFFBQVEsb0NBQW9DLE1BQU0saUJBQWlCLGdIQUFnSCxvQ0FBb0MseUJBQXlCLGtCQUFrQiw2QkFBNkIsYUFBYSwwREFBMEQsZ0RBQWdELGVBQWUsMkZBQTJGLGlEQUFpRCxtQkFBbUIsYUFBYSw0QkFBNEIsd0RBQXdELGVBQWUsVUFBVSxvRUFBb0Usa0JBQWtCLG9CQUFvQixrQkFBa0IsVUFBVSwrQkFBK0IsK0RBQStELHNCQUFzQixVQUFVLHNCQUFzQixVQUFVLGNBQWMseUVBQXlFLFVBQVUsMENBQTBDLGlEQUFpRCxTQUFTLGNBQWMsd0RBQXdELDJCQUEyQixnQ0FBZ0MsYUFBYSxpQ0FBaUMsb0RBQW9ELFVBQVUsZ0RBQWdELHFEQUFxRCw2QkFBNkIsUUFBUSxxSkFBcUosNkJBQTZCLGFBQWEsK0NBQStDLHlGQUF5RixnQkFBZ0IsK0NBQStDLGdFQUFnRSwyQ0FBMkMsNkJBQTZCLFNBQVMsWUFBWSxXQUFXLEtBQUssYUFBYSx1QkFBdUIsdUJBQXVCLGFBQWEseURBQXlELEtBQUssc0JBQXNCLHFEQUFxRCw2RUFBNkUsdURBQXVELDREQUE0RCxTQUFTLHVCQUF1Qix3SEFBd0gsK0VBQStFLG9DQUFvQyxTQUFTLG1CQUFtQiwyQkFBMkIsdUJBQXVCLG9CQUFvQixrQkFBa0Isc0NBQXNDLDZCQUE2QiwyQkFBMkIsNkRBQTZELFdBQVcsYUFBYSxxQkFBcUIsS0FBSyxXQUFXLCtCQUErQixPQUFPLHdFQUF3RSwyREFBMkQsb0JBQW9CLGlHQUFpRyxLQUFLLHlDQUF5QyxpRUFBaUUsMENBQTBDLHNEQUFzRCxtQ0FBbUMsMENBQTBDLHNEQUFzRCxlQUFlLHVEQUF1RCw0Q0FBNEMsd0RBQXdELFVBQVUsK0RBQStELFVBQVUsc0dBQXNHLDhCQUE4Qix1RkFBdUYsY0FBYyx1QkFBdUIscUNBQXFDLCtEQUErRCxpRkFBaUYsaUNBQWlDLGdDQUFnQyxrQkFBa0IsY0FBYyx1QkFBdUIsa0NBQWtDLHNDQUFzQywrQkFBK0Isa0JBQWtCLGFBQWEsd0NBQXdDLG9CQUFvQixnQ0FBZ0MsZUFBZSx1QkFBdUIsZUFBZSxpQkFBaUIsNEJBQTRCLG9CQUFvQiwyREFBMkQsZUFBZSw4QkFBOEIsd0JBQXdCLGFBQWEscUdBQXFHLG1CQUFtQiwyREFBMkQsWUFBWSxZQUFZLElBQUksS0FBSyxnQkFBZ0Isd0NBQXdDLDRCQUE0QixPQUFPLDBCQUEwQixzREFBc0QscUJBQXFCLFVBQVUsb0JBQW9CLFNBQVMsd0RBQXdELG9CQUFvQixnQkFBZ0IsdUJBQXVCLGtCQUFrQixxQkFBcUIsVUFBVSxtREFBbUQsMkJBQTJCLEtBQUssWUFBWSx3QkFBd0IsVUFBVSxrQ0FBa0MsMkJBQTJCLDBCQUEwQixzQkFBc0IsNERBQTRELFNBQVMsdURBQXVELHNEQUFzRCwrQ0FBK0MsS0FBSyxpQ0FBaUMsdURBQXVELHlDQUF5QyxhQUFhLHVDQUF1QyxtQkFBbUIsK0JBQStCLFVBQVUsK0NBQStDLE1BQU0sMkNBQTJDLCtCQUErQiwyREFBMkQscUpBQXFKLHVDQUF1QywyQ0FBMkMsb0VBQW9FLHdFQUF3RSwyQkFBMkIsb0NBQW9DLG1CQUFtQixxQ0FBcUMsZ0NBQWdDLHNFQUFzRSxhQUFhLHNEQUFzRCwyQkFBMkIsMERBQTBELHlCQUF5Qiw4Q0FBOEMsc0NBQXNDLHdCQUF3QixxQ0FBcUMsd0JBQXdCLDJDQUEyQyxzQkFBc0IsNEJBQTRCLHVCQUF1QixlQUFlLDRCQUE0Qix5QkFBeUIsZ0RBQWdELG1DQUFtQyxjQUFjLHdEQUF3RCx3QkFBd0IsY0FBYyx1QkFBdUIsaUJBQWlCLHlCQUF5QixxQkFBcUIsa0JBQWtCLHdCQUF3QiwrTEFBK0wsWUFBWSw4QkFBOEIsd0JBQXdCLHVHQUF1Ryx3QkFBd0Isd0JBQXdCLGFBQWEscURBQXFELGNBQWMsdUJBQXVCLGNBQWMsb0NBQW9DLHVCQUF1Qix1REFBdUQsNkJBQTZCLGdCQUFnQixvQkFBb0IsaUJBQWlCLHdCQUF3Qix3QkFBd0IsaURBQWlELEtBQUssbUVBQW1FLFlBQVksaUJBQWlCLDBEQUEwRCxZQUFZLGlCQUFpQiwyREFBMkQsTUFBTSxlQUFlLDZFQUE2RSxvQkFBb0IsaUJBQWlCLG1GQUFtRixVQUFVLFFBQVEsK0VBQStFLEtBQUssVUFBVSxtRkFBbUYsVUFBVSxRQUFRLHVEQUF1RCxVQUFVLG1GQUFtRixVQUFVLFFBQVEseURBQXlELHVCQUF1QixzQkFBc0IsNFJBQTRSLHVCQUF1Qiw0RkFBNEYsMkJBQTJCLDZGQUE2Rix5REFBeUQsZ0VBQWdFLDRIQUE0SCxpQkFBaUIsb0JBQW9CLFFBQVEsb0JBQW9CLHNDQUFzQywyQ0FBMkMsY0FBYyxvUEFBb1AsaUJBQWlCLHdCQUF3QixJQUFJLDRCQUE0QixVQUFVLDJGQUEyRiw2R0FBNkcsYUFBYSxNQUFNLHNCQUFzQiwrQkFBK0IsNENBQTRDLGlDQUFpQyxpQkFBaUIsd0NBQXdDLG1CQUFtQixJQUFJLGVBQWUsZUFBZSxLQUFLLFNBQVMsRUFBRSxtQkFBbUIsNkJBQTZCLEtBQUssa0NBQWtDLG1CQUFtQixRQUFRLHdEQUF3RCxLQUFLLG9CQUFvQixlQUFlLHNCQUFzQixVQUFVLFdBQVcsU0FBUyxTQUFTLE9BQU8sZUFBZSxpQkFBaUIsZ0RBQWdELGNBQWMsYUFBYSxzQ0FBc0MsZUFBZSxRQUFRLGdDQUFnQyxhQUFhLDRCQUE0QixpQkFBaUIsNkJBQTZCLEtBQUssT0FBTyxlQUFlLFNBQVMsaUJBQWlCLHNCQUFzQixPQUFPLGFBQWEsMENBQTBDLFVBQVUsdUJBQXVCLG1EQUFtRCxrQkFBa0Isd0NBQXdDLG9EQUFvRCw2QkFBNkIsTUFBTSwyRkFBMkYsc0NBQXNDLHFDQUFxQyxxQ0FBcUMsVUFBVSwwQ0FBMEMsY0FBYyxtQ0FBbUMsY0FBYyxXQUFXLGNBQWMsY0FBYyxjQUFjLDRCQUE0QixjQUFjLDRCQUE0QixjQUFjLFVBQVUsbUJBQW1CLGlDQUFpQyx3QkFBd0IsOEJBQThCLE1BQU0sZUFBZSxvREFBb0QsaUJBQWlCLFlBQVksOEJBQThCLE1BQU0saUJBQWlCLCtDQUErQyxlQUFlLHlCQUF5QixpQkFBaUIsMEJBQTBCLHFCQUFxQixnQkFBZ0Isb0NBQW9DLHFDQUFxQyx1Q0FBdUMsV0FBVyxLQUFLLG1CQUFtQixZQUFZLFNBQVMsaUJBQWlCLHFCQUFxQixtQkFBbUIsSUFBSSxXQUFXLFFBQVEsZ0JBQWdCLGlCQUFpQix1RUFBdUUsbUJBQW1CLG9IQUFvSCxXQUFXLGdFQUFnRSwrQkFBK0IsSUFBSSx5REFBeUQsaUNBQWlDLFNBQVMsZ0RBQWdELHNFQUFzRSxRQUFRLDhDQUE4Qyw4QkFBOEIsNkZBQTZGLDhKQUE4SixzQkFBc0IsOEJBQThCLG1CQUFtQixNQUFNLG9EQUFvRCxNQUFNLDZCQUE2QixrREFBa0QsVUFBVSxJQUFJLGtEQUFrRCw4QkFBOEIsb0NBQW9DLG9DQUFvQyxRQUFRLFdBQVcsOEJBQThCLHFEQUFxRCxZQUFZLElBQUksS0FBSywyQkFBMkIsaUJBQWlCLDZDQUE2QyxHQUFHLDRFQUE0RSw2QkFBNkIsNkZBQTZGLHNCQUFzQixnQ0FBZ0MsNkJBQTZCLDBGQUEwRixnQkFBZ0IsZ0NBQWdDLG9CQUFvQixlQUFlLElBQUksWUFBWSxXQUFXLFdBQVcsUUFBUSxnQkFBZ0Isa0JBQWtCLG1CQUFtQixpQkFBaUIsa0JBQWtCLE1BQU0sYUFBYSxZQUFZLElBQUksd0JBQXdCLG9CQUFvQixjQUFjLElBQUksb0NBQW9DLFlBQVksV0FBVyx1QkFBdUIsUUFBUSxlQUFlLG1CQUFtQiw2QkFBNkIsU0FBUyxzQkFBc0IsWUFBWSxLQUFLLGNBQWMsWUFBWSxLQUFLLGdCQUFnQixXQUFXLEtBQUssOEJBQThCLGVBQWUsYUFBYSxlQUFlLGlDQUFpQyxZQUFZLElBQUksaUNBQWlDLFNBQVMsaUJBQWlCLG1CQUFtQixZQUFZLEtBQUssYUFBYSxFQUFFLGtCQUFrQixNQUFNLGFBQWEsUUFBUSxnSEFBZ0gsU0FBUyxtQkFBbUIsc0JBQXNCLGtCQUFrQixvSEFBb0gsdUJBQXVCLGlDQUFpQyx3R0FBd0csbUNBQW1DLCtCQUErQixJQUFJLGtHQUFrRyxzREFBc0QsK0NBQStDLEtBQUssMEJBQTBCLDRCQUE0QixxREFBcUQsVUFBVSwyQkFBMkIsTUFBTSwrRUFBK0Usb0JBQW9CLG1DQUFtQywwQ0FBMEMsb0NBQW9DLGtCQUFrQixpQkFBaUIsb0VBQW9FLG9CQUFvQix3RUFBd0UsOEJBQThCLEtBQUssU0FBUyxFQUFFLFFBQVEsdUJBQXVCLGtCQUFrQixpQkFBaUIsMkdBQTJHLGtDQUFrQyxLQUFLLFVBQVUsZ0RBQWdELGtCQUFrQixvQkFBb0IsMkJBQTJCLGlCQUFpQiwwQ0FBMEMsMkRBQTJELG9DQUFvQyw4QkFBOEIscUNBQXFDLGtCQUFrQixpQkFBaUIsdUZBQXVGLDZCQUE2QixrQkFBa0IsaUJBQWlCLGlFQUFpRSx1Q0FBdUMseUNBQXlDLHFCQUFxQixVQUFVLGdEQUFnRCw2Q0FBNkMsbURBQW1ELFNBQVMsc0tBQXNLLFFBQVEsa0NBQWtDLHlDQUF5QyxxREFBcUQsYUFBYSw4QkFBOEIsMEJBQTBCLFNBQVMsTUFBTSxtREFBbUQsTUFBTSw4RUFBOEUsbUJBQW1CLDZDQUE2QyxvQkFBb0IsZUFBZSwwR0FBMEcsWUFBWSxpQ0FBaUMsZ0JBQWdCLHlCQUF5QixpQkFBaUIsWUFBWSxpQ0FBaUMsY0FBYyxXQUFXLDJCQUEyQixLQUFLLFNBQVMsZ0NBQWdDLFNBQVMsa0JBQWtCLFdBQVcsMkJBQTJCLEtBQUssU0FBUyxzQ0FBc0MsU0FBUyxrQkFBa0IsK0JBQStCLFVBQVUsa0NBQWtDLFVBQVUsNEJBQTRCLG1DQUFtQyxjQUFjLGtFQUFrRSx5QkFBeUIsa0JBQWtCLFdBQVcsMkJBQTJCLEtBQUssU0FBUyxFQUFFLDJCQUEyQiw0QkFBNEIsYUFBYSxxQkFBcUIsU0FBUyxxQkFBcUIsMkJBQTJCLEtBQUssTUFBTSxFQUFFLDBCQUEwQixrQkFBa0IsSUFBSSxTQUFTLG9CQUFvQiwwQkFBMEIsS0FBSyxNQUFNLEVBQUUseUJBQXlCLGtCQUFrQixJQUFJLFNBQVMsd0JBQXdCLHNDQUFzQyxTQUFTLGVBQWUsNkNBQTZDLGFBQWEsOENBQThDLGdCQUFnQixpQ0FBaUMsMkJBQTJCLHVCQUF1Qiw2QkFBNkIscUNBQXFDLGVBQWUsZ0NBQWdDLDJCQUEyQixzQkFBc0IsNEJBQTRCLHFDQUFxQyxtQkFBbUIsK0JBQStCLFFBQVEsVUFBVSwrQkFBK0IsZUFBZSxFQUFFLGtCQUFrQix5QkFBeUIsWUFBWSxnQ0FBZ0MsZUFBZSxFQUFFLGtCQUFrQiw2QkFBNkIsWUFBWSxpQkFBaUIsU0FBUyxzQ0FBc0MsWUFBWSxJQUFJLEtBQUssYUFBYSw2REFBNkQsU0FBUyxxQkFBcUIsUUFBUSxzQ0FBc0MsWUFBWSxJQUFJLEtBQUssYUFBYSx3RUFBd0UsU0FBUyxlQUFlLDhCQUE4QixhQUFhLFdBQVcsY0FBYyw2QkFBNkIsU0FBUyxZQUFZLEtBQUssYUFBYSxZQUFZLCtCQUErQix1Q0FBdUMsNkJBQTZCLHFDQUFxQyxpREFBaUQsNEJBQTRCLGtDQUFrQyxvQ0FBb0MsbUJBQW1CLG1IQUFtSCxjQUFjLGtDQUFrQyx1Q0FBdUMsWUFBWSxpQ0FBaUMscUNBQXFDLFFBQVEsMkJBQTJCLHFEQUFxRCxhQUFhLCtDQUErQyxnQkFBZ0IsMkJBQTJCLG1CQUFtQixhQUFhLHVEQUF1RCxhQUFhLDBDQUEwQyxjQUFjLCtHQUErRyxtQkFBbUIsd0NBQXdDLEtBQUssZ0NBQWdDLHFDQUFxQyxRQUFRLHVEQUF1RCxZQUFZLElBQUksS0FBSyxrQkFBa0IscUNBQXFDLG1DQUFtQyxRQUFRLFlBQVksSUFBSSxLQUFLLGFBQWEsZ0RBQWdELHdCQUF3QiwwQkFBMEIsZ0JBQWdCLHNDQUFzQyxLQUFLLHdCQUF3Qiw0QkFBNEIsK0NBQStDLFlBQVksYUFBYSw4Q0FBOEMsa0JBQWtCLHdCQUF3QixhQUFhLHdCQUF3QixrQ0FBa0MsbUJBQW1CLHdCQUF3QixhQUFhLFVBQVUsaUNBQWlDLGlCQUFpQixHQUFHLCtIQUErSCxTQUFTLGFBQWEsT0FBTyx3SEFBd0gsb0JBQW9CLFlBQVksWUFBWSxTQUFTLG1CQUFtQixTQUFTLG1CQUFtQixTQUFTLGtCQUFrQixTQUFTLGtCQUFrQixTQUFTLGFBQWEsU0FBUyxzQkFBc0IsU0FBUyxxQkFBcUIsU0FBUyxXQUFXLFNBQVMsZUFBZSxTQUFTLGdCQUFnQixTQUFTLHdCQUF3QixVQUFVLGVBQWUsdUJBQXVCLG1CQUFtQixrQkFBa0IsS0FBSyxFQUFFLEVBQUUsZ0JBQWdCLGdDQUFnQyxnQkFBZ0IsU0FBUyxvQkFBb0IsZUFBZSxTQUFTLGNBQWMsT0FBTyxhQUFhLFNBQVMsV0FBVyxTQUFTLHVCQUF1QixVQUFVLGVBQWUsdUJBQXVCLG9CQUFvQixpQkFBaUIsYUFBYSxlQUFlLGNBQWMsY0FBYyxxQ0FBcUMsNEJBQTRCLE9BQU8saUJBQWlCLDBCQUEwQixxRUFBcUUsU0FBUyxPQUFPLFdBQVcsT0FBTyxnQkFBZ0IsT0FBTyxlQUFlLE9BQU8sZUFBZSxTQUFTLGFBQWEsWUFBWSxXQUFXLEtBQUssYUFBYSxxQkFBcUIsMEJBQTBCLHFCQUFxQixhQUFhLGlGQUFpRixhQUFhLE9BQU8scUhBQXFILGtCQUFrQixVQUFVLGVBQWUsdUJBQXVCLGNBQWMsMENBQTBDLGVBQWUsdUNBQXVDLCtDQUErQyxtQkFBbUIsZ0NBQWdDLHdCQUF3QixZQUFZLFdBQVcsS0FBSyxpQkFBaUIsV0FBVyxTQUFTLFNBQVMsaUJBQWlCLDZFQUE2RSxVQUFVLHNEQUFzRCxRQUFRLGtCQUFrQixTQUFTLDJEQUEyRCx3QkFBd0IsU0FBUyxzQkFBc0IsY0FBYyxLQUFLLG9CQUFvQixpQkFBaUIsbUJBQW1CLGFBQWEsc0NBQXNDLG9CQUFvQixlQUFlLDZCQUE2QixpQkFBaUIsa0JBQWtCLGdCQUFnQixxQ0FBcUMsaUJBQWlCLDJCQUEyQiwwQkFBMEIsaUJBQWlCLGNBQWMsaUNBQWlDLGdCQUFnQix1QkFBdUIsYUFBYSw4REFBOEQsZUFBZSxzQkFBc0IsU0FBUyxpQkFBaUIsU0FBUyxtQkFBbUIsT0FBTyxPQUFPLHlCQUF5QixHQUFHLGFBQWEsTUFBTSxVQUFVLG9CQUFvQixhQUFhLHVEQUF1RCw2QkFBNkIsb0JBQW9CLDRCQUE0QixhQUFhLHlCQUF5QixvQ0FBb0MsT0FBTyxXQUFXLHFCQUFxQixhQUFhLCtHQUErRyxhQUFhLE9BQU8sa0ZBQWtGLG9CQUFvQixhQUFhLDBCQUEwQiw0QkFBNEIsbUZBQW1GLGtCQUFrQiwyQkFBMkIsOERBQThELDBFQUEwRSxrRkFBa0YsVUFBVSxlQUFlLGFBQWEsWUFBWSwrQkFBK0IsMkNBQTJDLG9CQUFvQixPQUFPLFFBQVEsY0FBYyxrQkFBa0IsZUFBZSx1QkFBdUIsK0JBQStCLHFCQUFxQix1QkFBdUIsaVFBQWlRLG9CQUFvQixzSEFBc0gsZUFBZSxhQUFhLHFCQUFxQiwyS0FBMkssaUJBQWlCLHFDQUFxQyxNQUFNLG1DQUFtQyxLQUFLLFVBQVUsWUFBWSxXQUFXLEtBQUsseUJBQXlCLHlCQUF5QixVQUFVLHlDQUF5Qyw4Q0FBOEMsNEJBQTRCLCtGQUErRixHQUFHLHNCQUFzQixvQ0FBb0MsZ0NBQWdDLGdDQUFnQyw0QkFBNEIsZUFBZSwyQ0FBMkMsSUFBSSxzQkFBc0IsMEJBQTBCLDRCQUE0QixTQUFTLHdCQUF3QixlQUFlLGFBQWEseUJBQXlCLCtEQUErRCxTQUFTLDJCQUEyQix3TkFBd04sb0dBQW9HLHdFQUF3RSw0V0FBNFcsY0FBYyxrQ0FBa0MsMEJBQTBCLCtCQUErQixxQkFBcUIsYUFBYSw0QkFBNEIsaUNBQWlDLHFCQUFxQixhQUFhLDZCQUE2QixrQ0FBa0MscUJBQXFCLGFBQWEsK0JBQStCLG9DQUFvQyxxQkFBcUIsYUFBYSx3QkFBd0IsNkJBQTZCLCtDQUErQyx1Q0FBdUMsdUJBQXVCLG1CQUFtQix1QkFBdUIsNkRBQTZELGlCQUFpQiw2QkFBNkIsYUFBYSxxQkFBcUIsbURBQW1ELDhCQUE4QixtQ0FBbUMsMEJBQTBCLGVBQWUsS0FBSyxxQkFBcUIsOERBQThELGlDQUFpQyx1QkFBdUIsYUFBYSxrQ0FBa0MseUNBQXlDLDBCQUEwQiw2QkFBNkIsMkJBQTJCLDBFQUEwRSxZQUFZLCtDQUErQyxVQUFVLFFBQVEsdUNBQXVDLGFBQWEsc0JBQXNCLDJDQUEyQyxtQkFBbUIsZ0NBQWdDLGdDQUFnQyxvQkFBb0IsY0FBYyx3Q0FBd0MsV0FBVyxvQ0FBb0MsWUFBWSx3Q0FBd0MscUJBQXFCLG9CQUFvQixnQkFBZ0Isd0JBQXdCLGlCQUFpQix5QkFBeUIsU0FBUyxpQkFBaUIsa0JBQWtCLDBCQUEwQixVQUFVLG9GQUFvRixnSUFBZ0ksb0JBQW9CLHdCQUF3Qiw4QkFBOEIsY0FBYyxzUEFBc1Asb0NBQW9DLG1HQUFtRyxjQUFjLFlBQVksWUFBWSxLQUFLLDRDQUE0QyxxREFBcUQsS0FBSyxnQkFBZ0IsTUFBTSx1QkFBdUIsVUFBVSw4QkFBOEIsNEJBQTRCLGdDQUFnQyxvQ0FBb0MsbUNBQW1DLGtDQUFrQyxnQ0FBZ0MsK0JBQStCLGlDQUFpQyxxQ0FBcUMsMkJBQTJCLElBQUksd0NBQXdDLHlFQUF5RSx3QkFBd0IsbUJBQW1CLHNDQUFzQyxpQkFBaUIseUJBQXlCLG9CQUFvQiw2QkFBNkIsNEVBQTRFLDBMQUEwTCxzQkFBc0IsdUJBQXVCLG1HQUFtRyx5R0FBeUcsSUFBSSxpQkFBaUIsbUNBQW1DLFNBQVMsa0NBQWtDLFFBQVEsc0ZBQXNGLFNBQVMsNENBQTRDLFlBQVksYUFBYSxZQUFZLEVBQUUsMEJBQTBCLGdFQUFnRSxvQkFBb0IsOEdBQThHLEdBQUcsY0FBYywyQ0FBMkMsYUFBYSx3RUFBd0UsT0FBTywwQkFBMEIsbUJBQW1CLHlCQUF5Qiw4QkFBOEIsYUFBYSxzQkFBc0IsZUFBZSxnRUFBZ0UsU0FBUyxPQUFPLHlDQUE4NkY7OztBQ1JwNStGOztBQUV2Rzs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUEsZUFBZSxFQUFZOztBQUUzQjs7QUFFQTs7QUFFQTtBQUNBLGlCQUFpQixFQUFROztBQUV6QixzQkFBc0IsRUFBYTs7QUFFbkMsMEJBQTBCLEVBQW9COztBQUU5QyxxQkFBcUIsRUFBZTs7QUFFcEM7O0FBRUE7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xleGljYWwvTGV4aWNhbC5wcm9kLm1qcz9lYWU4Iiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz9iNjM1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuZnVuY3Rpb24gdCh0KXtyZXR1cm57fX1jb25zdCBlPXt9LG49e30scj17fSxzPXt9LGk9e30sbz17fSxsPXt9LGM9e30sYT17fSx1PXt9LGY9e30sZD17fSxoPXt9LGc9e30sXz17fSxwPXt9LHk9e30sbT17fSx4PXt9LHY9e30sVD17fSxDPXt9LFM9e30saz17fSxiPXt9LHc9e30sTj17fSxFPXt9LFA9e30sRD17fSxGPXt9LE89e30sST17fSxMPXt9LEE9e30sTT17fSx6PXt9LFc9e30sQj17fSxSPXt9LEs9e30sSj17fSxVPXt9LFY9e30sJD17fSxIPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJnZvaWQgMCE9PXdpbmRvdy5kb2N1bWVudCYmdm9pZCAwIT09d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQsaj1IJiZcImRvY3VtZW50TW9kZVwiaW4gZG9jdW1lbnQ/ZG9jdW1lbnQuZG9jdW1lbnRNb2RlOm51bGwscT1IJiYvTWFjfGlQb2R8aVBob25lfGlQYWQvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSxRPUgmJi9eKD8hLipTZWFtb25rZXkpKD89LipGaXJlZm94KS4qL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxYPSEoIUh8fCEoXCJJbnB1dEV2ZW50XCJpbiB3aW5kb3cpfHxqKSYmXCJnZXRUYXJnZXRSYW5nZXNcImluIG5ldyB3aW5kb3cuSW5wdXRFdmVudChcImlucHV0XCIpLFk9SCYmL1ZlcnNpb25cXC9bXFxkLl0rLipTYWZhcmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksWj1IJiYvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmIXdpbmRvdy5NU1N0cmVhbSxHPUgmJi9BbmRyb2lkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHR0PUgmJi9eKD89LipDaHJvbWUpLiovaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGV0PUgmJkcmJnR0LG50PUgmJi9BcHBsZVdlYktpdFxcL1tcXGQuXSsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJiF0dCxydD0xLHN0PTMsaXQ9MCxvdD0xLGx0PTIsY3Q9MCxhdD0xLHV0PTIsZnQ9MSxkdD0yLGh0PTQsZ3Q9OCxfdD0xNixwdD0zMix5dD02NCxtdD0xMjgseHQ9MTEyfCgzfGh0fGd0KXxtdCx2dD0xLFR0PTIsQ3Q9MyxTdD00LGt0PTUsYnQ9Nix3dD1ZfHxafHxudD9cIsKgXCI6XCLigItcIixOdD1cIlxcblxcblwiLEV0PVE/XCLCoFwiOnd0LFB0PVwi1pEt37/vrJ0t77e977mwLe+7vFwiLER0PVwiQS1aYS16w4Atw5bDmC3DtsO4Lcq4zIAt1pDgoIAt4b+/4oCO4rCALe+snO+4gC3vua/vu70t77+/XCIsRnQ9bmV3IFJlZ0V4cChcIl5bXlwiK0R0K1wiXSpbXCIrUHQrXCJdXCIpLE90PW5ldyBSZWdFeHAoXCJeW15cIitQdCtcIl0qW1wiK0R0K1wiXVwiKSxJdD17Ym9sZDoxLGNvZGU6MTYsaGlnaGxpZ2h0Om10LGl0YWxpYzoyLHN0cmlrZXRocm91Z2g6aHQsc3Vic2NyaXB0OjMyLHN1cGVyc2NyaXB0OjY0LHVuZGVybGluZTpndH0sTHQ9e2RpcmVjdGlvbmxlc3M6MSx1bm1lcmdlYWJsZToyfSxBdD17Y2VudGVyOlR0LGVuZDpidCxqdXN0aWZ5OlN0LGxlZnQ6dnQscmlnaHQ6Q3Qsc3RhcnQ6a3R9LE10PXtbVHRdOlwiY2VudGVyXCIsW2J0XTpcImVuZFwiLFtTdF06XCJqdXN0aWZ5XCIsW3Z0XTpcImxlZnRcIixbQ3RdOlwicmlnaHRcIixba3RdOlwic3RhcnRcIn0senQ9e25vcm1hbDowLHNlZ21lbnRlZDoyLHRva2VuOjF9LFd0PXtbY3RdOlwibm9ybWFsXCIsW3V0XTpcInNlZ21lbnRlZFwiLFthdF06XCJ0b2tlblwifTtmdW5jdGlvbiBCdCh0KXtyZXR1cm4gdCYmdC5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxcImRlZmF1bHRcIik/dC5kZWZhdWx0OnR9dmFyIFJ0PUJ0KChmdW5jdGlvbih0KXtjb25zdCBlPW5ldyBVUkxTZWFyY2hQYXJhbXM7ZS5hcHBlbmQoXCJjb2RlXCIsdCk7Zm9yKGxldCB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllLmFwcGVuZChcInZcIixhcmd1bWVudHNbdF0pO3Rocm93IEVycm9yKGBNaW5pZmllZCBMZXhpY2FsIGVycm9yICMke3R9OyB2aXNpdCBodHRwczovL2xleGljYWwuZGV2L2RvY3MvZXJyb3I/JHtlfSBmb3IgdGhlIGZ1bGwgbWVzc2FnZSBvciB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIGZ1bGwgZXJyb3JzIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuYCl9KSk7ZnVuY3Rpb24gS3QoLi4udCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgbiBvZiB0KWlmKG4mJlwic3RyaW5nXCI9PXR5cGVvZiBuKWZvcihjb25zdFt0XW9mIG4ubWF0Y2hBbGwoL1xcUysvZykpZS5wdXNoKHQpO3JldHVybiBlfWNvbnN0IEp0PTEwMDtsZXQgVXQ9ITEsVnQ9MDtmdW5jdGlvbiAkdCh0KXtWdD10LnRpbWVTdGFtcH1mdW5jdGlvbiBIdCh0LGUsbil7cmV0dXJuIGUuX19sZXhpY2FsTGluZUJyZWFrPT09dHx8dm9pZCAwIT09dFtgX19sZXhpY2FsS2V5XyR7bi5fa2V5fWBdfWZ1bmN0aW9uIGp0KHQsZSxuKXtjb25zdCByPV9uKG4uX3dpbmRvdyk7bGV0IHM9bnVsbCxpPW51bGw7bnVsbCE9PXImJnIuYW5jaG9yTm9kZT09PXQmJihzPXIuYW5jaG9yT2Zmc2V0LGk9ci5mb2N1c09mZnNldCk7Y29uc3Qgbz10Lm5vZGVWYWx1ZTtudWxsIT09byYmTGUoZSxvLHMsaSwhMSl9ZnVuY3Rpb24gcXQodCxlLG4pe2lmKHVzKHQpKXtjb25zdCBlPXQuYW5jaG9yLmdldE5vZGUoKTtpZihlLmlzKG4pJiZ0LmZvcm1hdCE9PWUuZ2V0Rm9ybWF0KCkpcmV0dXJuITF9cmV0dXJuIGUubm9kZVR5cGU9PT1zdCYmbi5pc0F0dGFjaGVkKCl9ZnVuY3Rpb24gUXQodCxlLG4pe1V0PSEwO2NvbnN0IHI9cGVyZm9ybWFuY2Uubm93KCktVnQ+SnQ7dHJ5e2lpKHQsKCgpPT57Y29uc3Qgcz13cygpfHxmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRFZGl0b3JTdGF0ZSgpLnJlYWQoKCgpPT57Y29uc3QgdD13cygpO3JldHVybiBudWxsIT09dD90LmNsb25lKCk6bnVsbH0pKX0odCksaT1uZXcgTWFwLG89dC5nZXRSb290RWxlbWVudCgpLGw9dC5fZWRpdG9yU3RhdGUsYz10Ll9ibG9ja0N1cnNvckVsZW1lbnQ7bGV0IGE9ITEsdT1cIlwiO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBmPWVbbl0sZD1mLnR5cGUsaD1mLnRhcmdldDtsZXQgZz1UZShoLGwpO2lmKCEobnVsbD09PWcmJmghPT1vfHx1aShnKSkpaWYoXCJjaGFyYWN0ZXJEYXRhXCI9PT1kKXImJkdyKGcpJiZxdChzLGgsZykmJmp0KGgsZyx0KTtlbHNlIGlmKFwiY2hpbGRMaXN0XCI9PT1kKXthPSEwO2NvbnN0IGU9Zi5hZGRlZE5vZGVzO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCByPWVbbl0scz12ZShyKSxpPXIucGFyZW50Tm9kZTtpZihudWxsIT1pJiZyIT09YyYmbnVsbD09PXMmJihcIkJSXCIhPT1yLm5vZGVOYW1lfHwhSHQocixpLHQpKSl7aWYoUSl7Y29uc3QgdD1yLmlubmVyVGV4dHx8ci5ub2RlVmFsdWU7dCYmKHUrPXQpfWkucmVtb3ZlQ2hpbGQocil9fWNvbnN0IG49Zi5yZW1vdmVkTm9kZXMscj1uLmxlbmd0aDtpZihyPjApe2xldCBlPTA7Zm9yKGxldCBzPTA7czxyO3MrKyl7Y29uc3Qgcj1uW3NdOyhcIkJSXCI9PT1yLm5vZGVOYW1lJiZIdChyLGgsdCl8fGM9PT1yKSYmKGguYXBwZW5kQ2hpbGQociksZSsrKX1yIT09ZSYmKGg9PT1vJiYoZz1iZShsKSksaS5zZXQoaCxnKSl9fX1pZihpLnNpemU+MClmb3IoY29uc3RbZSxuXW9mIGkpaWYobGkobikpe2NvbnN0IHI9bi5nZXRDaGlsZHJlbktleXMoKTtsZXQgcz1lLmZpcnN0Q2hpbGQ7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspe2NvbnN0IGk9cltuXSxvPXQuZ2V0RWxlbWVudEJ5S2V5KGkpO251bGwhPT1vJiYobnVsbD09cz8oZS5hcHBlbmRDaGlsZChvKSxzPW8pOnMhPT1vJiZlLnJlcGxhY2VDaGlsZChvLHMpLHM9cy5uZXh0U2libGluZyl9fWVsc2UgR3IobikmJm4ubWFya0RpcnR5KCk7Y29uc3QgZj1uLnRha2VSZWNvcmRzKCk7aWYoZi5sZW5ndGg+MCl7Zm9yKGxldCBlPTA7ZTxmLmxlbmd0aDtlKyspe2NvbnN0IG49ZltlXSxyPW4uYWRkZWROb2RlcyxzPW4udGFyZ2V0O2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXtjb25zdCBuPXJbZV0saT1uLnBhcmVudE5vZGU7bnVsbD09aXx8XCJCUlwiIT09bi5ub2RlTmFtZXx8SHQobixzLHQpfHxpLnJlbW92ZUNoaWxkKG4pfX1uLnRha2VSZWNvcmRzKCl9bnVsbCE9PXMmJihhJiYocy5kaXJ0eT0hMCx3ZShzKSksUSYmUWUodCkmJnMuaW5zZXJ0UmF3VGV4dCh1KSl9KSl9ZmluYWxseXtVdD0hMX19ZnVuY3Rpb24gWHQodCl7Y29uc3QgZT10Ll9vYnNlcnZlcjtpZihudWxsIT09ZSl7UXQodCxlLnRha2VSZWNvcmRzKCksZSl9fWZ1bmN0aW9uIFl0KHQpeyFmdW5jdGlvbih0KXswPT09VnQmJnJuKHQpLmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXh0SW5wdXRcIiwkdCwhMCl9KHQpLHQuX29ic2VydmVyPW5ldyBNdXRhdGlvbk9ic2VydmVyKCgoZSxuKT0+e1F0KHQsZSxuKX0pKX1mdW5jdGlvbiBadCh0LGUpe2NvbnN0IG49dC5fX21vZGUscj10Ll9fZm9ybWF0LHM9dC5fX3N0eWxlLGk9ZS5fX21vZGUsbz1lLl9fZm9ybWF0LGw9ZS5fX3N0eWxlO3JldHVybiEobnVsbCE9PW4mJm4hPT1pfHxudWxsIT09ciYmciE9PW98fG51bGwhPT1zJiZzIT09bCl9ZnVuY3Rpb24gR3QodCxlKXtjb25zdCBuPXQubWVyZ2VXaXRoU2libGluZyhlKSxyPWpzKCkuX25vcm1hbGl6ZWROb2RlcztyZXR1cm4gci5hZGQodC5fX2tleSksci5hZGQoZS5fX2tleSksbn1mdW5jdGlvbiB0ZSh0KXtsZXQgZSxuLHI9dDtpZihcIlwiIT09ci5fX3RleHR8fCFyLmlzU2ltcGxlVGV4dCgpfHxyLmlzVW5tZXJnZWFibGUoKSl7Zm9yKDtudWxsIT09KGU9ci5nZXRQcmV2aW91c1NpYmxpbmcoKSkmJkdyKGUpJiZlLmlzU2ltcGxlVGV4dCgpJiYhZS5pc1VubWVyZ2VhYmxlKCk7KXtpZihcIlwiIT09ZS5fX3RleHQpe2lmKFp0KGUscikpe3I9R3QoZSxyKTticmVha31icmVha31lLnJlbW92ZSgpfWZvcig7bnVsbCE9PShuPXIuZ2V0TmV4dFNpYmxpbmcoKSkmJkdyKG4pJiZuLmlzU2ltcGxlVGV4dCgpJiYhbi5pc1VubWVyZ2VhYmxlKCk7KXtpZihcIlwiIT09bi5fX3RleHQpe2lmKFp0KHIsbikpe3I9R3QocixuKTticmVha31icmVha31uLnJlbW92ZSgpfX1lbHNlIHIucmVtb3ZlKCl9ZnVuY3Rpb24gZWUodCl7cmV0dXJuIG5lKHQuYW5jaG9yKSxuZSh0LmZvY3VzKSx0fWZ1bmN0aW9uIG5lKHQpe2Zvcig7XCJlbGVtZW50XCI9PT10LnR5cGU7KXtjb25zdCBlPXQuZ2V0Tm9kZSgpLG49dC5vZmZzZXQ7bGV0IHIscztpZihuPT09ZS5nZXRDaGlsZHJlblNpemUoKT8ocj1lLmdldENoaWxkQXRJbmRleChuLTEpLHM9ITApOihyPWUuZ2V0Q2hpbGRBdEluZGV4KG4pLHM9ITEpLEdyKHIpKXt0LnNldChyLl9fa2V5LHM/ci5nZXRUZXh0Q29udGVudFNpemUoKTowLFwidGV4dFwiKTticmVha31pZighbGkocikpYnJlYWs7dC5zZXQoci5fX2tleSxzP3IuZ2V0Q2hpbGRyZW5TaXplKCk6MCxcImVsZW1lbnRcIil9fWxldCByZT0xO2Z1bmN0aW9uIHNlKCl7cmU9MX1jb25zdCBpZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBxdWV1ZU1pY3JvdGFzaz9xdWV1ZU1pY3JvdGFzazp0PT57UHJvbWlzZS5yZXNvbHZlKCkudGhlbih0KX07ZnVuY3Rpb24gb2UodCl7Y29uc3QgZT1kb2N1bWVudC5hY3RpdmVFbGVtZW50O2lmKG51bGw9PT1lKXJldHVybiExO2NvbnN0IG49ZS5ub2RlTmFtZTtyZXR1cm4gdWkoVGUodCkpJiYoXCJJTlBVVFwiPT09bnx8XCJURVhUQVJFQVwiPT09bnx8XCJ0cnVlXCI9PT1lLmNvbnRlbnRFZGl0YWJsZSYmbnVsbD09ZS5fX2xleGljYWxFZGl0b3IpfWZ1bmN0aW9uIGxlKHQsZSxuKXtjb25zdCByPXQuZ2V0Um9vdEVsZW1lbnQoKTt0cnl7cmV0dXJuIG51bGwhPT1yJiZyLmNvbnRhaW5zKGUpJiZyLmNvbnRhaW5zKG4pJiZudWxsIT09ZSYmIW9lKGUpJiZjZShlKT09PXR9Y2F0Y2godCl7cmV0dXJuITF9fWZ1bmN0aW9uIGNlKHQpe2xldCBlPXQ7Zm9yKDtudWxsIT1lOyl7Y29uc3QgdD1lLl9fbGV4aWNhbEVkaXRvcjtpZihudWxsIT10KXJldHVybiB0O2U9R2UoZSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYWUodCl7cmV0dXJuIHQuaXNUb2tlbigpfHx0LmlzU2VnbWVudGVkKCl9ZnVuY3Rpb24gdWUodCl7cmV0dXJuIHQubm9kZVR5cGU9PT1zdH1mdW5jdGlvbiBmZSh0KXtsZXQgZT10O2Zvcig7bnVsbCE9ZTspe2lmKHVlKGUpKXJldHVybiBlO2U9ZS5maXJzdENoaWxkfXJldHVybiBudWxsfWZ1bmN0aW9uIGRlKHQsZSxuKXtjb25zdCByPUl0W2VdO2lmKG51bGwhPT1uJiYodCZyKT09KG4mcikpcmV0dXJuIHQ7bGV0IHM9dF5yO3JldHVyblwic3Vic2NyaXB0XCI9PT1lP3MmPX5JdC5zdXBlcnNjcmlwdDpcInN1cGVyc2NyaXB0XCI9PT1lJiYocyY9fkl0LnN1YnNjcmlwdCksc31mdW5jdGlvbiBoZSh0KXtyZXR1cm4gR3IodCl8fEFyKHQpfHx1aSh0KX1mdW5jdGlvbiBnZSh0LGUpe2lmKG51bGwhPWUpcmV0dXJuIHZvaWQodC5fX2tleT1lKTtWcygpLCRzKCk7Y29uc3Qgbj1qcygpLHI9SHMoKSxzPVwiXCIrcmUrKztyLl9ub2RlTWFwLnNldChzLHQpLGxpKHQpP24uX2RpcnR5RWxlbWVudHMuc2V0KHMsITApOm4uX2RpcnR5TGVhdmVzLmFkZChzKSxuLl9jbG9uZU5vdE5lZWRlZC5hZGQocyksbi5fZGlydHlUeXBlPW90LHQuX19rZXk9c31mdW5jdGlvbiBfZSh0KXtjb25zdCBlPXQuZ2V0UGFyZW50KCk7aWYobnVsbCE9PWUpe2NvbnN0IG49dC5nZXRXcml0YWJsZSgpLHI9ZS5nZXRXcml0YWJsZSgpLHM9dC5nZXRQcmV2aW91c1NpYmxpbmcoKSxpPXQuZ2V0TmV4dFNpYmxpbmcoKTtpZihudWxsPT09cylpZihudWxsIT09aSl7Y29uc3QgdD1pLmdldFdyaXRhYmxlKCk7ci5fX2ZpcnN0PWkuX19rZXksdC5fX3ByZXY9bnVsbH1lbHNlIHIuX19maXJzdD1udWxsO2Vsc2V7Y29uc3QgdD1zLmdldFdyaXRhYmxlKCk7aWYobnVsbCE9PWkpe2NvbnN0IGU9aS5nZXRXcml0YWJsZSgpO2UuX19wcmV2PXQuX19rZXksdC5fX25leHQ9ZS5fX2tleX1lbHNlIHQuX19uZXh0PW51bGw7bi5fX3ByZXY9bnVsbH1pZihudWxsPT09aSlpZihudWxsIT09cyl7Y29uc3QgdD1zLmdldFdyaXRhYmxlKCk7ci5fX2xhc3Q9cy5fX2tleSx0Ll9fbmV4dD1udWxsfWVsc2Ugci5fX2xhc3Q9bnVsbDtlbHNle2NvbnN0IHQ9aS5nZXRXcml0YWJsZSgpO2lmKG51bGwhPT1zKXtjb25zdCBlPXMuZ2V0V3JpdGFibGUoKTtlLl9fbmV4dD10Ll9fa2V5LHQuX19wcmV2PWUuX19rZXl9ZWxzZSB0Ll9fcHJldj1udWxsO24uX19uZXh0PW51bGx9ci5fX3NpemUtLSxuLl9fcGFyZW50PW51bGx9fWZ1bmN0aW9uIHBlKHQpeyRzKCk7Y29uc3QgZT10LmdldExhdGVzdCgpLG49ZS5fX3BhcmVudCxyPUhzKCkscz1qcygpLGk9ci5fbm9kZU1hcCxvPXMuX2RpcnR5RWxlbWVudHM7bnVsbCE9PW4mJmZ1bmN0aW9uKHQsZSxuKXtsZXQgcj10O2Zvcig7bnVsbCE9PXI7KXtpZihuLmhhcyhyKSlyZXR1cm47Y29uc3QgdD1lLmdldChyKTtpZih2b2lkIDA9PT10KWJyZWFrO24uc2V0KHIsITEpLHI9dC5fX3BhcmVudH19KG4saSxvKTtjb25zdCBsPWUuX19rZXk7cy5fZGlydHlUeXBlPW90LGxpKHQpP28uc2V0KGwsITApOnMuX2RpcnR5TGVhdmVzLmFkZChsKX1mdW5jdGlvbiB5ZSh0KXtWcygpO2NvbnN0IGU9anMoKSxuPWUuX2NvbXBvc2l0aW9uS2V5O2lmKHQhPT1uKXtpZihlLl9jb21wb3NpdGlvbktleT10LG51bGwhPT1uKXtjb25zdCB0PXhlKG4pO251bGwhPT10JiZ0LmdldFdyaXRhYmxlKCl9aWYobnVsbCE9PXQpe2NvbnN0IGU9eGUodCk7bnVsbCE9PWUmJmUuZ2V0V3JpdGFibGUoKX19fWZ1bmN0aW9uIG1lKCl7aWYoVXMoKSlyZXR1cm4gbnVsbDtyZXR1cm4ganMoKS5fY29tcG9zaXRpb25LZXl9ZnVuY3Rpb24geGUodCxlKXtjb25zdCBuPShlfHxIcygpKS5fbm9kZU1hcC5nZXQodCk7cmV0dXJuIHZvaWQgMD09PW4/bnVsbDpufWZ1bmN0aW9uIHZlKHQsZSl7Y29uc3Qgbj10W2BfX2xleGljYWxLZXlfJHtqcygpLl9rZXl9YF07cmV0dXJuIHZvaWQgMCE9PW4/eGUobixlKTpudWxsfWZ1bmN0aW9uIFRlKHQsZSl7bGV0IG49dDtmb3IoO251bGwhPW47KXtjb25zdCB0PXZlKG4sZSk7aWYobnVsbCE9PXQpcmV0dXJuIHQ7bj1HZShuKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBDZSh0KXtjb25zdCBlPXQuX2RlY29yYXRvcnMsbj1PYmplY3QuYXNzaWduKHt9LGUpO3JldHVybiB0Ll9wZW5kaW5nRGVjb3JhdG9ycz1uLG59ZnVuY3Rpb24gU2UodCl7cmV0dXJuIHQucmVhZCgoKCk9PmtlKCkuZ2V0VGV4dENvbnRlbnQoKSkpfWZ1bmN0aW9uIGtlKCl7cmV0dXJuIGJlKEhzKCkpfWZ1bmN0aW9uIGJlKHQpe3JldHVybiB0Ll9ub2RlTWFwLmdldChcInJvb3RcIil9ZnVuY3Rpb24gd2UodCl7VnMoKTtjb25zdCBlPUhzKCk7bnVsbCE9PXQmJih0LmRpcnR5PSEwLHQuc2V0Q2FjaGVkTm9kZXMobnVsbCkpLGUuX3NlbGVjdGlvbj10fWZ1bmN0aW9uIE5lKHQpe2NvbnN0IGU9anMoKSxuPWZ1bmN0aW9uKHQsZSl7bGV0IG49dDtmb3IoO251bGwhPW47KXtjb25zdCB0PW5bYF9fbGV4aWNhbEtleV8ke2UuX2tleX1gXTtpZih2b2lkIDAhPT10KXJldHVybiB0O249R2Uobil9cmV0dXJuIG51bGx9KHQsZSk7aWYobnVsbD09PW4pe3JldHVybiB0PT09ZS5nZXRSb290RWxlbWVudCgpP3hlKFwicm9vdFwiKTpudWxsfXJldHVybiB4ZShuKX1mdW5jdGlvbiBFZSh0LGUpe3JldHVybiBlP3QuZ2V0VGV4dENvbnRlbnRTaXplKCk6MH1mdW5jdGlvbiBQZSh0KXtyZXR1cm4vW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS9nLnRlc3QodCl9ZnVuY3Rpb24gRGUodCl7Y29uc3QgZT1bXTtsZXQgbj10O2Zvcig7bnVsbCE9PW47KWUucHVzaChuKSxuPW4uX3BhcmVudEVkaXRvcjtyZXR1cm4gZX1mdW5jdGlvbiBGZSgpe3JldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5yZXBsYWNlKC9bXmEtel0rL2csXCJcIikuc3Vic3RyKDAsNSl9ZnVuY3Rpb24gT2UodCl7cmV0dXJuIHQubm9kZVR5cGU9PT1zdD90Lm5vZGVWYWx1ZTpudWxsfWZ1bmN0aW9uIEllKHQsZSxuKXtjb25zdCByPV9uKGUuX3dpbmRvdyk7aWYobnVsbD09PXIpcmV0dXJuO2NvbnN0IHM9ci5hbmNob3JOb2RlO2xldHthbmNob3JPZmZzZXQ6aSxmb2N1c09mZnNldDpvfT1yO2lmKG51bGwhPT1zKXtsZXQgZT1PZShzKTtjb25zdCByPVRlKHMpO2lmKG51bGwhPT1lJiZHcihyKSl7aWYoZT09PXd0JiZuKXtjb25zdCB0PW4ubGVuZ3RoO2U9bixpPXQsbz10fW51bGwhPT1lJiZMZShyLGUsaSxvLHQpfX19ZnVuY3Rpb24gTGUodCxlLG4scixzKXtsZXQgaT10O2lmKGkuaXNBdHRhY2hlZCgpJiYoc3x8IWkuaXNEaXJ0eSgpKSl7Y29uc3Qgbz1pLmlzQ29tcG9zaW5nKCk7bGV0IGw9ZTsob3x8cykmJmVbZS5sZW5ndGgtMV09PT13dCYmKGw9ZS5zbGljZSgwLC0xKSk7Y29uc3QgYz1pLmdldFRleHRDb250ZW50KCk7aWYoc3x8bCE9PWMpe2lmKFwiXCI9PT1sKXtpZih5ZShudWxsKSxZfHxafHxudClpLnJlbW92ZSgpO2Vsc2V7Y29uc3QgdD1qcygpO3NldFRpbWVvdXQoKCgpPT57dC51cGRhdGUoKCgpPT57aS5pc0F0dGFjaGVkKCkmJmkucmVtb3ZlKCl9KSl9KSwyMCl9cmV0dXJufWNvbnN0IGU9aS5nZXRQYXJlbnQoKSxzPU5zKCksYz1pLmdldFRleHRDb250ZW50U2l6ZSgpLGE9bWUoKSx1PWkuZ2V0S2V5KCk7aWYoaS5pc1Rva2VuKCl8fG51bGwhPT1hJiZ1PT09YSYmIW98fHVzKHMpJiYobnVsbCE9PWUmJiFlLmNhbkluc2VydFRleHRCZWZvcmUoKSYmMD09PXMuYW5jaG9yLm9mZnNldHx8cy5hbmNob3Iua2V5PT09dC5fX2tleSYmMD09PXMuYW5jaG9yLm9mZnNldCYmIWkuY2FuSW5zZXJ0VGV4dEJlZm9yZSgpJiYhb3x8cy5mb2N1cy5rZXk9PT10Ll9fa2V5JiZzLmZvY3VzLm9mZnNldD09PWMmJiFpLmNhbkluc2VydFRleHRBZnRlcigpJiYhbykpcmV0dXJuIHZvaWQgaS5tYXJrRGlydHkoKTtjb25zdCBmPXdzKCk7aWYoIXVzKGYpfHxudWxsPT09bnx8bnVsbD09PXIpcmV0dXJuIHZvaWQgaS5zZXRUZXh0Q29udGVudChsKTtpZihmLnNldFRleHROb2RlUmFuZ2UoaSxuLGksciksaS5pc1NlZ21lbnRlZCgpKXtjb25zdCB0PVpyKGkuZ2V0VGV4dENvbnRlbnQoKSk7aS5yZXBsYWNlKHQpLGk9dH1pLnNldFRleHRDb250ZW50KGwpfX19ZnVuY3Rpb24gQWUodCxlKXtpZihlLmlzU2VnbWVudGVkKCkpcmV0dXJuITA7aWYoIXQuaXNDb2xsYXBzZWQoKSlyZXR1cm4hMTtjb25zdCBuPXQuYW5jaG9yLm9mZnNldCxyPWUuZ2V0UGFyZW50T3JUaHJvdygpLHM9ZS5pc1Rva2VuKCk7cmV0dXJuIDA9PT1uPyFlLmNhbkluc2VydFRleHRCZWZvcmUoKXx8IXIuY2FuSW5zZXJ0VGV4dEJlZm9yZSgpJiYhZS5pc0NvbXBvc2luZygpfHxzfHxmdW5jdGlvbih0KXtjb25zdCBlPXQuZ2V0UHJldmlvdXNTaWJsaW5nKCk7cmV0dXJuKEdyKGUpfHxsaShlKSYmZS5pc0lubGluZSgpKSYmIWUuY2FuSW5zZXJ0VGV4dEFmdGVyKCl9KGUpOm49PT1lLmdldFRleHRDb250ZW50U2l6ZSgpJiYoIWUuY2FuSW5zZXJ0VGV4dEFmdGVyKCl8fCFyLmNhbkluc2VydFRleHRBZnRlcigpJiYhZS5pc0NvbXBvc2luZygpfHxzKX1mdW5jdGlvbiBNZSh0KXtyZXR1cm5cIkFycm93TGVmdFwiPT09dH1mdW5jdGlvbiB6ZSh0KXtyZXR1cm5cIkFycm93UmlnaHRcIj09PXR9ZnVuY3Rpb24gV2UodCxlKXtyZXR1cm4gcT90OmV9ZnVuY3Rpb24gQmUodCl7cmV0dXJuXCJFbnRlclwiPT09dH1mdW5jdGlvbiBSZSh0KXtyZXR1cm5cIkJhY2tzcGFjZVwiPT09dH1mdW5jdGlvbiBLZSh0KXtyZXR1cm5cIkRlbGV0ZVwiPT09dH1mdW5jdGlvbiBKZSh0LGUsbil7cmV0dXJuXCJhXCI9PT10LnRvTG93ZXJDYXNlKCkmJldlKGUsbil9ZnVuY3Rpb24gVWUoKXtjb25zdCB0PWtlKCk7d2UoZWUodC5zZWxlY3QoMCx0LmdldENoaWxkcmVuU2l6ZSgpKSkpfWZ1bmN0aW9uIFZlKHQsZSl7dm9pZCAwPT09dC5fX2xleGljYWxDbGFzc05hbWVDYWNoZSYmKHQuX19sZXhpY2FsQ2xhc3NOYW1lQ2FjaGU9e30pO2NvbnN0IG49dC5fX2xleGljYWxDbGFzc05hbWVDYWNoZSxyPW5bZV07aWYodm9pZCAwIT09cilyZXR1cm4gcjtjb25zdCBzPXRbZV07aWYoXCJzdHJpbmdcIj09dHlwZW9mIHMpe2NvbnN0IHQ9S3Qocyk7cmV0dXJuIG5bZV09dCx0fXJldHVybiBzfWZ1bmN0aW9uICRlKHQsZSxuLHIscyl7aWYoMD09PW4uc2l6ZSlyZXR1cm47Y29uc3QgaT1yLl9fdHlwZSxvPXIuX19rZXksbD1lLmdldChpKTt2b2lkIDA9PT1sJiZSdCgzMyxpKTtjb25zdCBjPWwua2xhc3M7bGV0IGE9dC5nZXQoYyk7dm9pZCAwPT09YSYmKGE9bmV3IE1hcCx0LnNldChjLGEpKTtjb25zdCB1PWEuZ2V0KG8pLGY9XCJkZXN0cm95ZWRcIj09PXUmJlwiY3JlYXRlZFwiPT09czsodm9pZCAwPT09dXx8ZikmJmEuc2V0KG8sZj9cInVwZGF0ZWRcIjpzKX1mdW5jdGlvbiBIZSh0KXtjb25zdCBlPUhzKCksbj1lLl9yZWFkT25seSxyPXQuZ2V0VHlwZSgpLHM9ZS5fbm9kZU1hcCxpPVtdO2Zvcihjb25zdFssZV1vZiBzKWUgaW5zdGFuY2VvZiB0JiZlLl9fdHlwZT09PXImJihufHxlLmlzQXR0YWNoZWQoKSkmJmkucHVzaChlKTtyZXR1cm4gaX1mdW5jdGlvbiBqZSh0LGUsbil7Y29uc3Qgcj10LmdldFBhcmVudCgpO2xldCBzPW4saT10O3JldHVybiBudWxsIT09ciYmKGUmJjA9PT1uPyhzPWkuZ2V0SW5kZXhXaXRoaW5QYXJlbnQoKSxpPXIpOmV8fG4hPT1pLmdldENoaWxkcmVuU2l6ZSgpfHwocz1pLmdldEluZGV4V2l0aGluUGFyZW50KCkrMSxpPXIpKSxpLmdldENoaWxkQXRJbmRleChlP3MtMTpzKX1mdW5jdGlvbiBxZSh0LGUpe2NvbnN0IG49dC5vZmZzZXQ7aWYoXCJlbGVtZW50XCI9PT10LnR5cGUpe3JldHVybiBqZSh0LmdldE5vZGUoKSxlLG4pfXtjb25zdCByPXQuZ2V0Tm9kZSgpO2lmKGUmJjA9PT1ufHwhZSYmbj09PXIuZ2V0VGV4dENvbnRlbnRTaXplKCkpe2NvbnN0IHQ9ZT9yLmdldFByZXZpb3VzU2libGluZygpOnIuZ2V0TmV4dFNpYmxpbmcoKTtyZXR1cm4gbnVsbD09PXQ/amUoci5nZXRQYXJlbnRPclRocm93KCksZSxyLmdldEluZGV4V2l0aGluUGFyZW50KCkrKGU/MDoxKSk6dH19cmV0dXJuIG51bGx9ZnVuY3Rpb24gUWUodCl7Y29uc3QgZT1ybih0KS5ldmVudCxuPWUmJmUuaW5wdXRUeXBlO3JldHVyblwiaW5zZXJ0RnJvbVBhc3RlXCI9PT1ufHxcImluc2VydEZyb21QYXN0ZUFzUXVvdGF0aW9uXCI9PT1ufWZ1bmN0aW9uIFhlKHQsZSxuKXtyZXR1cm4gbmkodCxlLG4pfWZ1bmN0aW9uIFllKHQpe3JldHVybiFkaSh0KSYmIXQuaXNMYXN0Q2hpbGQoKSYmIXQuaXNJbmxpbmUoKX1mdW5jdGlvbiBaZSh0LGUpe2NvbnN0IG49dC5fa2V5VG9ET01NYXAuZ2V0KGUpO3JldHVybiB2b2lkIDA9PT1uJiZSdCg3NSxlKSxufWZ1bmN0aW9uIEdlKHQpe2NvbnN0IGU9dC5hc3NpZ25lZFNsb3R8fHQucGFyZW50RWxlbWVudDtyZXR1cm4gbnVsbCE9PWUmJjExPT09ZS5ub2RlVHlwZT9lLmhvc3Q6ZX1mdW5jdGlvbiB0bih0KXtyZXR1cm4ganMoKS5fdXBkYXRlVGFncy5oYXModCl9ZnVuY3Rpb24gZW4odCl7VnMoKTtqcygpLl91cGRhdGVUYWdzLmFkZCh0KX1mdW5jdGlvbiBubih0LGUpe2xldCBuPXQuZ2V0UGFyZW50KCk7Zm9yKDtudWxsIT09bjspe2lmKG4uaXMoZSkpcmV0dXJuITA7bj1uLmdldFBhcmVudCgpfXJldHVybiExfWZ1bmN0aW9uIHJuKHQpe2NvbnN0IGU9dC5fd2luZG93O3JldHVybiBudWxsPT09ZSYmUnQoNzgpLGV9ZnVuY3Rpb24gc24odCl7cmV0dXJuIGxpKHQpJiZ0LmlzSW5saW5lKCl8fHVpKHQpJiZ0LmlzSW5saW5lKCl9ZnVuY3Rpb24gb24odCl7bGV0IGU9dC5nZXRQYXJlbnRPclRocm93KCk7Zm9yKDtudWxsIT09ZTspe2lmKGxuKGUpKXJldHVybiBlO2U9ZS5nZXRQYXJlbnRPclRocm93KCl9cmV0dXJuIGV9ZnVuY3Rpb24gbG4odCl7cmV0dXJuIGRpKHQpfHxsaSh0KSYmdC5pc1NoYWRvd1Jvb3QoKX1mdW5jdGlvbiBjbih0KXtjb25zdCBlPXQuY29uc3RydWN0b3IuY2xvbmUodCk7cmV0dXJuIGdlKGUsbnVsbCksZX1mdW5jdGlvbiBhbih0KXtjb25zdCBlPWpzKCksbj10LmNvbnN0cnVjdG9yLmdldFR5cGUoKSxyPWUuX25vZGVzLmdldChuKTt2b2lkIDA9PT1yJiZSdCg5Nyk7Y29uc3Qgcz1yLnJlcGxhY2U7aWYobnVsbCE9PXMpe2NvbnN0IGU9cyh0KTtyZXR1cm4gZSBpbnN0YW5jZW9mIHQuY29uc3RydWN0b3J8fFJ0KDk4KSxlfXJldHVybiB0fWZ1bmN0aW9uIHVuKHQsZSl7IWRpKHQuZ2V0UGFyZW50KCkpfHxsaShlKXx8dWkoZSl8fFJ0KDk5KX1mdW5jdGlvbiBmbih0KXtjb25zdCBlPXhlKHQpO3JldHVybiBudWxsPT09ZSYmUnQoNjMsdCksZX1mdW5jdGlvbiBkbih0KXtyZXR1cm4odWkodCl8fGxpKHQpJiYhdC5jYW5CZUVtcHR5KCkpJiYhdC5pc0lubGluZSgpfWZ1bmN0aW9uIGhuKHQsZSxuKXtuLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiY2FyZXQtY29sb3JcIiksZS5fYmxvY2tDdXJzb3JFbGVtZW50PW51bGw7Y29uc3Qgcj10LnBhcmVudEVsZW1lbnQ7bnVsbCE9PXImJnIucmVtb3ZlQ2hpbGQodCl9ZnVuY3Rpb24gZ24odCxlLG4pe2xldCByPXQuX2Jsb2NrQ3Vyc29yRWxlbWVudDtpZih1cyhuKSYmbi5pc0NvbGxhcHNlZCgpJiZcImVsZW1lbnRcIj09PW4uYW5jaG9yLnR5cGUmJmUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpe2NvbnN0IHM9bi5hbmNob3IsaT1zLmdldE5vZGUoKSxvPXMub2Zmc2V0O2xldCBsPSExLGM9bnVsbDtpZihvPT09aS5nZXRDaGlsZHJlblNpemUoKSl7ZG4oaS5nZXRDaGlsZEF0SW5kZXgoby0xKSkmJihsPSEwKX1lbHNle2NvbnN0IGU9aS5nZXRDaGlsZEF0SW5kZXgobyk7aWYoZG4oZSkpe2NvbnN0IG49ZS5nZXRQcmV2aW91c1NpYmxpbmcoKTsobnVsbD09PW58fGRuKG4pKSYmKGw9ITAsYz10LmdldEVsZW1lbnRCeUtleShlLl9fa2V5KSl9fWlmKGwpe2NvbnN0IG49dC5nZXRFbGVtZW50QnlLZXkoaS5fX2tleSk7cmV0dXJuIG51bGw9PT1yJiYodC5fYmxvY2tDdXJzb3JFbGVtZW50PXI9ZnVuY3Rpb24odCl7Y29uc3QgZT10LnRoZW1lLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtuLmNvbnRlbnRFZGl0YWJsZT1cImZhbHNlXCIsbi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWxleGljYWwtY3Vyc29yXCIsXCJ0cnVlXCIpO2xldCByPWUuYmxvY2tDdXJzb3I7aWYodm9pZCAwIT09cil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHIpe2NvbnN0IHQ9S3Qocik7cj1lLmJsb2NrQ3Vyc29yPXR9dm9pZCAwIT09ciYmbi5jbGFzc0xpc3QuYWRkKC4uLnIpfXJldHVybiBufSh0Ll9jb25maWcpKSxlLnN0eWxlLmNhcmV0Q29sb3I9XCJ0cmFuc3BhcmVudFwiLHZvaWQobnVsbD09PWM/bi5hcHBlbmRDaGlsZChyKTpuLmluc2VydEJlZm9yZShyLGMpKX19bnVsbCE9PXImJmhuKHIsdCxlKX1mdW5jdGlvbiBfbih0KXtyZXR1cm4gSD8odHx8d2luZG93KS5nZXRTZWxlY3Rpb24oKTpudWxsfWZ1bmN0aW9uIHBuKHQsZSl7bGV0IG49dC5nZXRDaGlsZEF0SW5kZXgoZSk7bnVsbD09biYmKG49dCksbG4odCkmJlJ0KDEwMik7Y29uc3Qgcj10PT57Y29uc3QgZT10LmdldFBhcmVudE9yVGhyb3coKSxzPWxuKGUpLGk9dCE9PW58fHM/Y24odCk6dDtpZihzKXJldHVybiBsaSh0KSYmbGkoaSl8fFJ0KDEzMyksdC5pbnNlcnRBZnRlcihpKSxbdCxpLGldO3tjb25zdFtuLHMsb109cihlKSxsPXQuZ2V0TmV4dFNpYmxpbmdzKCk7cmV0dXJuIG8uYXBwZW5kKGksLi4ubCksW24scyxpXX19LFtzLGldPXIobik7cmV0dXJuW3MsaV19ZnVuY3Rpb24geW4odCl7cmV0dXJuIG1uKHQpJiZcIkFcIj09PXQudGFnTmFtZX1mdW5jdGlvbiBtbih0KXtyZXR1cm4gMT09PXQubm9kZVR5cGV9ZnVuY3Rpb24geG4odCl7Y29uc3QgZT1uZXcgUmVnRXhwKC9eKGF8YWJicnxhY3JvbnltfGJ8Y2l0ZXxjb2RlfGRlbHxlbXxpfGluc3xrYmR8bGFiZWx8b3V0cHV0fHF8cnVieXxzfHNhbXB8c3BhbnxzdHJvbmd8c3VifHN1cHx0aW1lfHV8dHR8dmFyfCN0ZXh0KSQvLFwiaVwiKTtyZXR1cm4gbnVsbCE9PXQubm9kZU5hbWUubWF0Y2goZSl9ZnVuY3Rpb24gdm4odCl7Y29uc3QgZT1uZXcgUmVnRXhwKC9eKGFkZHJlc3N8YXJ0aWNsZXxhc2lkZXxibG9ja3F1b3RlfGNhbnZhc3xkZHxkaXZ8ZGx8ZHR8ZmllbGRzZXR8ZmlnY2FwdGlvbnxmaWd1cmV8Zm9vdGVyfGZvcm18aDF8aDJ8aDN8aDR8aDV8aDZ8aGVhZGVyfGhyfGxpfG1haW58bmF2fG5vc2NyaXB0fG9sfHB8cHJlfHNlY3Rpb258dGFibGV8dGR8dGZvb3R8dWx8dmlkZW8pJC8sXCJpXCIpO3JldHVybiBudWxsIT09dC5ub2RlTmFtZS5tYXRjaChlKX1mdW5jdGlvbiBUbih0KXtpZihkaSh0KXx8dWkodCkmJiF0LmlzSW5saW5lKCkpcmV0dXJuITA7aWYoIWxpKHQpfHxsbih0KSlyZXR1cm4hMTtjb25zdCBlPXQuZ2V0Rmlyc3RDaGlsZCgpLG49bnVsbD09PWV8fEFyKGUpfHxHcihlKXx8ZS5pc0lubGluZSgpO3JldHVybiF0LmlzSW5saW5lKCkmJiExIT09dC5jYW5CZUVtcHR5KCkmJm59ZnVuY3Rpb24gQ24odCxlKXtsZXQgbj10O2Zvcig7bnVsbCE9PW4mJm51bGwhPT1uLmdldFBhcmVudCgpJiYhZShuKTspbj1uLmdldFBhcmVudE9yVGhyb3coKTtyZXR1cm4gZShuKT9uOm51bGx9ZnVuY3Rpb24gU24oKXtyZXR1cm4ganMoKX1mdW5jdGlvbiBrbih0LGUsbixyLHMsaSl7bGV0IG89dC5nZXRGaXJzdENoaWxkKCk7Zm9yKDtudWxsIT09bzspe2NvbnN0IHQ9by5fX2tleTtvLl9fcGFyZW50PT09ZSYmKGxpKG8pJiZrbihvLHQsbixyLHMsaSksbi5oYXModCl8fGkuZGVsZXRlKHQpLHMucHVzaCh0KSksbz1vLmdldE5leHRTaWJsaW5nKCl9fWxldCBibix3bixObixFbixQbixEbixGbixPbixJbixMbixBbj1cIlwiLE1uPVwiXCIsem49bnVsbCxXbj1cIlwiLEJuPSExLFJuPSExLEtuPW51bGw7ZnVuY3Rpb24gSm4odCxlKXtjb25zdCBuPUZuLmdldCh0KTtpZihudWxsIT09ZSl7Y29uc3Qgbj1pcih0KTtuLnBhcmVudE5vZGU9PT1lJiZlLnJlbW92ZUNoaWxkKG4pfWlmKE9uLmhhcyh0KXx8d24uX2tleVRvRE9NTWFwLmRlbGV0ZSh0KSxsaShuKSl7Y29uc3QgdD10cihuLEZuKTtVbih0LDAsdC5sZW5ndGgtMSxudWxsKX12b2lkIDAhPT1uJiYkZShMbixObixFbixuLFwiZGVzdHJveWVkXCIpfWZ1bmN0aW9uIFVuKHQsZSxuLHIpe2xldCBzPWU7Zm9yKDtzPD1uOysrcyl7Y29uc3QgZT10W3NdO3ZvaWQgMCE9PWUmJkpuKGUscil9fWZ1bmN0aW9uIFZuKHQsZSl7dC5zZXRQcm9wZXJ0eShcInRleHQtYWxpZ25cIixlKX1jb25zdCAkbj1cIjQwcHhcIjtmdW5jdGlvbiBIbih0LGUpe2NvbnN0IG49Ym4udGhlbWUuaW5kZW50O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBuKXtjb25zdCByPXQuY2xhc3NMaXN0LmNvbnRhaW5zKG4pO2U+MCYmIXI/dC5jbGFzc0xpc3QuYWRkKG4pOmU8MSYmciYmdC5jbGFzc0xpc3QucmVtb3ZlKG4pfWNvbnN0IHI9Z2V0Q29tcHV0ZWRTdHlsZSh0KS5nZXRQcm9wZXJ0eVZhbHVlKFwiLS1sZXhpY2FsLWluZGVudC1iYXNlLXZhbHVlXCIpfHwkbjt0LnN0eWxlLnNldFByb3BlcnR5KFwicGFkZGluZy1pbmxpbmUtc3RhcnRcIiwwPT09ZT9cIlwiOmBjYWxjKCR7ZX0gKiAke3J9KWApfWZ1bmN0aW9uIGpuKHQsZSl7Y29uc3Qgbj10LnN0eWxlOzA9PT1lP1ZuKG4sXCJcIik6ZT09PXZ0P1ZuKG4sXCJsZWZ0XCIpOmU9PT1UdD9WbihuLFwiY2VudGVyXCIpOmU9PT1DdD9WbihuLFwicmlnaHRcIik6ZT09PVN0P1ZuKG4sXCJqdXN0aWZ5XCIpOmU9PT1rdD9WbihuLFwic3RhcnRcIik6ZT09PWJ0JiZWbihuLFwiZW5kXCIpfWZ1bmN0aW9uIHFuKHQsZSxuKXtjb25zdCByPU9uLmdldCh0KTt2b2lkIDA9PT1yJiZSdCg2MCk7Y29uc3Qgcz1yLmNyZWF0ZURPTShibix3bik7aWYoZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9bi5fa2V5VG9ET01NYXA7ZVtcIl9fbGV4aWNhbEtleV9cIituLl9rZXldPXQsci5zZXQodCxlKX0odCxzLHduKSxHcihyKT9zLnNldEF0dHJpYnV0ZShcImRhdGEtbGV4aWNhbC10ZXh0XCIsXCJ0cnVlXCIpOnVpKHIpJiZzLnNldEF0dHJpYnV0ZShcImRhdGEtbGV4aWNhbC1kZWNvcmF0b3JcIixcInRydWVcIiksbGkocikpe2NvbnN0IHQ9ci5fX2luZGVudCxlPXIuX19zaXplO2lmKDAhPT10JiZIbihzLHQpLDAhPT1lKXtjb25zdCB0PWUtMTshZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz1NbjtNbj1cIlwiLFFuKHQsbiwwLGUscixudWxsKSxabihuLHIpLE1uPXN9KHRyKHIsT24pLHQscixzKX1jb25zdCBuPXIuX19mb3JtYXQ7MCE9PW4mJmpuKHMsbiksci5pc0lubGluZSgpfHxZbihudWxsLHIscyksWWUocikmJihBbis9TnQsV24rPU50KX1lbHNle2NvbnN0IGU9ci5nZXRUZXh0Q29udGVudCgpO2lmKHVpKHIpKXtjb25zdCBlPXIuZGVjb3JhdGUod24sYm4pO251bGwhPT1lJiZucih0LGUpLHMuY29udGVudEVkaXRhYmxlPVwiZmFsc2VcIn1lbHNlIEdyKHIpJiYoci5pc0RpcmVjdGlvbmxlc3MoKXx8KE1uKz1lKSk7QW4rPWUsV24rPWV9aWYobnVsbCE9PWUpaWYobnVsbCE9billLmluc2VydEJlZm9yZShzLG4pO2Vsc2V7Y29uc3QgdD1lLl9fbGV4aWNhbExpbmVCcmVhaztudWxsIT10P2UuaW5zZXJ0QmVmb3JlKHMsdCk6ZS5hcHBlbmRDaGlsZChzKX1yZXR1cm4gJGUoTG4sTm4sRW4scixcImNyZWF0ZWRcIiksc31mdW5jdGlvbiBRbih0LGUsbixyLHMsaSl7Y29uc3Qgbz1BbjtBbj1cIlwiO2xldCBsPW47Zm9yKDtsPD1yOysrbCl7cW4odFtsXSxzLGkpO2NvbnN0IGU9T24uZ2V0KHRbbF0pO251bGwhPT1lJiZudWxsPT09em4mJkdyKGUpJiYoem49ZS5nZXRGb3JtYXQoKSl9WWUoZSkmJihBbis9TnQpLHMuX19sZXhpY2FsVGV4dENvbnRlbnQ9QW4sQW49bytBbn1mdW5jdGlvbiBYbih0LGUpe2NvbnN0IG49ZS5nZXQodCk7cmV0dXJuIEFyKG4pfHx1aShuKSYmbi5pc0lubGluZSgpfWZ1bmN0aW9uIFluKHQsZSxuKXtjb25zdCByPW51bGwhPT10JiYoMD09PXQuX19zaXplfHxYbih0Ll9fbGFzdCxGbikpLHM9MD09PWUuX19zaXplfHxYbihlLl9fbGFzdCxPbik7aWYocil7aWYoIXMpe2NvbnN0IHQ9bi5fX2xleGljYWxMaW5lQnJlYWs7bnVsbCE9dCYmbi5yZW1vdmVDaGlsZCh0KSxuLl9fbGV4aWNhbExpbmVCcmVhaz1udWxsfX1lbHNlIGlmKHMpe2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpO24uX19sZXhpY2FsTGluZUJyZWFrPXQsbi5hcHBlbmRDaGlsZCh0KX19ZnVuY3Rpb24gWm4odCxlKXtjb25zdCBuPWUuX19sZXhpY2FsRGlyVGV4dENvbnRlbnQscj1lLl9fbGV4aWNhbERpcjtpZihuIT09TW58fHIhPT1Lbil7Y29uc3Qgbj1cIlwiPT09TW4saT1uP0tuOihzPU1uLEZ0LnRlc3Qocyk/XCJydGxcIjpPdC50ZXN0KHMpP1wibHRyXCI6bnVsbCk7aWYoaSE9PXIpe2NvbnN0IHM9ZS5jbGFzc0xpc3Qsbz1ibi50aGVtZTtsZXQgbD1udWxsIT09cj9vW3JdOnZvaWQgMCxjPW51bGwhPT1pP29baV06dm9pZCAwO2lmKHZvaWQgMCE9PWwpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBsKXtjb25zdCB0PUt0KGwpO2w9b1tyXT10fXMucmVtb3ZlKC4uLmwpfWlmKG51bGw9PT1pfHxuJiZcImx0clwiPT09aSllLnJlbW92ZUF0dHJpYnV0ZShcImRpclwiKTtlbHNle2lmKHZvaWQgMCE9PWMpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBjKXtjb25zdCB0PUt0KGMpO2M9b1tpXT10fXZvaWQgMCE9PWMmJnMuYWRkKC4uLmMpfWUuZGlyPWl9aWYoIVJuKXt0LmdldFdyaXRhYmxlKCkuX19kaXI9aX19S249aSxlLl9fbGV4aWNhbERpclRleHRDb250ZW50PU1uLGUuX19sZXhpY2FsRGlyPWl9dmFyIHN9ZnVuY3Rpb24gR24odCxlLG4pe2NvbnN0IHI9TW47dmFyIHM7TW49XCJcIix6bj1udWxsLGZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPUFuLHM9dC5fX3NpemUsaT1lLl9fc2l6ZTtpZihBbj1cIlwiLDE9PT1zJiYxPT09aSl7Y29uc3Qgcj10Ll9fZmlyc3Qscz1lLl9fZmlyc3Q7aWYocj09PXMpZXIocixuKTtlbHNle2NvbnN0IHQ9aXIociksZT1xbihzLG51bGwsbnVsbCk7bi5yZXBsYWNlQ2hpbGQoZSx0KSxKbihyLG51bGwpfWNvbnN0IGk9T24uZ2V0KHMpO251bGw9PT16biYmR3IoaSkmJih6bj1pLmdldEZvcm1hdCgpKX1lbHNle2NvbnN0IHI9dHIodCxGbiksbz10cihlLE9uKTtpZigwPT09cykwIT09aSYmUW4obyxlLDAsaS0xLG4sbnVsbCk7ZWxzZSBpZigwPT09aSl7aWYoMCE9PXMpe2NvbnN0IHQ9bnVsbD09bi5fX2xleGljYWxMaW5lQnJlYWs7VW4ociwwLHMtMSx0P251bGw6biksdCYmKG4udGV4dENvbnRlbnQ9XCJcIil9fWVsc2UhZnVuY3Rpb24odCxlLG4scixzLGkpe2NvbnN0IG89ci0xLGw9cy0xO2xldCBjLGEsdT0oaD1pLGguZmlyc3RDaGlsZCksZj0wLGQ9MDt2YXIgaDtmb3IoO2Y8PW8mJmQ8PWw7KXtjb25zdCB0PWVbZl0scj1uW2RdO2lmKHQ9PT1yKXU9cnIoZXIocixpKSksZisrLGQrKztlbHNle3ZvaWQgMD09PWMmJihjPW5ldyBTZXQoZSkpLHZvaWQgMD09PWEmJihhPW5ldyBTZXQobikpO2NvbnN0IHM9YS5oYXModCksbz1jLmhhcyhyKTtpZihzKWlmKG8pe2NvbnN0IHQ9WmUod24scik7dD09PXU/dT1ycihlcihyLGkpKToobnVsbCE9dT9pLmluc2VydEJlZm9yZSh0LHUpOmkuYXBwZW5kQ2hpbGQodCksZXIocixpKSksZisrLGQrK31lbHNlIHFuKHIsaSx1KSxkKys7ZWxzZSB1PXJyKGlyKHQpKSxKbih0LGkpLGYrK31jb25zdCBzPU9uLmdldChyKTtudWxsIT09cyYmbnVsbD09PXpuJiZHcihzKSYmKHpuPXMuZ2V0Rm9ybWF0KCkpfWNvbnN0IGc9Zj5vLF89ZD5sO2lmKGcmJiFfKXtjb25zdCBlPW5bbCsxXTtRbihuLHQsZCxsLGksdm9pZCAwPT09ZT9udWxsOnduLmdldEVsZW1lbnRCeUtleShlKSl9ZWxzZSBfJiYhZyYmVW4oZSxmLG8saSl9KGUscixvLHMsaSxuKX1ZZShlKSYmKEFuKz1OdCk7bi5fX2xleGljYWxUZXh0Q29udGVudD1BbixBbj1yK0FufSh0LGUsbiksWm4oZSxuKSx2aShzPWUpJiZudWxsIT16biYmem4hPT1zLl9fdGV4dEZvcm1hdCYmIVJuJiZzLnNldFRleHRGb3JtYXQoem4pLE1uPXIsem49bnVsbH1mdW5jdGlvbiB0cih0LGUpe2NvbnN0IG49W107bGV0IHI9dC5fX2ZpcnN0O2Zvcig7bnVsbCE9PXI7KXtjb25zdCB0PWUuZ2V0KHIpO3ZvaWQgMD09PXQmJlJ0KDEwMSksbi5wdXNoKHIpLHI9dC5fX25leHR9cmV0dXJuIG59ZnVuY3Rpb24gZXIodCxlKXtjb25zdCBuPUZuLmdldCh0KTtsZXQgcj1Pbi5nZXQodCk7dm9pZCAwIT09biYmdm9pZCAwIT09cnx8UnQoNjEpO2NvbnN0IHM9Qm58fERuLmhhcyh0KXx8UG4uaGFzKHQpLGk9WmUod24sdCk7aWYobj09PXImJiFzKXtpZihsaShuKSl7Y29uc3QgdD1pLl9fbGV4aWNhbFRleHRDb250ZW50O3ZvaWQgMCE9PXQmJihBbis9dCxXbis9dCk7Y29uc3QgZT1pLl9fbGV4aWNhbERpclRleHRDb250ZW50O3ZvaWQgMCE9PWUmJihNbis9ZSl9ZWxzZXtjb25zdCB0PW4uZ2V0VGV4dENvbnRlbnQoKTtHcihuKSYmIW4uaXNEaXJlY3Rpb25sZXNzKCkmJihNbis9dCksV24rPXQsQW4rPXR9cmV0dXJuIGl9aWYobiE9PXImJnMmJiRlKExuLE5uLEVuLHIsXCJ1cGRhdGVkXCIpLHIudXBkYXRlRE9NKG4saSxibikpe2NvbnN0IG49cW4odCxudWxsLG51bGwpO3JldHVybiBudWxsPT09ZSYmUnQoNjIpLGUucmVwbGFjZUNoaWxkKG4saSksSm4odCxudWxsKSxufWlmKGxpKG4pJiZsaShyKSl7Y29uc3QgdD1yLl9faW5kZW50O3QhPT1uLl9faW5kZW50JiZIbihpLHQpO2NvbnN0IGU9ci5fX2Zvcm1hdDtlIT09bi5fX2Zvcm1hdCYmam4oaSxlKSxzJiYoR24obixyLGkpLGRpKHIpfHxyLmlzSW5saW5lKCl8fFluKG4scixpKSksWWUocikmJihBbis9TnQsV24rPU50KX1lbHNle2NvbnN0IGU9ci5nZXRUZXh0Q29udGVudCgpO2lmKHVpKHIpKXtjb25zdCBlPXIuZGVjb3JhdGUod24sYm4pO251bGwhPT1lJiZucih0LGUpfWVsc2UgR3IocikmJiFyLmlzRGlyZWN0aW9ubGVzcygpJiYoTW4rPWUpO0FuKz1lLFduKz1lfWlmKCFSbiYmZGkocikmJnIuX19jYWNoZWRUZXh0IT09V24pe2NvbnN0IHQ9ci5nZXRXcml0YWJsZSgpO3QuX19jYWNoZWRUZXh0PVduLHI9dH1yZXR1cm4gaX1mdW5jdGlvbiBucih0LGUpe2xldCBuPXduLl9wZW5kaW5nRGVjb3JhdG9ycztjb25zdCByPXduLl9kZWNvcmF0b3JzO2lmKG51bGw9PT1uKXtpZihyW3RdPT09ZSlyZXR1cm47bj1DZSh3bil9blt0XT1lfWZ1bmN0aW9uIHJyKHQpe2xldCBlPXQubmV4dFNpYmxpbmc7cmV0dXJuIG51bGwhPT1lJiZlPT09d24uX2Jsb2NrQ3Vyc29yRWxlbWVudCYmKGU9ZS5uZXh0U2libGluZyksZX1mdW5jdGlvbiBzcih0LGUsbixyLHMsaSl7QW49XCJcIixXbj1cIlwiLE1uPVwiXCIsQm49cj09PWx0LEtuPW51bGwsd249bixibj1uLl9jb25maWcsTm49bi5fbm9kZXMsRW49d24uX2xpc3RlbmVycy5tdXRhdGlvbixQbj1zLERuPWksRm49dC5fbm9kZU1hcCxPbj1lLl9ub2RlTWFwLFJuPWUuX3JlYWRPbmx5LEluPW5ldyBNYXAobi5fa2V5VG9ET01NYXApO2NvbnN0IG89bmV3IE1hcDtyZXR1cm4gTG49byxlcihcInJvb3RcIixudWxsKSx3bj12b2lkIDAsTm49dm9pZCAwLFBuPXZvaWQgMCxEbj12b2lkIDAsRm49dm9pZCAwLE9uPXZvaWQgMCxibj12b2lkIDAsSW49dm9pZCAwLExuPXZvaWQgMCxvfWZ1bmN0aW9uIGlyKHQpe2NvbnN0IGU9SW4uZ2V0KHQpO3JldHVybiB2b2lkIDA9PT1lJiZSdCg3NSx0KSxlfWNvbnN0IG9yPU9iamVjdC5mcmVlemUoe30pLGxyPTMwLGNyPVtbXCJrZXlkb3duXCIsZnVuY3Rpb24odCxlKXtpZihhcj10LnRpbWVTdGFtcCx1cj10LmtleSxlLmlzQ29tcG9zaW5nKCkpcmV0dXJuO2NvbnN0e2tleTpuLHNoaWZ0S2V5OnIsY3RybEtleTpvLG1ldGFLZXk6bCxhbHRLZXk6Y309dDtpZihYZShlLF8sdCkpcmV0dXJuO2lmKG51bGw9PW4pcmV0dXJuO2lmKGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB6ZSh0KSYmIWUmJiFyJiYhbn0obixvLGMsbCkpWGUoZSxwLHQpO2Vsc2UgaWYoZnVuY3Rpb24odCxlLG4scixzKXtyZXR1cm4gemUodCkmJiFyJiYhbiYmKGV8fHMpfShuLG8scixjLGwpKVhlKGUseSx0KTtlbHNlIGlmKGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBNZSh0KSYmIWUmJiFyJiYhbn0obixvLGMsbCkpWGUoZSxtLHQpO2Vsc2UgaWYoZnVuY3Rpb24odCxlLG4scixzKXtyZXR1cm4gTWUodCkmJiFyJiYhbiYmKGV8fHMpfShuLG8scixjLGwpKVhlKGUseCx0KTtlbHNlIGlmKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuXCJBcnJvd1VwXCI9PT10fSh0KSYmIWUmJiFufShuLG8sbCkpWGUoZSx2LHQpO2Vsc2UgaWYoZnVuY3Rpb24odCxlLG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm5cIkFycm93RG93blwiPT09dH0odCkmJiFlJiYhbn0obixvLGwpKVhlKGUsVCx0KTtlbHNlIGlmKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIEJlKHQpJiZlfShuLHIpKXByPSEwLFhlKGUsQyx0KTtlbHNlIGlmKGZ1bmN0aW9uKHQpe3JldHVyblwiIFwiPT09dH0obikpWGUoZSxTLHQpO2Vsc2UgaWYoZnVuY3Rpb24odCxlKXtyZXR1cm4gcSYmZSYmXCJvXCI9PT10LnRvTG93ZXJDYXNlKCl9KG4sbykpdC5wcmV2ZW50RGVmYXVsdCgpLHByPSEwLFhlKGUsaSwhMCk7ZWxzZSBpZihmdW5jdGlvbih0LGUpe3JldHVybiBCZSh0KSYmIWV9KG4scikpcHI9ITEsWGUoZSxDLHQpO2Vsc2UgaWYoZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHE/IWUmJiFuJiYoUmUodCl8fFwiaFwiPT09dC50b0xvd2VyQ2FzZSgpJiZyKTohKHJ8fGV8fG4pJiZSZSh0KX0obixjLGwsbykpUmUobik/WGUoZSxrLHQpOih0LnByZXZlbnREZWZhdWx0KCksWGUoZSxzLCEwKSk7ZWxzZSBpZihmdW5jdGlvbih0KXtyZXR1cm5cIkVzY2FwZVwiPT09dH0obikpWGUoZSxiLHQpO2Vsc2UgaWYoZnVuY3Rpb24odCxlLG4scixzKXtyZXR1cm4gcT8hKG58fHJ8fHMpJiYoS2UodCl8fFwiZFwiPT09dC50b0xvd2VyQ2FzZSgpJiZlKTohKGV8fHJ8fHMpJiZLZSh0KX0obixvLHIsYyxsKSlLZShuKT9YZShlLHcsdCk6KHQucHJldmVudERlZmF1bHQoKSxYZShlLHMsITEpKTtlbHNlIGlmKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gUmUodCkmJihxP2U6bil9KG4sYyxvKSl0LnByZXZlbnREZWZhdWx0KCksWGUoZSx1LCEwKTtlbHNlIGlmKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gS2UodCkmJihxP2U6bil9KG4sYyxvKSl0LnByZXZlbnREZWZhdWx0KCksWGUoZSx1LCExKTtlbHNlIGlmKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHEmJmUmJlJlKHQpfShuLGwpKXQucHJldmVudERlZmF1bHQoKSxYZShlLGYsITApO2Vsc2UgaWYoZnVuY3Rpb24odCxlKXtyZXR1cm4gcSYmZSYmS2UodCl9KG4sbCkpdC5wcmV2ZW50RGVmYXVsdCgpLFhlKGUsZiwhMSk7ZWxzZSBpZihmdW5jdGlvbih0LGUsbixyKXtyZXR1cm5cImJcIj09PXQudG9Mb3dlckNhc2UoKSYmIWUmJldlKG4scil9KG4sYyxsLG8pKXQucHJldmVudERlZmF1bHQoKSxYZShlLGQsXCJib2xkXCIpO2Vsc2UgaWYoZnVuY3Rpb24odCxlLG4scil7cmV0dXJuXCJ1XCI9PT10LnRvTG93ZXJDYXNlKCkmJiFlJiZXZShuLHIpfShuLGMsbCxvKSl0LnByZXZlbnREZWZhdWx0KCksWGUoZSxkLFwidW5kZXJsaW5lXCIpO2Vsc2UgaWYoZnVuY3Rpb24odCxlLG4scil7cmV0dXJuXCJpXCI9PT10LnRvTG93ZXJDYXNlKCkmJiFlJiZXZShuLHIpfShuLGMsbCxvKSl0LnByZXZlbnREZWZhdWx0KCksWGUoZSxkLFwiaXRhbGljXCIpO2Vsc2UgaWYoZnVuY3Rpb24odCxlLG4scil7cmV0dXJuXCJUYWJcIj09PXQmJiFlJiYhbiYmIXJ9KG4sYyxvLGwpKVhlKGUsTix0KTtlbHNlIGlmKGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVyblwielwiPT09dC50b0xvd2VyQ2FzZSgpJiYhZSYmV2UobixyKX0obixyLGwsbykpdC5wcmV2ZW50RGVmYXVsdCgpLFhlKGUsaCx2b2lkIDApO2Vsc2UgaWYoZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHE/XCJ6XCI9PT10LnRvTG93ZXJDYXNlKCkmJm4mJmU6XCJ5XCI9PT10LnRvTG93ZXJDYXNlKCkmJnJ8fFwielwiPT09dC50b0xvd2VyQ2FzZSgpJiZyJiZlfShuLHIsbCxvKSl0LnByZXZlbnREZWZhdWx0KCksWGUoZSxnLHZvaWQgMCk7ZWxzZXtkcyhlLl9lZGl0b3JTdGF0ZS5fc2VsZWN0aW9uKT8hZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIWUmJlwiY1wiPT09dC50b0xvd2VyQ2FzZSgpJiYocT9uOnIpfShuLHIsbCxvKT8hZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIWUmJlwieFwiPT09dC50b0xvd2VyQ2FzZSgpJiYocT9uOnIpfShuLHIsbCxvKT9KZShuLGwsbykmJih0LnByZXZlbnREZWZhdWx0KCksWGUoZSxXLHQpKToodC5wcmV2ZW50RGVmYXVsdCgpLFhlKGUseix0KSk6KHQucHJldmVudERlZmF1bHQoKSxYZShlLE0sdCkpOiFRJiZKZShuLGwsbykmJih0LnByZXZlbnREZWZhdWx0KCksWGUoZSxXLHQpKX0oZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHR8fGV8fG58fHJ9KShvLHIsYyxsKSYmWGUoZSwkLHQpfV0sW1wicG9pbnRlcmRvd25cIixmdW5jdGlvbih0LGUpe2NvbnN0IG49dC50YXJnZXQscj10LnBvaW50ZXJUeXBlO24gaW5zdGFuY2VvZiBOb2RlJiZcInRvdWNoXCIhPT1yJiZpaShlLCgoKT0+e3VpKFRlKG4pKXx8KF9yPSEwKX0pKX1dLFtcImNvbXBvc2l0aW9uc3RhcnRcIixmdW5jdGlvbih0LGUpe2lpKGUsKCgpPT57Y29uc3Qgbj13cygpO2lmKHVzKG4pJiYhZS5pc0NvbXBvc2luZygpKXtjb25zdCByPW4uYW5jaG9yLHM9bi5hbmNob3IuZ2V0Tm9kZSgpO3llKHIua2V5KSwodC50aW1lU3RhbXA8YXIrbHJ8fFwiZWxlbWVudFwiPT09ci50eXBlfHwhbi5pc0NvbGxhcHNlZCgpfHxzLmdldEZvcm1hdCgpIT09bi5mb3JtYXR8fEdyKHMpJiZzLmdldFN0eWxlKCkhPT1uLnN0eWxlKSYmWGUoZSxsLEV0KX19KSl9XSxbXCJjb21wb3NpdGlvbmVuZFwiLGZ1bmN0aW9uKHQsZSl7UT95cj0hMDppaShlLCgoKT0+e1NyKGUsdC5kYXRhKX0pKX1dLFtcImlucHV0XCIsZnVuY3Rpb24odCxlKXt0LnN0b3BQcm9wYWdhdGlvbigpLGlpKGUsKCgpPT57Y29uc3Qgbj13cygpLHI9dC5kYXRhLHM9Q3IodCk7aWYobnVsbCE9ciYmdXMobikmJnhyKG4scyxyLHQudGltZVN0YW1wLCExKSl7eXImJihTcihlLHIpLHlyPSExKTtjb25zdCBzPW4uYW5jaG9yLmdldE5vZGUoKSxpPV9uKGUuX3dpbmRvdyk7aWYobnVsbD09PWkpcmV0dXJuO2NvbnN0IG89bi5pc0JhY2t3YXJkKCksYz1vP24uYW5jaG9yLm9mZnNldDpuLmZvY3VzLm9mZnNldCxhPW8/bi5mb2N1cy5vZmZzZXQ6bi5hbmNob3Iub2Zmc2V0O1gmJiFuLmlzQ29sbGFwc2VkKCkmJkdyKHMpJiZudWxsIT09aS5hbmNob3JOb2RlJiZzLmdldFRleHRDb250ZW50KCkuc2xpY2UoMCxjKStyK3MuZ2V0VGV4dENvbnRlbnQoKS5zbGljZShjK2EpPT09T2UoaS5hbmNob3JOb2RlKXx8WGUoZSxsLHIpO2NvbnN0IHU9ci5sZW5ndGg7USYmdT4xJiZcImluc2VydENvbXBvc2l0aW9uVGV4dFwiPT09dC5pbnB1dFR5cGUmJiFlLmlzQ29tcG9zaW5nKCkmJihuLmFuY2hvci5vZmZzZXQtPXUpLFl8fFp8fG50fHwhZS5pc0NvbXBvc2luZygpfHwoYXI9MCx5ZShudWxsKSl9ZWxzZXtJZSghMSxlLG51bGwhPT1yP3I6dm9pZCAwKSx5ciYmKFNyKGUscnx8dm9pZCAwKSx5cj0hMSl9VnMoKSxYdChqcygpKX0pKSxkcj1udWxsfV0sW1wiY2xpY2tcIixmdW5jdGlvbih0LGUpe2lpKGUsKCgpPT57Y29uc3Qgbj13cygpLHM9X24oZS5fd2luZG93KSxpPU5zKCk7aWYocylpZih1cyhuKSl7Y29uc3QgZT1uLmFuY2hvcixyPWUuZ2V0Tm9kZSgpO2lmKFwiZWxlbWVudFwiPT09ZS50eXBlJiYwPT09ZS5vZmZzZXQmJm4uaXNDb2xsYXBzZWQoKSYmIWRpKHIpJiYxPT09a2UoKS5nZXRDaGlsZHJlblNpemUoKSYmci5nZXRUb3BMZXZlbEVsZW1lbnRPclRocm93KCkuaXNFbXB0eSgpJiZudWxsIT09aSYmbi5pcyhpKSlzLnJlbW92ZUFsbFJhbmdlcygpLG4uZGlydHk9ITA7ZWxzZSBpZigzPT09dC5kZXRhaWwmJiFuLmlzQ29sbGFwc2VkKCkpe3IhPT1uLmZvY3VzLmdldE5vZGUoKSYmKGxpKHIpP3Iuc2VsZWN0KDApOnIuZ2V0UGFyZW50T3JUaHJvdygpLnNlbGVjdCgwKSl9fWVsc2UgaWYoXCJ0b3VjaFwiPT09dC5wb2ludGVyVHlwZSl7Y29uc3Qgbj1zLmFuY2hvck5vZGU7aWYobnVsbCE9PW4pe2NvbnN0IHI9bi5ub2RlVHlwZTtpZihyPT09cnR8fHI9PT1zdCl7d2UoYnMoaSxzLGUsdCkpfX19WGUoZSxyLHQpfSkpfV0sW1wiY3V0XCIsb3JdLFtcImNvcHlcIixvcl0sW1wiZHJhZ3N0YXJ0XCIsb3JdLFtcImRyYWdvdmVyXCIsb3JdLFtcImRyYWdlbmRcIixvcl0sW1wicGFzdGVcIixvcl0sW1wiZm9jdXNcIixvcl0sW1wiYmx1clwiLG9yXSxbXCJkcm9wXCIsb3JdXTtYJiZjci5wdXNoKFtcImJlZm9yZWlucHV0XCIsKHQsZSk9PmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmlucHV0VHlwZSxyPUNyKHQpO2lmKFwiZGVsZXRlQ29tcG9zaXRpb25UZXh0XCI9PT1ufHxRJiZRZShlKSlyZXR1cm47aWYoXCJpbnNlcnRDb21wb3NpdGlvblRleHRcIj09PW4pcmV0dXJuO2lpKGUsKCgpPT57Y29uc3QgXz13cygpO2lmKFwiZGVsZXRlQ29udGVudEJhY2t3YXJkXCI9PT1uKXtpZihudWxsPT09Xyl7Y29uc3QgdD1OcygpO2lmKCF1cyh0KSlyZXR1cm47d2UodC5jbG9uZSgpKX1pZih1cyhfKSl7Y29uc3Qgbj1fLmFuY2hvci5rZXk9PT1fLmZvY3VzLmtleTtpZihwPXQudGltZVN0YW1wLFwiTWVkaWFMYXN0XCI9PT11ciYmcDxhcitsciYmZS5pc0NvbXBvc2luZygpJiZuKXtpZih5ZShudWxsKSxhcj0wLHNldFRpbWVvdXQoKCgpPT57aWkoZSwoKCk9Pnt5ZShudWxsKX0pKX0pLGxyKSx1cyhfKSl7Y29uc3QgdD1fLmFuY2hvci5nZXROb2RlKCk7dC5tYXJrRGlydHkoKSxfLmZvcm1hdD10LmdldEZvcm1hdCgpLEdyKHQpfHxSdCgxNDIpLF8uc3R5bGU9dC5nZXRTdHlsZSgpfX1lbHNle3llKG51bGwpLHQucHJldmVudERlZmF1bHQoKTtjb25zdCByPV8uYW5jaG9yLmdldE5vZGUoKS5nZXRUZXh0Q29udGVudCgpLGk9MD09PV8uYW5jaG9yLm9mZnNldCYmXy5mb2N1cy5vZmZzZXQ9PT1yLmxlbmd0aDtldCYmbiYmIWl8fFhlKGUscywhMCl9cmV0dXJufX12YXIgcDtpZighdXMoXykpcmV0dXJuO2NvbnN0IHk9dC5kYXRhO251bGwhPT1kciYmSWUoITEsZSxkciksXy5kaXJ0eSYmbnVsbD09PWRyfHwhXy5pc0NvbGxhcHNlZCgpfHxkaShfLmFuY2hvci5nZXROb2RlKCkpfHxudWxsPT09cnx8Xy5hcHBseURPTVJhbmdlKHIpLGRyPW51bGw7Y29uc3QgbT1fLmFuY2hvcix4PV8uZm9jdXMsdj1tLmdldE5vZGUoKSxUPXguZ2V0Tm9kZSgpO2lmKFwiaW5zZXJ0VGV4dFwiIT09biYmXCJpbnNlcnRUcmFuc3Bvc2VcIiE9PW4pc3dpdGNoKHQucHJldmVudERlZmF1bHQoKSxuKXtjYXNlXCJpbnNlcnRGcm9tWWFua1wiOmNhc2VcImluc2VydEZyb21Ecm9wXCI6Y2FzZVwiaW5zZXJ0UmVwbGFjZW1lbnRUZXh0XCI6WGUoZSxsLHQpO2JyZWFrO2Nhc2VcImluc2VydEZyb21Db21wb3NpdGlvblwiOnllKG51bGwpLFhlKGUsbCx0KTticmVhaztjYXNlXCJpbnNlcnRMaW5lQnJlYWtcIjp5ZShudWxsKSxYZShlLGksITEpO2JyZWFrO2Nhc2VcImluc2VydFBhcmFncmFwaFwiOnllKG51bGwpLHByJiYhWj8ocHI9ITEsWGUoZSxpLCExKSk6WGUoZSxvLHZvaWQgMCk7YnJlYWs7Y2FzZVwiaW5zZXJ0RnJvbVBhc3RlXCI6Y2FzZVwiaW5zZXJ0RnJvbVBhc3RlQXNRdW90YXRpb25cIjpYZShlLGMsdCk7YnJlYWs7Y2FzZVwiZGVsZXRlQnlDb21wb3NpdGlvblwiOihmdW5jdGlvbih0LGUpe3JldHVybiB0IT09ZXx8bGkodCl8fGxpKGUpfHwhdC5pc1Rva2VuKCl8fCFlLmlzVG9rZW4oKX0pKHYsVCkmJlhlKGUsYSx0KTticmVhaztjYXNlXCJkZWxldGVCeURyYWdcIjpjYXNlXCJkZWxldGVCeUN1dFwiOlhlKGUsYSx0KTticmVhaztjYXNlXCJkZWxldGVDb250ZW50XCI6WGUoZSxzLCExKTticmVhaztjYXNlXCJkZWxldGVXb3JkQmFja3dhcmRcIjpYZShlLHUsITApO2JyZWFrO2Nhc2VcImRlbGV0ZVdvcmRGb3J3YXJkXCI6WGUoZSx1LCExKTticmVhaztjYXNlXCJkZWxldGVIYXJkTGluZUJhY2t3YXJkXCI6Y2FzZVwiZGVsZXRlU29mdExpbmVCYWNrd2FyZFwiOlhlKGUsZiwhMCk7YnJlYWs7Y2FzZVwiZGVsZXRlQ29udGVudEZvcndhcmRcIjpjYXNlXCJkZWxldGVIYXJkTGluZUZvcndhcmRcIjpjYXNlXCJkZWxldGVTb2Z0TGluZUZvcndhcmRcIjpYZShlLGYsITEpO2JyZWFrO2Nhc2VcImZvcm1hdFN0cmlrZVRocm91Z2hcIjpYZShlLGQsXCJzdHJpa2V0aHJvdWdoXCIpO2JyZWFrO2Nhc2VcImZvcm1hdEJvbGRcIjpYZShlLGQsXCJib2xkXCIpO2JyZWFrO2Nhc2VcImZvcm1hdEl0YWxpY1wiOlhlKGUsZCxcIml0YWxpY1wiKTticmVhaztjYXNlXCJmb3JtYXRVbmRlcmxpbmVcIjpYZShlLGQsXCJ1bmRlcmxpbmVcIik7YnJlYWs7Y2FzZVwiaGlzdG9yeVVuZG9cIjpYZShlLGgsdm9pZCAwKTticmVhaztjYXNlXCJoaXN0b3J5UmVkb1wiOlhlKGUsZyx2b2lkIDApfWVsc2V7aWYoXCJcXG5cIj09PXkpdC5wcmV2ZW50RGVmYXVsdCgpLFhlKGUsaSwhMSk7ZWxzZSBpZih5PT09TnQpdC5wcmV2ZW50RGVmYXVsdCgpLFhlKGUsbyx2b2lkIDApO2Vsc2UgaWYobnVsbD09eSYmdC5kYXRhVHJhbnNmZXIpe2NvbnN0IGU9dC5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcInRleHQvcGxhaW5cIik7dC5wcmV2ZW50RGVmYXVsdCgpLF8uaW5zZXJ0UmF3VGV4dChlKX1lbHNlIG51bGwhPXkmJnhyKF8scix5LHQudGltZVN0YW1wLCEwKT8odC5wcmV2ZW50RGVmYXVsdCgpLFhlKGUsbCx5KSk6ZHI9eTtmcj10LnRpbWVTdGFtcH19KSl9KHQsZSldKTtsZXQgYXI9MCx1cj1udWxsLGZyPTAsZHI9bnVsbDtjb25zdCBocj1uZXcgV2Vha01hcDtsZXQgZ3I9ITEsX3I9ITEscHI9ITEseXI9ITEsbXI9WzAsXCJcIiwwLFwicm9vdFwiLDBdO2Z1bmN0aW9uIHhyKHQsZSxuLHIscyl7Y29uc3QgaT10LmFuY2hvcixvPXQuZm9jdXMsbD1pLmdldE5vZGUoKSxjPWpzKCksYT1fbihjLl93aW5kb3cpLHU9bnVsbCE9PWE/YS5hbmNob3JOb2RlOm51bGwsZj1pLmtleSxkPWMuZ2V0RWxlbWVudEJ5S2V5KGYpLGg9bi5sZW5ndGg7cmV0dXJuIGYhPT1vLmtleXx8IUdyKGwpfHwoIXMmJighWHx8ZnI8cis1MCl8fGwuaXNEaXJ0eSgpJiZoPDJ8fFBlKG4pKSYmaS5vZmZzZXQhPT1vLm9mZnNldCYmIWwuaXNDb21wb3NpbmcoKXx8YWUobCl8fGwuaXNEaXJ0eSgpJiZoPjF8fChzfHwhWCkmJm51bGwhPT1kJiYhbC5pc0NvbXBvc2luZygpJiZ1IT09ZmUoZCl8fG51bGwhPT1hJiZudWxsIT09ZSYmKCFlLmNvbGxhcHNlZHx8ZS5zdGFydENvbnRhaW5lciE9PWEuYW5jaG9yTm9kZXx8ZS5zdGFydE9mZnNldCE9PWEuYW5jaG9yT2Zmc2V0KXx8bC5nZXRGb3JtYXQoKSE9PXQuZm9ybWF0fHxsLmdldFN0eWxlKCkhPT10LnN0eWxlfHxBZSh0LGwpfWZ1bmN0aW9uIHZyKHQsZSl7cmV0dXJuIG51bGwhPT10JiZudWxsIT09dC5ub2RlVmFsdWUmJnQubm9kZVR5cGU9PT1zdCYmMCE9PWUmJmUhPT10Lm5vZGVWYWx1ZS5sZW5ndGh9ZnVuY3Rpb24gVHIodCxuLHIpe2NvbnN0e2FuY2hvck5vZGU6cyxhbmNob3JPZmZzZXQ6aSxmb2N1c05vZGU6byxmb2N1c09mZnNldDpsfT10O2dyJiYoZ3I9ITEsdnIocyxpKSYmdnIobyxsKSl8fGlpKG4sKCgpPT57aWYoIXIpcmV0dXJuIHZvaWQgd2UobnVsbCk7aWYoIWxlKG4scyxvKSlyZXR1cm47Y29uc3QgYz13cygpO2lmKHVzKGMpKXtjb25zdCBlPWMuYW5jaG9yLHI9ZS5nZXROb2RlKCk7aWYoYy5pc0NvbGxhcHNlZCgpKXtcIlJhbmdlXCI9PT10LnR5cGUmJnQuYW5jaG9yTm9kZT09PXQuZm9jdXNOb2RlJiYoYy5kaXJ0eT0hMCk7Y29uc3Qgcz1ybihuKS5ldmVudCxpPXM/cy50aW1lU3RhbXA6cGVyZm9ybWFuY2Uubm93KCksW28sbCxhLHUsZl09bXIsZD1rZSgpLGg9ITE9PT1uLmlzQ29tcG9zaW5nKCkmJlwiXCI9PT1kLmdldFRleHRDb250ZW50KCk7aWYoaTxmKzIwMCYmZS5vZmZzZXQ9PT1hJiZlLmtleT09PXUpYy5mb3JtYXQ9byxjLnN0eWxlPWw7ZWxzZSBpZihcInRleHRcIj09PWUudHlwZSlHcihyKXx8UnQoMTQxKSxjLmZvcm1hdD1yLmdldEZvcm1hdCgpLGMuc3R5bGU9ci5nZXRTdHlsZSgpO2Vsc2UgaWYoXCJlbGVtZW50XCI9PT1lLnR5cGUmJiFoKXtjb25zdCB0PWUuZ2V0Tm9kZSgpO3QgaW5zdGFuY2VvZiB5aSYmMD09PXQuZ2V0Q2hpbGRyZW5TaXplKCk/Yy5mb3JtYXQ9dC5nZXRUZXh0Rm9ybWF0KCk6Yy5mb3JtYXQ9MCxjLnN0eWxlPVwiXCJ9fWVsc2V7Y29uc3QgdD1lLmtleSxuPWMuZm9jdXMua2V5LHI9Yy5nZXROb2RlcygpLHM9ci5sZW5ndGgsbz1jLmlzQmFja3dhcmQoKSxhPW8/bDppLHU9bz9pOmwsZj1vP246dCxkPW8/dDpuO2xldCBoPXh0LGc9ITE7Zm9yKGxldCB0PTA7dDxzO3QrKyl7Y29uc3QgZT1yW3RdLG49ZS5nZXRUZXh0Q29udGVudFNpemUoKTtpZihHcihlKSYmMCE9PW4mJiEoMD09PXQmJmUuX19rZXk9PT1mJiZhPT09bnx8dD09PXMtMSYmZS5fX2tleT09PWQmJjA9PT11KSYmKGc9ITAsaCY9ZS5nZXRGb3JtYXQoKSwwPT09aCkpYnJlYWt9Yy5mb3JtYXQ9Zz9oOjB9fVhlKG4sZSx2b2lkIDApfSkpfWZ1bmN0aW9uIENyKHQpe2lmKCF0LmdldFRhcmdldFJhbmdlcylyZXR1cm4gbnVsbDtjb25zdCBlPXQuZ2V0VGFyZ2V0UmFuZ2VzKCk7cmV0dXJuIDA9PT1lLmxlbmd0aD9udWxsOmVbMF19ZnVuY3Rpb24gU3IodCxlKXtjb25zdCBuPXQuX2NvbXBvc2l0aW9uS2V5O2lmKHllKG51bGwpLG51bGwhPT1uJiZudWxsIT1lKXtpZihcIlwiPT09ZSl7Y29uc3QgZT14ZShuKSxyPWZlKHQuZ2V0RWxlbWVudEJ5S2V5KG4pKTtyZXR1cm4gdm9pZChudWxsIT09ciYmbnVsbCE9PXIubm9kZVZhbHVlJiZHcihlKSYmTGUoZSxyLm5vZGVWYWx1ZSxudWxsLG51bGwsITApKX1pZihcIlxcblwiPT09ZVtlLmxlbmd0aC0xXSl7Y29uc3QgZT13cygpO2lmKHVzKGUpKXtjb25zdCBuPWUuZm9jdXM7cmV0dXJuIGUuYW5jaG9yLnNldChuLmtleSxuLm9mZnNldCxuLnR5cGUpLHZvaWQgWGUodCxDLG51bGwpfX19SWUoITAsdCxlKX1mdW5jdGlvbiBrcih0KXtsZXQgZT10Ll9fbGV4aWNhbEV2ZW50SGFuZGxlcztyZXR1cm4gdm9pZCAwPT09ZSYmKGU9W10sdC5fX2xleGljYWxFdmVudEhhbmRsZXM9ZSksZX1jb25zdCBicj1uZXcgTWFwO2Z1bmN0aW9uIHdyKHQpe2NvbnN0IGU9dC50YXJnZXQsbj1fbihudWxsPT1lP251bGw6OT09PWUubm9kZVR5cGU/ZS5kZWZhdWx0VmlldzplLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpO2lmKG51bGw9PT1uKXJldHVybjtjb25zdCByPWNlKG4uYW5jaG9yTm9kZSk7aWYobnVsbD09PXIpcmV0dXJuO19yJiYoX3I9ITEsaWkociwoKCk9Pntjb25zdCBlPU5zKCkscz1uLmFuY2hvck5vZGU7aWYobnVsbD09PXMpcmV0dXJuO2NvbnN0IGk9cy5ub2RlVHlwZTtpZihpIT09cnQmJmkhPT1zdClyZXR1cm47d2UoYnMoZSxuLHIsdCkpfSkpKTtjb25zdCBzPURlKHIpLGk9c1tzLmxlbmd0aC0xXSxvPWkuX2tleSxsPWJyLmdldChvKSxjPWx8fGk7YyE9PXImJlRyKG4sYywhMSksVHIobixyLCEwKSxyIT09aT9ici5zZXQobyxyKTpsJiZici5kZWxldGUobyl9ZnVuY3Rpb24gTnIodCl7dC5fbGV4aWNhbEhhbmRsZWQ9ITB9ZnVuY3Rpb24gRXIodCl7cmV0dXJuITA9PT10Ll9sZXhpY2FsSGFuZGxlZH1mdW5jdGlvbiBQcih0KXtjb25zdCBlPXQub3duZXJEb2N1bWVudCxuPWhyLmdldChlKTt2b2lkIDA9PT1uJiZSdCgxNjIpO2NvbnN0IHI9bi0xO3I+PTB8fFJ0KDE2NCksaHIuc2V0KGUsciksMD09PXImJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLHdyKTtjb25zdCBzPXQuX19sZXhpY2FsRWRpdG9yO251bGwhPXMmJighZnVuY3Rpb24odCl7aWYobnVsbCE9PXQuX3BhcmVudEVkaXRvcil7Y29uc3QgZT1EZSh0KSxuPWVbZS5sZW5ndGgtMV0uX2tleTtici5nZXQobik9PT10JiZici5kZWxldGUobil9ZWxzZSBici5kZWxldGUodC5fa2V5KX0ocyksdC5fX2xleGljYWxFZGl0b3I9bnVsbCk7Y29uc3QgaT1rcih0KTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKylpW3RdKCk7dC5fX2xleGljYWxFdmVudEhhbmRsZXM9W119ZnVuY3Rpb24gRHIodCxlLG4pe1ZzKCk7Y29uc3Qgcj10Ll9fa2V5LHM9dC5nZXRQYXJlbnQoKTtpZihudWxsPT09cylyZXR1cm47Y29uc3QgaT1mdW5jdGlvbih0KXtjb25zdCBlPXdzKCk7aWYoIXVzKGUpfHwhbGkodCkpcmV0dXJuIGU7Y29uc3R7YW5jaG9yOm4sZm9jdXM6cn09ZSxzPW4uZ2V0Tm9kZSgpLGk9ci5nZXROb2RlKCk7cmV0dXJuIG5uKHMsdCkmJm4uc2V0KHQuX19rZXksMCxcImVsZW1lbnRcIiksbm4oaSx0KSYmci5zZXQodC5fX2tleSwwLFwiZWxlbWVudFwiKSxlfSh0KTtsZXQgbz0hMTtpZih1cyhpKSYmZSl7Y29uc3QgZT1pLmFuY2hvcixuPWkuZm9jdXM7ZS5rZXk9PT1yJiYoRHMoZSx0LHMsdC5nZXRQcmV2aW91c1NpYmxpbmcoKSx0LmdldE5leHRTaWJsaW5nKCkpLG89ITApLG4ua2V5PT09ciYmKERzKG4sdCxzLHQuZ2V0UHJldmlvdXNTaWJsaW5nKCksdC5nZXROZXh0U2libGluZygpKSxvPSEwKX1lbHNlIGRzKGkpJiZlJiZ0LmlzU2VsZWN0ZWQoKSYmdC5zZWxlY3RQcmV2aW91cygpO2lmKHVzKGkpJiZlJiYhbyl7Y29uc3QgZT10LmdldEluZGV4V2l0aGluUGFyZW50KCk7X2UodCksRXMoaSxzLGUsLTEpfWVsc2UgX2UodCk7bnx8bG4ocyl8fHMuY2FuQmVFbXB0eSgpfHwhcy5pc0VtcHR5KCl8fERyKHMsZSksZSYmZGkocykmJnMuaXNFbXB0eSgpJiZzLnNlbGVjdEVuZCgpfWNsYXNzIEZye3N0YXRpYyBnZXRUeXBlKCl7UnQoNjQsdGhpcy5uYW1lKX1zdGF0aWMgY2xvbmUodCl7UnQoNjUsdGhpcy5uYW1lKX1jb25zdHJ1Y3Rvcih0KXt0aGlzLl9fdHlwZT10aGlzLmNvbnN0cnVjdG9yLmdldFR5cGUoKSx0aGlzLl9fcGFyZW50PW51bGwsdGhpcy5fX3ByZXY9bnVsbCx0aGlzLl9fbmV4dD1udWxsLGdlKHRoaXMsdCl9Z2V0VHlwZSgpe3JldHVybiB0aGlzLl9fdHlwZX1pc0lubGluZSgpe1J0KDEzNyx0aGlzLmNvbnN0cnVjdG9yLm5hbWUpfWlzQXR0YWNoZWQoKXtsZXQgdD10aGlzLl9fa2V5O2Zvcig7bnVsbCE9PXQ7KXtpZihcInJvb3RcIj09PXQpcmV0dXJuITA7Y29uc3QgZT14ZSh0KTtpZihudWxsPT09ZSlicmVhazt0PWUuX19wYXJlbnR9cmV0dXJuITF9aXNTZWxlY3RlZCh0KXtjb25zdCBlPXR8fHdzKCk7aWYobnVsbD09ZSlyZXR1cm4hMTtjb25zdCBuPWUuZ2V0Tm9kZXMoKS5zb21lKCh0PT50Ll9fa2V5PT09dGhpcy5fX2tleSkpO3JldHVybihHcih0aGlzKXx8IXVzKGUpfHxcImVsZW1lbnRcIiE9PWUuYW5jaG9yLnR5cGV8fFwiZWxlbWVudFwiIT09ZS5mb2N1cy50eXBlfHxlLmFuY2hvci5rZXkhPT1lLmZvY3VzLmtleXx8ZS5hbmNob3Iub2Zmc2V0IT09ZS5mb2N1cy5vZmZzZXQpJiZufWdldEtleSgpe3JldHVybiB0aGlzLl9fa2V5fWdldEluZGV4V2l0aGluUGFyZW50KCl7Y29uc3QgdD10aGlzLmdldFBhcmVudCgpO2lmKG51bGw9PT10KXJldHVybi0xO2xldCBlPXQuZ2V0Rmlyc3RDaGlsZCgpLG49MDtmb3IoO251bGwhPT1lOyl7aWYodGhpcy5pcyhlKSlyZXR1cm4gbjtuKyssZT1lLmdldE5leHRTaWJsaW5nKCl9cmV0dXJuLTF9Z2V0UGFyZW50KCl7Y29uc3QgdD10aGlzLmdldExhdGVzdCgpLl9fcGFyZW50O3JldHVybiBudWxsPT09dD9udWxsOnhlKHQpfWdldFBhcmVudE9yVGhyb3coKXtjb25zdCB0PXRoaXMuZ2V0UGFyZW50KCk7cmV0dXJuIG51bGw9PT10JiZSdCg2Nix0aGlzLl9fa2V5KSx0fWdldFRvcExldmVsRWxlbWVudCgpe2xldCB0PXRoaXM7Zm9yKDtudWxsIT09dDspe2NvbnN0IGU9dC5nZXRQYXJlbnQoKTtpZihsbihlKSlyZXR1cm4gbGkodCl8fFJ0KDEzOCksdDt0PWV9cmV0dXJuIG51bGx9Z2V0VG9wTGV2ZWxFbGVtZW50T3JUaHJvdygpe2NvbnN0IHQ9dGhpcy5nZXRUb3BMZXZlbEVsZW1lbnQoKTtyZXR1cm4gbnVsbD09PXQmJlJ0KDY3LHRoaXMuX19rZXkpLHR9Z2V0UGFyZW50cygpe2NvbnN0IHQ9W107bGV0IGU9dGhpcy5nZXRQYXJlbnQoKTtmb3IoO251bGwhPT1lOyl0LnB1c2goZSksZT1lLmdldFBhcmVudCgpO3JldHVybiB0fWdldFBhcmVudEtleXMoKXtjb25zdCB0PVtdO2xldCBlPXRoaXMuZ2V0UGFyZW50KCk7Zm9yKDtudWxsIT09ZTspdC5wdXNoKGUuX19rZXkpLGU9ZS5nZXRQYXJlbnQoKTtyZXR1cm4gdH1nZXRQcmV2aW91c1NpYmxpbmcoKXtjb25zdCB0PXRoaXMuZ2V0TGF0ZXN0KCkuX19wcmV2O3JldHVybiBudWxsPT09dD9udWxsOnhlKHQpfWdldFByZXZpb3VzU2libGluZ3MoKXtjb25zdCB0PVtdLGU9dGhpcy5nZXRQYXJlbnQoKTtpZihudWxsPT09ZSlyZXR1cm4gdDtsZXQgbj1lLmdldEZpcnN0Q2hpbGQoKTtmb3IoO251bGwhPT1uJiYhbi5pcyh0aGlzKTspdC5wdXNoKG4pLG49bi5nZXROZXh0U2libGluZygpO3JldHVybiB0fWdldE5leHRTaWJsaW5nKCl7Y29uc3QgdD10aGlzLmdldExhdGVzdCgpLl9fbmV4dDtyZXR1cm4gbnVsbD09PXQ/bnVsbDp4ZSh0KX1nZXROZXh0U2libGluZ3MoKXtjb25zdCB0PVtdO2xldCBlPXRoaXMuZ2V0TmV4dFNpYmxpbmcoKTtmb3IoO251bGwhPT1lOyl0LnB1c2goZSksZT1lLmdldE5leHRTaWJsaW5nKCk7cmV0dXJuIHR9Z2V0Q29tbW9uQW5jZXN0b3IodCl7Y29uc3QgZT10aGlzLmdldFBhcmVudHMoKSxuPXQuZ2V0UGFyZW50cygpO2xpKHRoaXMpJiZlLnVuc2hpZnQodGhpcyksbGkodCkmJm4udW5zaGlmdCh0KTtjb25zdCByPWUubGVuZ3RoLHM9bi5sZW5ndGg7aWYoMD09PXJ8fDA9PT1zfHxlW3ItMV0hPT1uW3MtMV0pcmV0dXJuIG51bGw7Y29uc3QgaT1uZXcgU2V0KG4pO2ZvcihsZXQgdD0wO3Q8cjt0Kyspe2NvbnN0IG49ZVt0XTtpZihpLmhhcyhuKSlyZXR1cm4gbn1yZXR1cm4gbnVsbH1pcyh0KXtyZXR1cm4gbnVsbCE9dCYmdGhpcy5fX2tleT09PXQuX19rZXl9aXNCZWZvcmUodCl7aWYodGhpcz09PXQpcmV0dXJuITE7aWYodC5pc1BhcmVudE9mKHRoaXMpKXJldHVybiEwO2lmKHRoaXMuaXNQYXJlbnRPZih0KSlyZXR1cm4hMTtjb25zdCBlPXRoaXMuZ2V0Q29tbW9uQW5jZXN0b3IodCk7bGV0IG49MCxyPTAscz10aGlzO2Zvcig7Oyl7Y29uc3QgdD1zLmdldFBhcmVudE9yVGhyb3coKTtpZih0PT09ZSl7bj1zLmdldEluZGV4V2l0aGluUGFyZW50KCk7YnJlYWt9cz10fWZvcihzPXQ7Oyl7Y29uc3QgdD1zLmdldFBhcmVudE9yVGhyb3coKTtpZih0PT09ZSl7cj1zLmdldEluZGV4V2l0aGluUGFyZW50KCk7YnJlYWt9cz10fXJldHVybiBuPHJ9aXNQYXJlbnRPZih0KXtjb25zdCBlPXRoaXMuX19rZXk7aWYoZT09PXQuX19rZXkpcmV0dXJuITE7bGV0IG49dDtmb3IoO251bGwhPT1uOyl7aWYobi5fX2tleT09PWUpcmV0dXJuITA7bj1uLmdldFBhcmVudCgpfXJldHVybiExfWdldE5vZGVzQmV0d2Vlbih0KXtjb25zdCBlPXRoaXMuaXNCZWZvcmUodCksbj1bXSxyPW5ldyBTZXQ7bGV0IHM9dGhpcztmb3IoO251bGwhPT1zOyl7Y29uc3QgaT1zLl9fa2V5O2lmKHIuaGFzKGkpfHwoci5hZGQoaSksbi5wdXNoKHMpKSxzPT09dClicmVhaztjb25zdCBvPWxpKHMpP2U/cy5nZXRGaXJzdENoaWxkKCk6cy5nZXRMYXN0Q2hpbGQoKTpudWxsO2lmKG51bGwhPT1vKXtzPW87Y29udGludWV9Y29uc3QgbD1lP3MuZ2V0TmV4dFNpYmxpbmcoKTpzLmdldFByZXZpb3VzU2libGluZygpO2lmKG51bGwhPT1sKXtzPWw7Y29udGludWV9Y29uc3QgYz1zLmdldFBhcmVudE9yVGhyb3coKTtpZihyLmhhcyhjLl9fa2V5KXx8bi5wdXNoKGMpLGM9PT10KWJyZWFrO2xldCBhPW51bGwsdT1jO2Rve2lmKG51bGw9PT11JiZSdCg2OCksYT1lP3UuZ2V0TmV4dFNpYmxpbmcoKTp1LmdldFByZXZpb3VzU2libGluZygpLHU9dS5nZXRQYXJlbnQoKSxudWxsPT09dSlicmVhaztudWxsIT09YXx8ci5oYXModS5fX2tleSl8fG4ucHVzaCh1KX13aGlsZShudWxsPT09YSk7cz1hfXJldHVybiBlfHxuLnJldmVyc2UoKSxufWlzRGlydHkoKXtjb25zdCB0PWpzKCkuX2RpcnR5TGVhdmVzO3JldHVybiBudWxsIT09dCYmdC5oYXModGhpcy5fX2tleSl9Z2V0TGF0ZXN0KCl7Y29uc3QgdD14ZSh0aGlzLl9fa2V5KTtyZXR1cm4gbnVsbD09PXQmJlJ0KDExMyksdH1nZXRXcml0YWJsZSgpe1ZzKCk7Y29uc3QgdD1IcygpLGU9anMoKSxuPXQuX25vZGVNYXAscj10aGlzLl9fa2V5LHM9dGhpcy5nZXRMYXRlc3QoKSxpPXMuX19wYXJlbnQsbz1lLl9jbG9uZU5vdE5lZWRlZCxsPXdzKCk7aWYobnVsbCE9PWwmJmwuc2V0Q2FjaGVkTm9kZXMobnVsbCksby5oYXMocikpcmV0dXJuIHBlKHMpLHM7Y29uc3QgYz1zLmNvbnN0cnVjdG9yLmNsb25lKHMpO3JldHVybiBjLl9fcGFyZW50PWksYy5fX25leHQ9cy5fX25leHQsYy5fX3ByZXY9cy5fX3ByZXYsbGkocykmJmxpKGMpPyh2aShzKSYmdmkoYykmJihjLl9fdGV4dEZvcm1hdD1zLl9fdGV4dEZvcm1hdCksYy5fX2ZpcnN0PXMuX19maXJzdCxjLl9fbGFzdD1zLl9fbGFzdCxjLl9fc2l6ZT1zLl9fc2l6ZSxjLl9faW5kZW50PXMuX19pbmRlbnQsYy5fX2Zvcm1hdD1zLl9fZm9ybWF0LGMuX19kaXI9cy5fX2Rpcik6R3IocykmJkdyKGMpJiYoYy5fX2Zvcm1hdD1zLl9fZm9ybWF0LGMuX19zdHlsZT1zLl9fc3R5bGUsYy5fX21vZGU9cy5fX21vZGUsYy5fX2RldGFpbD1zLl9fZGV0YWlsKSxvLmFkZChyKSxjLl9fa2V5PXIscGUoYyksbi5zZXQocixjKSxjfWdldFRleHRDb250ZW50KCl7cmV0dXJuXCJcIn1nZXRUZXh0Q29udGVudFNpemUoKXtyZXR1cm4gdGhpcy5nZXRUZXh0Q29udGVudCgpLmxlbmd0aH1jcmVhdGVET00odCxlKXtSdCg3MCl9dXBkYXRlRE9NKHQsZSxuKXtSdCg3MSl9ZXhwb3J0RE9NKHQpe3JldHVybntlbGVtZW50OnRoaXMuY3JlYXRlRE9NKHQuX2NvbmZpZyx0KX19ZXhwb3J0SlNPTigpe1J0KDcyKX1zdGF0aWMgaW1wb3J0SlNPTih0KXtSdCgxOCx0aGlzLm5hbWUpfXN0YXRpYyB0cmFuc2Zvcm0oKXtyZXR1cm4gbnVsbH1yZW1vdmUodCl7RHIodGhpcywhMCx0KX1yZXBsYWNlKHQsZSl7VnMoKTtsZXQgbj13cygpO251bGwhPT1uJiYobj1uLmNsb25lKCkpLHVuKHRoaXMsdCk7Y29uc3Qgcj10aGlzLmdldExhdGVzdCgpLHM9dGhpcy5fX2tleSxpPXQuX19rZXksbz10LmdldFdyaXRhYmxlKCksbD10aGlzLmdldFBhcmVudE9yVGhyb3coKS5nZXRXcml0YWJsZSgpLGM9bC5fX3NpemU7X2Uobyk7Y29uc3QgYT1yLmdldFByZXZpb3VzU2libGluZygpLHU9ci5nZXROZXh0U2libGluZygpLGY9ci5fX3ByZXYsZD1yLl9fbmV4dCxoPXIuX19wYXJlbnQ7aWYoRHIociwhMSwhMCksbnVsbD09PWEpbC5fX2ZpcnN0PWk7ZWxzZXthLmdldFdyaXRhYmxlKCkuX19uZXh0PWl9aWYoby5fX3ByZXY9ZixudWxsPT09dSlsLl9fbGFzdD1pO2Vsc2V7dS5nZXRXcml0YWJsZSgpLl9fcHJldj1pfWlmKG8uX19uZXh0PWQsby5fX3BhcmVudD1oLGwuX19zaXplPWMsZSYmKGxpKHRoaXMpJiZsaShvKXx8UnQoMTM5KSx0aGlzLmdldENoaWxkcmVuKCkuZm9yRWFjaCgodD0+e28uYXBwZW5kKHQpfSkpKSx1cyhuKSl7d2Uobik7Y29uc3QgdD1uLmFuY2hvcixlPW4uZm9jdXM7dC5rZXk9PT1zJiZscyh0LG8pLGUua2V5PT09cyYmbHMoZSxvKX1yZXR1cm4gbWUoKT09PXMmJnllKGkpLG99aW5zZXJ0QWZ0ZXIodCxlPSEwKXtWcygpLHVuKHRoaXMsdCk7Y29uc3Qgbj10aGlzLmdldFdyaXRhYmxlKCkscj10LmdldFdyaXRhYmxlKCkscz1yLmdldFBhcmVudCgpLGk9d3MoKTtsZXQgbz0hMSxsPSExO2lmKG51bGwhPT1zKXtjb25zdCBlPXQuZ2V0SW5kZXhXaXRoaW5QYXJlbnQoKTtpZihfZShyKSx1cyhpKSl7Y29uc3QgdD1zLl9fa2V5LG49aS5hbmNob3Iscj1pLmZvY3VzO289XCJlbGVtZW50XCI9PT1uLnR5cGUmJm4ua2V5PT09dCYmbi5vZmZzZXQ9PT1lKzEsbD1cImVsZW1lbnRcIj09PXIudHlwZSYmci5rZXk9PT10JiZyLm9mZnNldD09PWUrMX19Y29uc3QgYz10aGlzLmdldE5leHRTaWJsaW5nKCksYT10aGlzLmdldFBhcmVudE9yVGhyb3coKS5nZXRXcml0YWJsZSgpLHU9ci5fX2tleSxmPW4uX19uZXh0O2lmKG51bGw9PT1jKWEuX19sYXN0PXU7ZWxzZXtjLmdldFdyaXRhYmxlKCkuX19wcmV2PXV9aWYoYS5fX3NpemUrKyxuLl9fbmV4dD11LHIuX19uZXh0PWYsci5fX3ByZXY9bi5fX2tleSxyLl9fcGFyZW50PW4uX19wYXJlbnQsZSYmdXMoaSkpe2NvbnN0IHQ9dGhpcy5nZXRJbmRleFdpdGhpblBhcmVudCgpO0VzKGksYSx0KzEpO2NvbnN0IGU9YS5fX2tleTtvJiZpLmFuY2hvci5zZXQoZSx0KzIsXCJlbGVtZW50XCIpLGwmJmkuZm9jdXMuc2V0KGUsdCsyLFwiZWxlbWVudFwiKX1yZXR1cm4gdH1pbnNlcnRCZWZvcmUodCxlPSEwKXtWcygpLHVuKHRoaXMsdCk7Y29uc3Qgbj10aGlzLmdldFdyaXRhYmxlKCkscj10LmdldFdyaXRhYmxlKCkscz1yLl9fa2V5O19lKHIpO2NvbnN0IGk9dGhpcy5nZXRQcmV2aW91c1NpYmxpbmcoKSxvPXRoaXMuZ2V0UGFyZW50T3JUaHJvdygpLmdldFdyaXRhYmxlKCksbD1uLl9fcHJldixjPXRoaXMuZ2V0SW5kZXhXaXRoaW5QYXJlbnQoKTtpZihudWxsPT09aSlvLl9fZmlyc3Q9cztlbHNle2kuZ2V0V3JpdGFibGUoKS5fX25leHQ9c31vLl9fc2l6ZSsrLG4uX19wcmV2PXMsci5fX3ByZXY9bCxyLl9fbmV4dD1uLl9fa2V5LHIuX19wYXJlbnQ9bi5fX3BhcmVudDtjb25zdCBhPXdzKCk7aWYoZSYmdXMoYSkpe0VzKGEsdGhpcy5nZXRQYXJlbnRPclRocm93KCksYyl9cmV0dXJuIHR9aXNQYXJlbnRSZXF1aXJlZCgpe3JldHVybiExfWNyZWF0ZVBhcmVudEVsZW1lbnROb2RlKCl7cmV0dXJuIHhpKCl9c2VsZWN0U3RhcnQoKXtyZXR1cm4gdGhpcy5zZWxlY3RQcmV2aW91cygpfXNlbGVjdEVuZCgpe3JldHVybiB0aGlzLnNlbGVjdE5leHQoMCwwKX1zZWxlY3RQcmV2aW91cyh0LGUpe1ZzKCk7Y29uc3Qgbj10aGlzLmdldFByZXZpb3VzU2libGluZygpLHI9dGhpcy5nZXRQYXJlbnRPclRocm93KCk7aWYobnVsbD09PW4pcmV0dXJuIHIuc2VsZWN0KDAsMCk7aWYobGkobikpcmV0dXJuIG4uc2VsZWN0KCk7aWYoIUdyKG4pKXtjb25zdCB0PW4uZ2V0SW5kZXhXaXRoaW5QYXJlbnQoKSsxO3JldHVybiByLnNlbGVjdCh0LHQpfXJldHVybiBuLnNlbGVjdCh0LGUpfXNlbGVjdE5leHQodCxlKXtWcygpO2NvbnN0IG49dGhpcy5nZXROZXh0U2libGluZygpLHI9dGhpcy5nZXRQYXJlbnRPclRocm93KCk7aWYobnVsbD09PW4pcmV0dXJuIHIuc2VsZWN0KCk7aWYobGkobikpcmV0dXJuIG4uc2VsZWN0KDAsMCk7aWYoIUdyKG4pKXtjb25zdCB0PW4uZ2V0SW5kZXhXaXRoaW5QYXJlbnQoKTtyZXR1cm4gci5zZWxlY3QodCx0KX1yZXR1cm4gbi5zZWxlY3QodCxlKX1tYXJrRGlydHkoKXt0aGlzLmdldFdyaXRhYmxlKCl9fWNsYXNzIE9yIGV4dGVuZHMgRnJ7c3RhdGljIGdldFR5cGUoKXtyZXR1cm5cImxpbmVicmVha1wifXN0YXRpYyBjbG9uZSh0KXtyZXR1cm4gbmV3IE9yKHQuX19rZXkpfWNvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWdldFRleHRDb250ZW50KCl7cmV0dXJuXCJcXG5cIn1jcmVhdGVET00oKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpfXVwZGF0ZURPTSgpe3JldHVybiExfXN0YXRpYyBpbXBvcnRET00oKXtyZXR1cm57YnI6dD0+ZnVuY3Rpb24odCl7Y29uc3QgZT10LnBhcmVudEVsZW1lbnQ7aWYobnVsbCE9PWUpe2NvbnN0IG49ZS5maXJzdENoaWxkO2lmKG49PT10fHxuLm5leHRTaWJsaW5nPT09dCYmTXIobikpe2NvbnN0IG49ZS5sYXN0Q2hpbGQ7aWYobj09PXR8fG4ucHJldmlvdXNTaWJsaW5nPT09dCYmTXIobikpcmV0dXJuITB9fXJldHVybiExfSh0KT9udWxsOntjb252ZXJzaW9uOklyLHByaW9yaXR5OjB9fX1zdGF0aWMgaW1wb3J0SlNPTih0KXtyZXR1cm4gTHIoKX1leHBvcnRKU09OKCl7cmV0dXJue3R5cGU6XCJsaW5lYnJlYWtcIix2ZXJzaW9uOjF9fX1mdW5jdGlvbiBJcih0KXtyZXR1cm57bm9kZTpMcigpfX1mdW5jdGlvbiBMcigpe3JldHVybiBhbihuZXcgT3IpfWZ1bmN0aW9uIEFyKHQpe3JldHVybiB0IGluc3RhbmNlb2YgT3J9ZnVuY3Rpb24gTXIodCl7cmV0dXJuIHQubm9kZVR5cGU9PT1zdCYmL14oIHxcXHR8XFxyP1xcbikrJC8udGVzdCh0LnRleHRDb250ZW50fHxcIlwiKX1mdW5jdGlvbiB6cih0LGUpe3JldHVybiAxNiZlP1wiY29kZVwiOmUmbXQ/XCJtYXJrXCI6MzImZT9cInN1YlwiOjY0JmU/XCJzdXBcIjpudWxsfWZ1bmN0aW9uIFdyKHQsZSl7cmV0dXJuIDEmZT9cInN0cm9uZ1wiOjImZT9cImVtXCI6XCJzcGFuXCJ9ZnVuY3Rpb24gQnIodCxlLG4scixzKXtjb25zdCBpPXIuY2xhc3NMaXN0O2xldCBvPVZlKHMsXCJiYXNlXCIpO3ZvaWQgMCE9PW8mJmkuYWRkKC4uLm8pLG89VmUocyxcInVuZGVybGluZVN0cmlrZXRocm91Z2hcIik7bGV0IGw9ITE7Y29uc3QgYz1lJmd0JiZlJmh0O3ZvaWQgMCE9PW8mJihuJmd0JiZuJmh0PyhsPSEwLGN8fGkuYWRkKC4uLm8pKTpjJiZpLnJlbW92ZSguLi5vKSk7Zm9yKGNvbnN0IHQgaW4gSXQpe2NvbnN0IHI9SXRbdF07aWYobz1WZShzLHQpLHZvaWQgMCE9PW8paWYobiZyKXtpZihsJiYoXCJ1bmRlcmxpbmVcIj09PXR8fFwic3RyaWtldGhyb3VnaFwiPT09dCkpe2UmciYmaS5yZW1vdmUoLi4ubyk7Y29udGludWV9ZSZyJiYoIWN8fFwidW5kZXJsaW5lXCIhPT10KSYmXCJzdHJpa2V0aHJvdWdoXCIhPT10fHxpLmFkZCguLi5vKX1lbHNlIGUmciYmaS5yZW1vdmUoLi4ubyl9fWZ1bmN0aW9uIFJyKHQsZSxuKXtjb25zdCByPWUuZmlyc3RDaGlsZCxzPW4uaXNDb21wb3NpbmcoKSxpPXQrKHM/d3Q6XCJcIik7aWYobnVsbD09cillLnRleHRDb250ZW50PWk7ZWxzZXtjb25zdCB0PXIubm9kZVZhbHVlO2lmKHQhPT1pKWlmKHN8fFEpe2NvbnN0W2UsbixzXT1mdW5jdGlvbih0LGUpe2NvbnN0IG49dC5sZW5ndGgscj1lLmxlbmd0aDtsZXQgcz0wLGk9MDtmb3IoO3M8biYmczxyJiZ0W3NdPT09ZVtzXTspcysrO2Zvcig7aStzPG4mJmkrczxyJiZ0W24taS0xXT09PWVbci1pLTFdOylpKys7cmV0dXJuW3Msbi1zLWksZS5zbGljZShzLHItaSldfSh0LGkpOzAhPT1uJiZyLmRlbGV0ZURhdGEoZSxuKSxyLmluc2VydERhdGEoZSxzKX1lbHNlIHIubm9kZVZhbHVlPWl9fWZ1bmN0aW9uIEtyKHQsZSxuLHIscyxpKXtScihzLHQsZSk7Y29uc3Qgbz1pLnRoZW1lLnRleHQ7dm9pZCAwIT09byYmQnIoMCwwLHIsdCxvKX1mdW5jdGlvbiBKcih0LGUpe2NvbnN0IG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKTtyZXR1cm4gbi5hcHBlbmRDaGlsZCh0KSxufWNsYXNzIFVyIGV4dGVuZHMgRnJ7c3RhdGljIGdldFR5cGUoKXtyZXR1cm5cInRleHRcIn1zdGF0aWMgY2xvbmUodCl7cmV0dXJuIG5ldyBVcih0Ll9fdGV4dCx0Ll9fa2V5KX1jb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGUpLHRoaXMuX190ZXh0PXQsdGhpcy5fX2Zvcm1hdD0wLHRoaXMuX19zdHlsZT1cIlwiLHRoaXMuX19tb2RlPTAsdGhpcy5fX2RldGFpbD0wfWdldEZvcm1hdCgpe3JldHVybiB0aGlzLmdldExhdGVzdCgpLl9fZm9ybWF0fWdldERldGFpbCgpe3JldHVybiB0aGlzLmdldExhdGVzdCgpLl9fZGV0YWlsfWdldE1vZGUoKXtjb25zdCB0PXRoaXMuZ2V0TGF0ZXN0KCk7cmV0dXJuIFd0W3QuX19tb2RlXX1nZXRTdHlsZSgpe3JldHVybiB0aGlzLmdldExhdGVzdCgpLl9fc3R5bGV9aXNUb2tlbigpe3JldHVybiAxPT09dGhpcy5nZXRMYXRlc3QoKS5fX21vZGV9aXNDb21wb3NpbmcoKXtyZXR1cm4gdGhpcy5fX2tleT09PW1lKCl9aXNTZWdtZW50ZWQoKXtyZXR1cm4gMj09PXRoaXMuZ2V0TGF0ZXN0KCkuX19tb2RlfWlzRGlyZWN0aW9ubGVzcygpe3JldHVybiEhKDEmdGhpcy5nZXRMYXRlc3QoKS5fX2RldGFpbCl9aXNVbm1lcmdlYWJsZSgpe3JldHVybiEhKDImdGhpcy5nZXRMYXRlc3QoKS5fX2RldGFpbCl9aGFzRm9ybWF0KHQpe2NvbnN0IGU9SXRbdF07cmV0dXJuISEodGhpcy5nZXRGb3JtYXQoKSZlKX1pc1NpbXBsZVRleHQoKXtyZXR1cm5cInRleHRcIj09PXRoaXMuX190eXBlJiYwPT09dGhpcy5fX21vZGV9Z2V0VGV4dENvbnRlbnQoKXtyZXR1cm4gdGhpcy5nZXRMYXRlc3QoKS5fX3RleHR9Z2V0Rm9ybWF0RmxhZ3ModCxlKXtyZXR1cm4gZGUodGhpcy5nZXRMYXRlc3QoKS5fX2Zvcm1hdCx0LGUpfWNhbkhhdmVGb3JtYXQoKXtyZXR1cm4hMH1jcmVhdGVET00odCxlKXtjb25zdCBuPXRoaXMuX19mb3JtYXQscj16cigwLG4pLHM9V3IoMCxuKSxpPW51bGw9PT1yP3M6cixvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaSk7bGV0IGw9bzt0aGlzLmhhc0Zvcm1hdChcImNvZGVcIikmJm8uc2V0QXR0cmlidXRlKFwic3BlbGxjaGVja1wiLFwiZmFsc2VcIiksbnVsbCE9PXImJihsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocyksby5hcHBlbmRDaGlsZChsKSk7S3IobCx0aGlzLDAsbix0aGlzLl9fdGV4dCx0KTtjb25zdCBjPXRoaXMuX19zdHlsZTtyZXR1cm5cIlwiIT09YyYmKG8uc3R5bGUuY3NzVGV4dD1jKSxvfXVwZGF0ZURPTSh0LGUsbil7Y29uc3Qgcj10aGlzLl9fdGV4dCxzPXQuX19mb3JtYXQsaT10aGlzLl9fZm9ybWF0LG89enIoMCxzKSxsPXpyKDAsaSksYz1XcigwLHMpLGE9V3IoMCxpKTtpZigobnVsbD09PW8/YzpvKSE9PShudWxsPT09bD9hOmwpKXJldHVybiEwO2lmKG89PT1sJiZjIT09YSl7Y29uc3QgdD1lLmZpcnN0Q2hpbGQ7bnVsbD09dCYmUnQoNDgpO2NvbnN0IHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKTtyZXR1cm4gS3Iocyx0aGlzLDAsaSxyLG4pLGUucmVwbGFjZUNoaWxkKHMsdCksITF9bGV0IHU9ZTtudWxsIT09bCYmbnVsbCE9PW8mJih1PWUuZmlyc3RDaGlsZCxudWxsPT11JiZSdCg0OSkpLFJyKHIsdSx0aGlzKTtjb25zdCBmPW4udGhlbWUudGV4dDt2b2lkIDAhPT1mJiZzIT09aSYmQnIoMCxzLGksdSxmKTtjb25zdCBkPXQuX19zdHlsZSxoPXRoaXMuX19zdHlsZTtyZXR1cm4gZCE9PWgmJihlLnN0eWxlLmNzc1RleHQ9aCksITF9c3RhdGljIGltcG9ydERPTSgpe3JldHVybntcIiN0ZXh0XCI6KCk9Pih7Y29udmVyc2lvbjpxcixwcmlvcml0eTowfSksYjooKT0+KHtjb252ZXJzaW9uOiRyLHByaW9yaXR5OjB9KSxjb2RlOigpPT4oe2NvbnZlcnNpb246WXIscHJpb3JpdHk6MH0pLGVtOigpPT4oe2NvbnZlcnNpb246WXIscHJpb3JpdHk6MH0pLGk6KCk9Pih7Y29udmVyc2lvbjpZcixwcmlvcml0eTowfSksczooKT0+KHtjb252ZXJzaW9uOllyLHByaW9yaXR5OjB9KSxzcGFuOigpPT4oe2NvbnZlcnNpb246VnIscHJpb3JpdHk6MH0pLHN0cm9uZzooKT0+KHtjb252ZXJzaW9uOllyLHByaW9yaXR5OjB9KSxzdWI6KCk9Pih7Y29udmVyc2lvbjpZcixwcmlvcml0eTowfSksc3VwOigpPT4oe2NvbnZlcnNpb246WXIscHJpb3JpdHk6MH0pLHU6KCk9Pih7Y29udmVyc2lvbjpZcixwcmlvcml0eTowfSl9fXN0YXRpYyBpbXBvcnRKU09OKHQpe2NvbnN0IGU9WnIodC50ZXh0KTtyZXR1cm4gZS5zZXRGb3JtYXQodC5mb3JtYXQpLGUuc2V0RGV0YWlsKHQuZGV0YWlsKSxlLnNldE1vZGUodC5tb2RlKSxlLnNldFN0eWxlKHQuc3R5bGUpLGV9ZXhwb3J0RE9NKHQpe2xldHtlbGVtZW50OmV9PXN1cGVyLmV4cG9ydERPTSh0KTtyZXR1cm4gbnVsbCE9PWUmJm1uKGUpfHxSdCgxMzIpLGUuc3R5bGUud2hpdGVTcGFjZT1cInByZS13cmFwXCIsdGhpcy5oYXNGb3JtYXQoXCJib2xkXCIpJiYoZT1KcihlLFwiYlwiKSksdGhpcy5oYXNGb3JtYXQoXCJpdGFsaWNcIikmJihlPUpyKGUsXCJpXCIpKSx0aGlzLmhhc0Zvcm1hdChcInN0cmlrZXRocm91Z2hcIikmJihlPUpyKGUsXCJzXCIpKSx0aGlzLmhhc0Zvcm1hdChcInVuZGVybGluZVwiKSYmKGU9SnIoZSxcInVcIikpLHtlbGVtZW50OmV9fWV4cG9ydEpTT04oKXtyZXR1cm57ZGV0YWlsOnRoaXMuZ2V0RGV0YWlsKCksZm9ybWF0OnRoaXMuZ2V0Rm9ybWF0KCksbW9kZTp0aGlzLmdldE1vZGUoKSxzdHlsZTp0aGlzLmdldFN0eWxlKCksdGV4dDp0aGlzLmdldFRleHRDb250ZW50KCksdHlwZTpcInRleHRcIix2ZXJzaW9uOjF9fXNlbGVjdGlvblRyYW5zZm9ybSh0LGUpe31zZXRGb3JtYXQodCl7Y29uc3QgZT10aGlzLmdldFdyaXRhYmxlKCk7cmV0dXJuIGUuX19mb3JtYXQ9XCJzdHJpbmdcIj09dHlwZW9mIHQ/SXRbdF06dCxlfXNldERldGFpbCh0KXtjb25zdCBlPXRoaXMuZ2V0V3JpdGFibGUoKTtyZXR1cm4gZS5fX2RldGFpbD1cInN0cmluZ1wiPT10eXBlb2YgdD9MdFt0XTp0LGV9c2V0U3R5bGUodCl7Y29uc3QgZT10aGlzLmdldFdyaXRhYmxlKCk7cmV0dXJuIGUuX19zdHlsZT10LGV9dG9nZ2xlRm9ybWF0KHQpe2NvbnN0IGU9ZGUodGhpcy5nZXRGb3JtYXQoKSx0LG51bGwpO3JldHVybiB0aGlzLnNldEZvcm1hdChlKX10b2dnbGVEaXJlY3Rpb25sZXNzKCl7Y29uc3QgdD10aGlzLmdldFdyaXRhYmxlKCk7cmV0dXJuIHQuX19kZXRhaWxePTEsdH10b2dnbGVVbm1lcmdlYWJsZSgpe2NvbnN0IHQ9dGhpcy5nZXRXcml0YWJsZSgpO3JldHVybiB0Ll9fZGV0YWlsXj0yLHR9c2V0TW9kZSh0KXtjb25zdCBlPXp0W3RdO2lmKHRoaXMuX19tb2RlPT09ZSlyZXR1cm4gdGhpcztjb25zdCBuPXRoaXMuZ2V0V3JpdGFibGUoKTtyZXR1cm4gbi5fX21vZGU9ZSxufXNldFRleHRDb250ZW50KHQpe2lmKHRoaXMuX190ZXh0PT09dClyZXR1cm4gdGhpcztjb25zdCBlPXRoaXMuZ2V0V3JpdGFibGUoKTtyZXR1cm4gZS5fX3RleHQ9dCxlfXNlbGVjdCh0LGUpe1ZzKCk7bGV0IG49dCxyPWU7Y29uc3Qgcz13cygpLGk9dGhpcy5nZXRUZXh0Q29udGVudCgpLG89dGhpcy5fX2tleTtpZihcInN0cmluZ1wiPT10eXBlb2YgaSl7Y29uc3QgdD1pLmxlbmd0aDt2b2lkIDA9PT1uJiYobj10KSx2b2lkIDA9PT1yJiYocj10KX1lbHNlIG49MCxyPTA7aWYoIXVzKHMpKXJldHVybiBUcyhvLG4sbyxyLFwidGV4dFwiLFwidGV4dFwiKTt7Y29uc3QgdD1tZSgpO3QhPT1zLmFuY2hvci5rZXkmJnQhPT1zLmZvY3VzLmtleXx8eWUobykscy5zZXRUZXh0Tm9kZVJhbmdlKHRoaXMsbix0aGlzLHIpfXJldHVybiBzfXNlbGVjdFN0YXJ0KCl7cmV0dXJuIHRoaXMuc2VsZWN0KDAsMCl9c2VsZWN0RW5kKCl7Y29uc3QgdD10aGlzLmdldFRleHRDb250ZW50U2l6ZSgpO3JldHVybiB0aGlzLnNlbGVjdCh0LHQpfXNwbGljZVRleHQodCxlLG4scil7Y29uc3Qgcz10aGlzLmdldFdyaXRhYmxlKCksaT1zLl9fdGV4dCxvPW4ubGVuZ3RoO2xldCBsPXQ7bDwwJiYobD1vK2wsbDwwJiYobD0wKSk7Y29uc3QgYz13cygpO2lmKHImJnVzKGMpKXtjb25zdCBlPXQrbztjLnNldFRleHROb2RlUmFuZ2UocyxlLHMsZSl9Y29uc3QgYT1pLnNsaWNlKDAsbCkrbitpLnNsaWNlKGwrZSk7cmV0dXJuIHMuX190ZXh0PWEsc31jYW5JbnNlcnRUZXh0QmVmb3JlKCl7cmV0dXJuITB9Y2FuSW5zZXJ0VGV4dEFmdGVyKCl7cmV0dXJuITB9c3BsaXRUZXh0KC4uLnQpe1ZzKCk7Y29uc3QgZT10aGlzLmdldExhdGVzdCgpLG49ZS5nZXRUZXh0Q29udGVudCgpLHI9ZS5fX2tleSxzPW1lKCksaT1uZXcgU2V0KHQpLG89W10sbD1uLmxlbmd0aDtsZXQgYz1cIlwiO2ZvcihsZXQgdD0wO3Q8bDt0KyspXCJcIiE9PWMmJmkuaGFzKHQpJiYoby5wdXNoKGMpLGM9XCJcIiksYys9blt0XTtcIlwiIT09YyYmby5wdXNoKGMpO2NvbnN0IGE9by5sZW5ndGg7aWYoMD09PWEpcmV0dXJuW107aWYob1swXT09PW4pcmV0dXJuW2VdO2NvbnN0IHU9b1swXSxmPWUuZ2V0UGFyZW50T3JUaHJvdygpO2xldCBkO2NvbnN0IGg9ZS5nZXRGb3JtYXQoKSxnPWUuZ2V0U3R5bGUoKSxfPWUuX19kZXRhaWw7bGV0IHA9ITE7ZS5pc1NlZ21lbnRlZCgpPyhkPVpyKHUpLGQuX19mb3JtYXQ9aCxkLl9fc3R5bGU9ZyxkLl9fZGV0YWlsPV8scD0hMCk6KGQ9ZS5nZXRXcml0YWJsZSgpLGQuX190ZXh0PXUpO2NvbnN0IHk9d3MoKSxtPVtkXTtsZXQgeD11Lmxlbmd0aDtmb3IobGV0IHQ9MTt0PGE7dCsrKXtjb25zdCBlPW9bdF0sbj1lLmxlbmd0aCxpPVpyKGUpLmdldFdyaXRhYmxlKCk7aS5fX2Zvcm1hdD1oLGkuX19zdHlsZT1nLGkuX19kZXRhaWw9Xztjb25zdCBsPWkuX19rZXksYz14K247aWYodXMoeSkpe2NvbnN0IHQ9eS5hbmNob3IsZT15LmZvY3VzO3Qua2V5PT09ciYmXCJ0ZXh0XCI9PT10LnR5cGUmJnQub2Zmc2V0PngmJnQub2Zmc2V0PD1jJiYodC5rZXk9bCx0Lm9mZnNldC09eCx5LmRpcnR5PSEwKSxlLmtleT09PXImJlwidGV4dFwiPT09ZS50eXBlJiZlLm9mZnNldD54JiZlLm9mZnNldDw9YyYmKGUua2V5PWwsZS5vZmZzZXQtPXgseS5kaXJ0eT0hMCl9cz09PXImJnllKGwpLHg9YyxtLnB1c2goaSl9IWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5nZXRQcmV2aW91c1NpYmxpbmcoKSxuPXQuZ2V0TmV4dFNpYmxpbmcoKTtudWxsIT09ZSYmcGUoZSksbnVsbCE9PW4mJnBlKG4pfSh0aGlzKTtjb25zdCB2PWYuZ2V0V3JpdGFibGUoKSxUPXRoaXMuZ2V0SW5kZXhXaXRoaW5QYXJlbnQoKTtyZXR1cm4gcD8odi5zcGxpY2UoVCwwLG0pLHRoaXMucmVtb3ZlKCkpOnYuc3BsaWNlKFQsMSxtKSx1cyh5KSYmRXMoeSxmLFQsYS0xKSxtfW1lcmdlV2l0aFNpYmxpbmcodCl7Y29uc3QgZT10PT09dGhpcy5nZXRQcmV2aW91c1NpYmxpbmcoKTtlfHx0PT09dGhpcy5nZXROZXh0U2libGluZygpfHxSdCg1MCk7Y29uc3Qgbj10aGlzLl9fa2V5LHI9dC5fX2tleSxzPXRoaXMuX190ZXh0LGk9cy5sZW5ndGg7bWUoKT09PXImJnllKG4pO2NvbnN0IG89d3MoKTtpZih1cyhvKSl7Y29uc3Qgcz1vLmFuY2hvcixsPW8uZm9jdXM7bnVsbCE9PXMmJnMua2V5PT09ciYmKEZzKHMsZSxuLHQsaSksby5kaXJ0eT0hMCksbnVsbCE9PWwmJmwua2V5PT09ciYmKEZzKGwsZSxuLHQsaSksby5kaXJ0eT0hMCl9Y29uc3QgbD10Ll9fdGV4dCxjPWU/bCtzOnMrbDt0aGlzLnNldFRleHRDb250ZW50KGMpO2NvbnN0IGE9dGhpcy5nZXRXcml0YWJsZSgpO3JldHVybiB0LnJlbW92ZSgpLGF9aXNUZXh0RW50aXR5KCl7cmV0dXJuITF9fWZ1bmN0aW9uIFZyKHQpe3JldHVybntmb3JDaGlsZDp0cyh0LnN0eWxlKSxub2RlOm51bGx9fWZ1bmN0aW9uICRyKHQpe2NvbnN0IGU9dCxuPVwibm9ybWFsXCI9PT1lLnN0eWxlLmZvbnRXZWlnaHQ7cmV0dXJue2ZvckNoaWxkOnRzKGUuc3R5bGUsbj92b2lkIDA6XCJib2xkXCIpLG5vZGU6bnVsbH19Y29uc3QgSHI9bmV3IFdlYWtNYXA7ZnVuY3Rpb24ganIodCl7cmV0dXJuXCJQUkVcIj09PXQubm9kZU5hbWV8fHQubm9kZVR5cGU9PT1ydCYmdm9pZCAwIT09dC5zdHlsZSYmdm9pZCAwIT09dC5zdHlsZS53aGl0ZVNwYWNlJiZ0LnN0eWxlLndoaXRlU3BhY2Uuc3RhcnRzV2l0aChcInByZVwiKX1mdW5jdGlvbiBxcih0KXtjb25zdCBlPXQ7bnVsbD09PXQucGFyZW50RWxlbWVudCYmUnQoMTI5KTtsZXQgbj1lLnRleHRDb250ZW50fHxcIlwiO2lmKG51bGwhPT1mdW5jdGlvbih0KXtsZXQgZSxuPXQucGFyZW50Tm9kZTtjb25zdCByPVt0XTtmb3IoO251bGwhPT1uJiZ2b2lkIDA9PT0oZT1Ici5nZXQobikpJiYhanIobik7KXIucHVzaChuKSxuPW4ucGFyZW50Tm9kZTtjb25zdCBzPXZvaWQgMD09PWU/bjplO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKUhyLnNldChyW3RdLHMpO3JldHVybiBzfShlKSl7Y29uc3QgdD1uLnNwbGl0KC8oXFxyP1xcbnxcXHQpLyksZT1bXSxyPXQubGVuZ3RoO2ZvcihsZXQgbj0wO248cjtuKyspe2NvbnN0IHI9dFtuXTtcIlxcblwiPT09cnx8XCJcXHJcXG5cIj09PXI/ZS5wdXNoKExyKCkpOlwiXFx0XCI9PT1yP2UucHVzaChucygpKTpcIlwiIT09ciYmZS5wdXNoKFpyKHIpKX1yZXR1cm57bm9kZTplfX1pZihuPW4ucmVwbGFjZSgvXFxyL2csXCJcIikucmVwbGFjZSgvWyBcXHRcXG5dKy9nLFwiIFwiKSxcIlwiPT09bilyZXR1cm57bm9kZTpudWxsfTtpZihcIiBcIj09PW5bMF0pe2xldCB0PWUscj0hMDtmb3IoO251bGwhPT10JiZudWxsIT09KHQ9UXIodCwhMSkpOyl7Y29uc3QgZT10LnRleHRDb250ZW50fHxcIlwiO2lmKGUubGVuZ3RoPjApey9bIFxcdFxcbl0kLy50ZXN0KGUpJiYobj1uLnNsaWNlKDEpKSxyPSExO2JyZWFrfX1yJiYobj1uLnNsaWNlKDEpKX1pZihcIiBcIj09PW5bbi5sZW5ndGgtMV0pe2xldCB0PWUscj0hMDtmb3IoO251bGwhPT10JiZudWxsIT09KHQ9UXIodCwhMCkpOyl7aWYoKHQudGV4dENvbnRlbnR8fFwiXCIpLnJlcGxhY2UoL14oIHxcXHR8XFxyP1xcbikrLyxcIlwiKS5sZW5ndGg+MCl7cj0hMTticmVha319ciYmKG49bi5zbGljZSgwLG4ubGVuZ3RoLTEpKX1yZXR1cm5cIlwiPT09bj97bm9kZTpudWxsfTp7bm9kZTpacihuKX19ZnVuY3Rpb24gUXIodCxlKXtsZXQgbj10O2Zvcig7Oyl7bGV0IHQ7Zm9yKDtudWxsPT09KHQ9ZT9uLm5leHRTaWJsaW5nOm4ucHJldmlvdXNTaWJsaW5nKTspe2NvbnN0IHQ9bi5wYXJlbnRFbGVtZW50O2lmKG51bGw9PT10KXJldHVybiBudWxsO249dH1pZihuPXQsbi5ub2RlVHlwZT09PXJ0KXtjb25zdCB0PW4uc3R5bGUuZGlzcGxheTtpZihcIlwiPT09dCYmIXhuKG4pfHxcIlwiIT09dCYmIXQuc3RhcnRzV2l0aChcImlubGluZVwiKSlyZXR1cm4gbnVsbH1sZXQgcj1uO2Zvcig7bnVsbCE9PShyPWU/bi5maXJzdENoaWxkOm4ubGFzdENoaWxkKTspbj1yO2lmKG4ubm9kZVR5cGU9PT1zdClyZXR1cm4gbjtpZihcIkJSXCI9PT1uLm5vZGVOYW1lKXJldHVybiBudWxsfX1jb25zdCBYcj17Y29kZTpcImNvZGVcIixlbTpcIml0YWxpY1wiLGk6XCJpdGFsaWNcIixzOlwic3RyaWtldGhyb3VnaFwiLHN0cm9uZzpcImJvbGRcIixzdWI6XCJzdWJzY3JpcHRcIixzdXA6XCJzdXBlcnNjcmlwdFwiLHU6XCJ1bmRlcmxpbmVcIn07ZnVuY3Rpb24gWXIodCl7Y29uc3QgZT1Yclt0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldO3JldHVybiB2b2lkIDA9PT1lP3tub2RlOm51bGx9Ontmb3JDaGlsZDp0cyh0LnN0eWxlLGUpLG5vZGU6bnVsbH19ZnVuY3Rpb24gWnIodD1cIlwiKXtyZXR1cm4gYW4obmV3IFVyKHQpKX1mdW5jdGlvbiBHcih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFVyfWZ1bmN0aW9uIHRzKHQsZSl7Y29uc3Qgbj10LmZvbnRXZWlnaHQscj10LnRleHREZWNvcmF0aW9uLnNwbGl0KFwiIFwiKSxzPVwiNzAwXCI9PT1ufHxcImJvbGRcIj09PW4saT1yLmluY2x1ZGVzKFwibGluZS10aHJvdWdoXCIpLG89XCJpdGFsaWNcIj09PXQuZm9udFN0eWxlLGw9ci5pbmNsdWRlcyhcInVuZGVybGluZVwiKSxjPXQudmVydGljYWxBbGlnbjtyZXR1cm4gdD0+R3IodCk/KHMmJiF0Lmhhc0Zvcm1hdChcImJvbGRcIikmJnQudG9nZ2xlRm9ybWF0KFwiYm9sZFwiKSxpJiYhdC5oYXNGb3JtYXQoXCJzdHJpa2V0aHJvdWdoXCIpJiZ0LnRvZ2dsZUZvcm1hdChcInN0cmlrZXRocm91Z2hcIiksbyYmIXQuaGFzRm9ybWF0KFwiaXRhbGljXCIpJiZ0LnRvZ2dsZUZvcm1hdChcIml0YWxpY1wiKSxsJiYhdC5oYXNGb3JtYXQoXCJ1bmRlcmxpbmVcIikmJnQudG9nZ2xlRm9ybWF0KFwidW5kZXJsaW5lXCIpLFwic3ViXCIhPT1jfHx0Lmhhc0Zvcm1hdChcInN1YnNjcmlwdFwiKXx8dC50b2dnbGVGb3JtYXQoXCJzdWJzY3JpcHRcIiksXCJzdXBlclwiIT09Y3x8dC5oYXNGb3JtYXQoXCJzdXBlcnNjcmlwdFwiKXx8dC50b2dnbGVGb3JtYXQoXCJzdXBlcnNjcmlwdFwiKSxlJiYhdC5oYXNGb3JtYXQoZSkmJnQudG9nZ2xlRm9ybWF0KGUpLHQpOnR9Y2xhc3MgZXMgZXh0ZW5kcyBVcntzdGF0aWMgZ2V0VHlwZSgpe3JldHVyblwidGFiXCJ9c3RhdGljIGNsb25lKHQpe2NvbnN0IGU9bmV3IGVzKHQuX19rZXkpO3JldHVybiBlLl9fdGV4dD10Ll9fdGV4dCxlLl9fZm9ybWF0PXQuX19mb3JtYXQsZS5fX3N0eWxlPXQuX19zdHlsZSxlfWNvbnN0cnVjdG9yKHQpe3N1cGVyKFwiXFx0XCIsdCksdGhpcy5fX2RldGFpbD0yfXN0YXRpYyBpbXBvcnRET00oKXtyZXR1cm4gbnVsbH1zdGF0aWMgaW1wb3J0SlNPTih0KXtjb25zdCBlPW5zKCk7cmV0dXJuIGUuc2V0Rm9ybWF0KHQuZm9ybWF0KSxlLnNldFN0eWxlKHQuc3R5bGUpLGV9ZXhwb3J0SlNPTigpe3JldHVybnsuLi5zdXBlci5leHBvcnRKU09OKCksdHlwZTpcInRhYlwiLHZlcnNpb246MX19c2V0VGV4dENvbnRlbnQodCl7UnQoMTI2KX1zZXREZXRhaWwodCl7UnQoMTI3KX1zZXRNb2RlKHQpe1J0KDEyOCl9Y2FuSW5zZXJ0VGV4dEJlZm9yZSgpe3JldHVybiExfWNhbkluc2VydFRleHRBZnRlcigpe3JldHVybiExfX1mdW5jdGlvbiBucygpe3JldHVybiBhbihuZXcgZXMpfWZ1bmN0aW9uIHJzKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZXN9Y2xhc3Mgc3N7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMuX3NlbGVjdGlvbj1udWxsLHRoaXMua2V5PXQsdGhpcy5vZmZzZXQ9ZSx0aGlzLnR5cGU9bn1pcyh0KXtyZXR1cm4gdGhpcy5rZXk9PT10LmtleSYmdGhpcy5vZmZzZXQ9PT10Lm9mZnNldCYmdGhpcy50eXBlPT09dC50eXBlfWlzQmVmb3JlKHQpe2xldCBlPXRoaXMuZ2V0Tm9kZSgpLG49dC5nZXROb2RlKCk7Y29uc3Qgcj10aGlzLm9mZnNldCxzPXQub2Zmc2V0O2lmKGxpKGUpKXtjb25zdCB0PWUuZ2V0RGVzY2VuZGFudEJ5SW5kZXgocik7ZT1udWxsIT10P3Q6ZX1pZihsaShuKSl7Y29uc3QgdD1uLmdldERlc2NlbmRhbnRCeUluZGV4KHMpO249bnVsbCE9dD90Om59cmV0dXJuIGU9PT1uP3I8czplLmlzQmVmb3JlKG4pfWdldE5vZGUoKXtjb25zdCB0PXhlKHRoaXMua2V5KTtyZXR1cm4gbnVsbD09PXQmJlJ0KDIwKSx0fXNldCh0LGUsbil7Y29uc3Qgcj10aGlzLl9zZWxlY3Rpb24scz10aGlzLmtleTt0aGlzLmtleT10LHRoaXMub2Zmc2V0PWUsdGhpcy50eXBlPW4sVXMoKXx8KG1lKCk9PT1zJiZ5ZSh0KSxudWxsIT09ciYmKHIuc2V0Q2FjaGVkTm9kZXMobnVsbCksci5kaXJ0eT0hMCkpfX1mdW5jdGlvbiBpcyh0LGUsbil7cmV0dXJuIG5ldyBzcyh0LGUsbil9ZnVuY3Rpb24gb3ModCxlKXtsZXQgbj1lLl9fa2V5LHI9dC5vZmZzZXQscz1cImVsZW1lbnRcIjtpZihHcihlKSl7cz1cInRleHRcIjtjb25zdCB0PWUuZ2V0VGV4dENvbnRlbnRTaXplKCk7cj50JiYocj10KX1lbHNlIGlmKCFsaShlKSl7Y29uc3QgdD1lLmdldE5leHRTaWJsaW5nKCk7aWYoR3IodCkpbj10Ll9fa2V5LHI9MCxzPVwidGV4dFwiO2Vsc2V7Y29uc3QgdD1lLmdldFBhcmVudCgpO3QmJihuPXQuX19rZXkscj1lLmdldEluZGV4V2l0aGluUGFyZW50KCkrMSl9fXQuc2V0KG4scixzKX1mdW5jdGlvbiBscyh0LGUpe2lmKGxpKGUpKXtjb25zdCBuPWUuZ2V0TGFzdERlc2NlbmRhbnQoKTtsaShuKXx8R3Iobik/b3ModCxuKTpvcyh0LGUpfWVsc2Ugb3ModCxlKX1mdW5jdGlvbiBjcyh0LGUsbixyKXt0LmtleT1lLHQub2Zmc2V0PW4sdC50eXBlPXJ9Y2xhc3MgYXN7Y29uc3RydWN0b3IodCl7dGhpcy5fY2FjaGVkTm9kZXM9bnVsbCx0aGlzLl9ub2Rlcz10LHRoaXMuZGlydHk9ITF9Z2V0Q2FjaGVkTm9kZXMoKXtyZXR1cm4gdGhpcy5fY2FjaGVkTm9kZXN9c2V0Q2FjaGVkTm9kZXModCl7dGhpcy5fY2FjaGVkTm9kZXM9dH1pcyh0KXtpZighZHModCkpcmV0dXJuITE7Y29uc3QgZT10aGlzLl9ub2RlcyxuPXQuX25vZGVzO3JldHVybiBlLnNpemU9PT1uLnNpemUmJkFycmF5LmZyb20oZSkuZXZlcnkoKHQ9Pm4uaGFzKHQpKSl9aXNDb2xsYXBzZWQoKXtyZXR1cm4hMX1pc0JhY2t3YXJkKCl7cmV0dXJuITF9Z2V0U3RhcnRFbmRQb2ludHMoKXtyZXR1cm4gbnVsbH1hZGQodCl7dGhpcy5kaXJ0eT0hMCx0aGlzLl9ub2Rlcy5hZGQodCksdGhpcy5fY2FjaGVkTm9kZXM9bnVsbH1kZWxldGUodCl7dGhpcy5kaXJ0eT0hMCx0aGlzLl9ub2Rlcy5kZWxldGUodCksdGhpcy5fY2FjaGVkTm9kZXM9bnVsbH1jbGVhcigpe3RoaXMuZGlydHk9ITAsdGhpcy5fbm9kZXMuY2xlYXIoKSx0aGlzLl9jYWNoZWROb2Rlcz1udWxsfWhhcyh0KXtyZXR1cm4gdGhpcy5fbm9kZXMuaGFzKHQpfWNsb25lKCl7cmV0dXJuIG5ldyBhcyhuZXcgU2V0KHRoaXMuX25vZGVzKSl9ZXh0cmFjdCgpe3JldHVybiB0aGlzLmdldE5vZGVzKCl9aW5zZXJ0UmF3VGV4dCh0KXt9aW5zZXJ0VGV4dCgpe31pbnNlcnROb2Rlcyh0KXtjb25zdCBlPXRoaXMuZ2V0Tm9kZXMoKSxuPWUubGVuZ3RoLHI9ZVtuLTFdO2xldCBzO2lmKEdyKHIpKXM9ci5zZWxlY3QoKTtlbHNle2NvbnN0IHQ9ci5nZXRJbmRleFdpdGhpblBhcmVudCgpKzE7cz1yLmdldFBhcmVudE9yVGhyb3coKS5zZWxlY3QodCx0KX1zLmluc2VydE5vZGVzKHQpO2ZvcihsZXQgdD0wO3Q8bjt0KyspZVt0XS5yZW1vdmUoKX1nZXROb2Rlcygpe2NvbnN0IHQ9dGhpcy5fY2FjaGVkTm9kZXM7aWYobnVsbCE9PXQpcmV0dXJuIHQ7Y29uc3QgZT10aGlzLl9ub2RlcyxuPVtdO2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9eGUodCk7bnVsbCE9PWUmJm4ucHVzaChlKX1yZXR1cm4gVXMoKXx8KHRoaXMuX2NhY2hlZE5vZGVzPW4pLG59Z2V0VGV4dENvbnRlbnQoKXtjb25zdCB0PXRoaXMuZ2V0Tm9kZXMoKTtsZXQgZT1cIlwiO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWUrPXRbbl0uZ2V0VGV4dENvbnRlbnQoKTtyZXR1cm4gZX19ZnVuY3Rpb24gdXModCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBmc31jbGFzcyBmc3tjb25zdHJ1Y3Rvcih0LGUsbixyKXt0aGlzLmFuY2hvcj10LHRoaXMuZm9jdXM9ZSx0Ll9zZWxlY3Rpb249dGhpcyxlLl9zZWxlY3Rpb249dGhpcyx0aGlzLl9jYWNoZWROb2Rlcz1udWxsLHRoaXMuZm9ybWF0PW4sdGhpcy5zdHlsZT1yLHRoaXMuZGlydHk9ITF9Z2V0Q2FjaGVkTm9kZXMoKXtyZXR1cm4gdGhpcy5fY2FjaGVkTm9kZXN9c2V0Q2FjaGVkTm9kZXModCl7dGhpcy5fY2FjaGVkTm9kZXM9dH1pcyh0KXtyZXR1cm4hIXVzKHQpJiYodGhpcy5hbmNob3IuaXModC5hbmNob3IpJiZ0aGlzLmZvY3VzLmlzKHQuZm9jdXMpJiZ0aGlzLmZvcm1hdD09PXQuZm9ybWF0JiZ0aGlzLnN0eWxlPT09dC5zdHlsZSl9aXNDb2xsYXBzZWQoKXtyZXR1cm4gdGhpcy5hbmNob3IuaXModGhpcy5mb2N1cyl9Z2V0Tm9kZXMoKXtjb25zdCB0PXRoaXMuX2NhY2hlZE5vZGVzO2lmKG51bGwhPT10KXJldHVybiB0O2NvbnN0IGU9dGhpcy5hbmNob3Isbj10aGlzLmZvY3VzLHI9ZS5pc0JlZm9yZShuKSxzPXI/ZTpuLGk9cj9uOmU7bGV0IG89cy5nZXROb2RlKCksbD1pLmdldE5vZGUoKTtjb25zdCBjPXMub2Zmc2V0LGE9aS5vZmZzZXQ7aWYobGkobykpe2NvbnN0IHQ9by5nZXREZXNjZW5kYW50QnlJbmRleChjKTtvPW51bGwhPXQ/dDpvfWlmKGxpKGwpKXtsZXQgdD1sLmdldERlc2NlbmRhbnRCeUluZGV4KGEpO251bGwhPT10JiZ0IT09byYmbC5nZXRDaGlsZEF0SW5kZXgoYSk9PT10JiYodD10LmdldFByZXZpb3VzU2libGluZygpKSxsPW51bGwhPXQ/dDpsfWxldCB1O3JldHVybiB1PW8uaXMobCk/bGkobykmJm8uZ2V0Q2hpbGRyZW5TaXplKCk+MD9bXTpbb106by5nZXROb2Rlc0JldHdlZW4obCksVXMoKXx8KHRoaXMuX2NhY2hlZE5vZGVzPXUpLHV9c2V0VGV4dE5vZGVSYW5nZSh0LGUsbixyKXtjcyh0aGlzLmFuY2hvcix0Ll9fa2V5LGUsXCJ0ZXh0XCIpLGNzKHRoaXMuZm9jdXMsbi5fX2tleSxyLFwidGV4dFwiKSx0aGlzLl9jYWNoZWROb2Rlcz1udWxsLHRoaXMuZGlydHk9ITB9Z2V0VGV4dENvbnRlbnQoKXtjb25zdCB0PXRoaXMuZ2V0Tm9kZXMoKTtpZigwPT09dC5sZW5ndGgpcmV0dXJuXCJcIjtjb25zdCBlPXRbMF0sbj10W3QubGVuZ3RoLTFdLHI9dGhpcy5hbmNob3Iscz10aGlzLmZvY3VzLGk9ci5pc0JlZm9yZShzKSxbbyxsXT1ncyh0aGlzKTtsZXQgYz1cIlwiLGE9ITA7Zm9yKGxldCB1PTA7dTx0Lmxlbmd0aDt1Kyspe2NvbnN0IGY9dFt1XTtpZihsaShmKSYmIWYuaXNJbmxpbmUoKSlhfHwoYys9XCJcXG5cIiksYT0hZi5pc0VtcHR5KCk7ZWxzZSBpZihhPSExLEdyKGYpKXtsZXQgdD1mLmdldFRleHRDb250ZW50KCk7Zj09PWU/Zj09PW4/XCJlbGVtZW50XCI9PT1yLnR5cGUmJlwiZWxlbWVudFwiPT09cy50eXBlJiZzLm9mZnNldCE9PXIub2Zmc2V0fHwodD1vPGw/dC5zbGljZShvLGwpOnQuc2xpY2UobCxvKSk6dD1pP3Quc2xpY2Uobyk6dC5zbGljZShsKTpmPT09biYmKHQ9aT90LnNsaWNlKDAsbCk6dC5zbGljZSgwLG8pKSxjKz10fWVsc2UhdWkoZikmJiFBcihmKXx8Zj09PW4mJnRoaXMuaXNDb2xsYXBzZWQoKXx8KGMrPWYuZ2V0VGV4dENvbnRlbnQoKSl9cmV0dXJuIGN9YXBwbHlET01SYW5nZSh0KXtjb25zdCBlPWpzKCksbj1lLmdldEVkaXRvclN0YXRlKCkuX3NlbGVjdGlvbixyPXhzKHQuc3RhcnRDb250YWluZXIsdC5zdGFydE9mZnNldCx0LmVuZENvbnRhaW5lcix0LmVuZE9mZnNldCxlLG4pO2lmKG51bGw9PT1yKXJldHVybjtjb25zdFtzLGldPXI7Y3ModGhpcy5hbmNob3Iscy5rZXkscy5vZmZzZXQscy50eXBlKSxjcyh0aGlzLmZvY3VzLGkua2V5LGkub2Zmc2V0LGkudHlwZSksdGhpcy5fY2FjaGVkTm9kZXM9bnVsbH1jbG9uZSgpe2NvbnN0IHQ9dGhpcy5hbmNob3IsZT10aGlzLmZvY3VzO3JldHVybiBuZXcgZnMoaXModC5rZXksdC5vZmZzZXQsdC50eXBlKSxpcyhlLmtleSxlLm9mZnNldCxlLnR5cGUpLHRoaXMuZm9ybWF0LHRoaXMuc3R5bGUpfXRvZ2dsZUZvcm1hdCh0KXt0aGlzLmZvcm1hdD1kZSh0aGlzLmZvcm1hdCx0LG51bGwpLHRoaXMuZGlydHk9ITB9c2V0U3R5bGUodCl7dGhpcy5zdHlsZT10LHRoaXMuZGlydHk9ITB9aGFzRm9ybWF0KHQpe2NvbnN0IGU9SXRbdF07cmV0dXJuISEodGhpcy5mb3JtYXQmZSl9aW5zZXJ0UmF3VGV4dCh0KXtjb25zdCBlPXQuc3BsaXQoLyhcXHI/XFxufFxcdCkvKSxuPVtdLHI9ZS5sZW5ndGg7Zm9yKGxldCB0PTA7dDxyO3QrKyl7Y29uc3Qgcj1lW3RdO1wiXFxuXCI9PT1yfHxcIlxcclxcblwiPT09cj9uLnB1c2goTHIoKSk6XCJcXHRcIj09PXI/bi5wdXNoKG5zKCkpOm4ucHVzaChacihyKSl9dGhpcy5pbnNlcnROb2RlcyhuKX1pbnNlcnRUZXh0KHQpe2NvbnN0IGU9dGhpcy5hbmNob3Isbj10aGlzLmZvY3VzLHI9dGhpcy5mb3JtYXQscz10aGlzLnN0eWxlO2xldCBpPWUsbz1uOyF0aGlzLmlzQ29sbGFwc2VkKCkmJm4uaXNCZWZvcmUoZSkmJihpPW4sbz1lKSxcImVsZW1lbnRcIj09PWkudHlwZSYmZnVuY3Rpb24odCxlLG4scil7Y29uc3Qgcz10LmdldE5vZGUoKSxpPXMuZ2V0Q2hpbGRBdEluZGV4KHQub2Zmc2V0KSxvPVpyKCksbD1kaShzKT94aSgpLmFwcGVuZChvKTpvO28uc2V0Rm9ybWF0KG4pLG8uc2V0U3R5bGUociksbnVsbD09PWk/cy5hcHBlbmQobCk6aS5pbnNlcnRCZWZvcmUobCksdC5pcyhlKSYmZS5zZXQoby5fX2tleSwwLFwidGV4dFwiKSx0LnNldChvLl9fa2V5LDAsXCJ0ZXh0XCIpfShpLG8scixzKTtjb25zdCBsPWkub2Zmc2V0O2xldCBjPW8ub2Zmc2V0O2NvbnN0IGE9dGhpcy5nZXROb2RlcygpLHU9YS5sZW5ndGg7bGV0IGY9YVswXTtHcihmKXx8UnQoMjYpO2NvbnN0IGQ9Zi5nZXRUZXh0Q29udGVudCgpLmxlbmd0aCxoPWYuZ2V0UGFyZW50T3JUaHJvdygpO2xldCBnPWFbdS0xXTtpZigxPT09dSYmXCJlbGVtZW50XCI9PT1vLnR5cGUmJihjPWQsby5zZXQoaS5rZXksYyxcInRleHRcIikpLHRoaXMuaXNDb2xsYXBzZWQoKSYmbD09PWQmJihmLmlzU2VnbWVudGVkKCl8fGYuaXNUb2tlbigpfHwhZi5jYW5JbnNlcnRUZXh0QWZ0ZXIoKXx8IWguY2FuSW5zZXJ0VGV4dEFmdGVyKCkmJm51bGw9PT1mLmdldE5leHRTaWJsaW5nKCkpKXtsZXQgZT1mLmdldE5leHRTaWJsaW5nKCk7aWYoR3IoZSkmJmUuY2FuSW5zZXJ0VGV4dEJlZm9yZSgpJiYhYWUoZSl8fChlPVpyKCksZS5zZXRGb3JtYXQociksZS5zZXRTdHlsZShzKSxoLmNhbkluc2VydFRleHRBZnRlcigpP2YuaW5zZXJ0QWZ0ZXIoZSk6aC5pbnNlcnRBZnRlcihlKSksZS5zZWxlY3QoMCwwKSxmPWUsXCJcIiE9PXQpcmV0dXJuIHZvaWQgdGhpcy5pbnNlcnRUZXh0KHQpfWVsc2UgaWYodGhpcy5pc0NvbGxhcHNlZCgpJiYwPT09bCYmKGYuaXNTZWdtZW50ZWQoKXx8Zi5pc1Rva2VuKCl8fCFmLmNhbkluc2VydFRleHRCZWZvcmUoKXx8IWguY2FuSW5zZXJ0VGV4dEJlZm9yZSgpJiZudWxsPT09Zi5nZXRQcmV2aW91c1NpYmxpbmcoKSkpe2xldCBlPWYuZ2V0UHJldmlvdXNTaWJsaW5nKCk7aWYoR3IoZSkmJiFhZShlKXx8KGU9WnIoKSxlLnNldEZvcm1hdChyKSxoLmNhbkluc2VydFRleHRCZWZvcmUoKT9mLmluc2VydEJlZm9yZShlKTpoLmluc2VydEJlZm9yZShlKSksZS5zZWxlY3QoKSxmPWUsXCJcIiE9PXQpcmV0dXJuIHZvaWQgdGhpcy5pbnNlcnRUZXh0KHQpfWVsc2UgaWYoZi5pc1NlZ21lbnRlZCgpJiZsIT09ZCl7Y29uc3QgdD1acihmLmdldFRleHRDb250ZW50KCkpO3Quc2V0Rm9ybWF0KHIpLGYucmVwbGFjZSh0KSxmPXR9ZWxzZSBpZighdGhpcy5pc0NvbGxhcHNlZCgpJiZcIlwiIT09dCl7Y29uc3QgZT1nLmdldFBhcmVudCgpO2lmKCFoLmNhbkluc2VydFRleHRCZWZvcmUoKXx8IWguY2FuSW5zZXJ0VGV4dEFmdGVyKCl8fGxpKGUpJiYoIWUuY2FuSW5zZXJ0VGV4dEJlZm9yZSgpfHwhZS5jYW5JbnNlcnRUZXh0QWZ0ZXIoKSkpcmV0dXJuIHRoaXMuaW5zZXJ0VGV4dChcIlwiKSxtcyh0aGlzLmFuY2hvcix0aGlzLmZvY3VzLG51bGwpLHZvaWQgdGhpcy5pbnNlcnRUZXh0KHQpfWlmKDE9PT11KXtpZihmLmlzVG9rZW4oKSl7Y29uc3QgZT1acih0KTtyZXR1cm4gZS5zZWxlY3QoKSx2b2lkIGYucmVwbGFjZShlKX1jb25zdCBlPWYuZ2V0Rm9ybWF0KCksbj1mLmdldFN0eWxlKCk7aWYobCE9PWN8fGU9PT1yJiZuPT09cyl7aWYocnMoZikpe2NvbnN0IGU9WnIodCk7cmV0dXJuIGUuc2V0Rm9ybWF0KHIpLGUuc2V0U3R5bGUocyksZS5zZWxlY3QoKSx2b2lkIGYucmVwbGFjZShlKX19ZWxzZXtpZihcIlwiIT09Zi5nZXRUZXh0Q29udGVudCgpKXtjb25zdCBlPVpyKHQpO2lmKGUuc2V0Rm9ybWF0KHIpLGUuc2V0U3R5bGUocyksZS5zZWxlY3QoKSwwPT09bClmLmluc2VydEJlZm9yZShlLCExKTtlbHNle2NvbnN0W3RdPWYuc3BsaXRUZXh0KGwpO3QuaW5zZXJ0QWZ0ZXIoZSwhMSl9cmV0dXJuIHZvaWQoZS5pc0NvbXBvc2luZygpJiZcInRleHRcIj09PXRoaXMuYW5jaG9yLnR5cGUmJih0aGlzLmFuY2hvci5vZmZzZXQtPXQubGVuZ3RoKSl9Zi5zZXRGb3JtYXQociksZi5zZXRTdHlsZShzKX1jb25zdCBpPWMtbDtmPWYuc3BsaWNlVGV4dChsLGksdCwhMCksXCJcIj09PWYuZ2V0VGV4dENvbnRlbnQoKT9mLnJlbW92ZSgpOlwidGV4dFwiPT09dGhpcy5hbmNob3IudHlwZSYmKGYuaXNDb21wb3NpbmcoKT90aGlzLmFuY2hvci5vZmZzZXQtPXQubGVuZ3RoOih0aGlzLmZvcm1hdD1lLHRoaXMuc3R5bGU9bikpfWVsc2V7Y29uc3QgZT1uZXcgU2V0KFsuLi5mLmdldFBhcmVudEtleXMoKSwuLi5nLmdldFBhcmVudEtleXMoKV0pLG49bGkoZik/ZjpmLmdldFBhcmVudE9yVGhyb3coKTtsZXQgcj1saShnKT9nOmcuZ2V0UGFyZW50T3JUaHJvdygpLHM9ZztpZighbi5pcyhyKSYmci5pc0lubGluZSgpKWRve3M9cixyPXIuZ2V0UGFyZW50T3JUaHJvdygpfXdoaWxlKHIuaXNJbmxpbmUoKSk7aWYoXCJ0ZXh0XCI9PT1vLnR5cGUmJigwIT09Y3x8XCJcIj09PWcuZ2V0VGV4dENvbnRlbnQoKSl8fFwiZWxlbWVudFwiPT09by50eXBlJiZnLmdldEluZGV4V2l0aGluUGFyZW50KCk8YylpZihHcihnKSYmIWcuaXNUb2tlbigpJiZjIT09Zy5nZXRUZXh0Q29udGVudFNpemUoKSl7aWYoZy5pc1NlZ21lbnRlZCgpKXtjb25zdCB0PVpyKGcuZ2V0VGV4dENvbnRlbnQoKSk7Zy5yZXBsYWNlKHQpLGc9dH1kaShvLmdldE5vZGUoKSl8fFwidGV4dFwiIT09by50eXBlfHwoZz1nLnNwbGljZVRleHQoMCxjLFwiXCIpKSxlLmFkZChnLl9fa2V5KX1lbHNle2NvbnN0IHQ9Zy5nZXRQYXJlbnRPclRocm93KCk7dC5jYW5CZUVtcHR5KCl8fDEhPT10LmdldENoaWxkcmVuU2l6ZSgpP2cucmVtb3ZlKCk6dC5yZW1vdmUoKX1lbHNlIGUuYWRkKGcuX19rZXkpO2NvbnN0IGk9ci5nZXRDaGlsZHJlbigpLGg9bmV3IFNldChhKSxfPW4uaXMocikscD1uLmlzSW5saW5lKCkmJm51bGw9PT1mLmdldE5leHRTaWJsaW5nKCk/bjpmO2ZvcihsZXQgdD1pLmxlbmd0aC0xO3Q+PTA7dC0tKXtjb25zdCBlPWlbdF07aWYoZS5pcyhmKXx8bGkoZSkmJmUuaXNQYXJlbnRPZihmKSlicmVhaztlLmlzQXR0YWNoZWQoKSYmKCFoLmhhcyhlKXx8ZS5pcyhzKT9ffHxwLmluc2VydEFmdGVyKGUsITEpOmUucmVtb3ZlKCkpfWlmKCFfKXtsZXQgdD1yLG49bnVsbDtmb3IoO251bGwhPT10Oyl7Y29uc3Qgcj10LmdldENoaWxkcmVuKCkscz1yLmxlbmd0aDsoMD09PXN8fHJbcy0xXS5pcyhuKSkmJihlLmRlbGV0ZSh0Ll9fa2V5KSxuPXQpLHQ9dC5nZXRQYXJlbnQoKX19aWYoZi5pc1Rva2VuKCkpaWYobD09PWQpZi5zZWxlY3QoKTtlbHNle2NvbnN0IGU9WnIodCk7ZS5zZWxlY3QoKSxmLnJlcGxhY2UoZSl9ZWxzZSBmPWYuc3BsaWNlVGV4dChsLGQtbCx0LCEwKSxcIlwiPT09Zi5nZXRUZXh0Q29udGVudCgpP2YucmVtb3ZlKCk6Zi5pc0NvbXBvc2luZygpJiZcInRleHRcIj09PXRoaXMuYW5jaG9yLnR5cGUmJih0aGlzLmFuY2hvci5vZmZzZXQtPXQubGVuZ3RoKTtmb3IobGV0IHQ9MTt0PHU7dCsrKXtjb25zdCBuPWFbdF0scj1uLl9fa2V5O2UuaGFzKHIpfHxuLnJlbW92ZSgpfX19cmVtb3ZlVGV4dCgpe3RoaXMuaW5zZXJ0VGV4dChcIlwiKX1mb3JtYXRUZXh0KHQpe2lmKHRoaXMuaXNDb2xsYXBzZWQoKSlyZXR1cm4gdGhpcy50b2dnbGVGb3JtYXQodCksdm9pZCB5ZShudWxsKTtjb25zdCBlPXRoaXMuZ2V0Tm9kZXMoKSxuPVtdO2Zvcihjb25zdCB0IG9mIGUpR3IodCkmJm4ucHVzaCh0KTtjb25zdCByPW4ubGVuZ3RoO2lmKDA9PT1yKXJldHVybiB0aGlzLnRvZ2dsZUZvcm1hdCh0KSx2b2lkIHllKG51bGwpO2NvbnN0IHM9dGhpcy5hbmNob3IsaT10aGlzLmZvY3VzLG89dGhpcy5pc0JhY2t3YXJkKCksbD1vP2k6cyxjPW8/czppO2xldCBhPTAsdT1uWzBdLGY9XCJlbGVtZW50XCI9PT1sLnR5cGU/MDpsLm9mZnNldDtpZihcInRleHRcIj09PWwudHlwZSYmZj09PXUuZ2V0VGV4dENvbnRlbnRTaXplKCkmJihhPTEsdT1uWzFdLGY9MCksbnVsbD09dSlyZXR1cm47Y29uc3QgZD11LmdldEZvcm1hdEZsYWdzKHQsbnVsbCksaD1yLTE7bGV0IGc9bltoXTtjb25zdCBfPVwidGV4dFwiPT09Yy50eXBlP2Mub2Zmc2V0OmcuZ2V0VGV4dENvbnRlbnRTaXplKCk7aWYodS5pcyhnKSl7aWYoZj09PV8pcmV0dXJuO2lmKGFlKHUpfHwwPT09ZiYmXz09PXUuZ2V0VGV4dENvbnRlbnRTaXplKCkpdS5zZXRGb3JtYXQoZCk7ZWxzZXtjb25zdCB0PXUuc3BsaXRUZXh0KGYsXyksZT0wPT09Zj90WzBdOnRbMV07ZS5zZXRGb3JtYXQoZCksXCJ0ZXh0XCI9PT1sLnR5cGUmJmwuc2V0KGUuX19rZXksMCxcInRleHRcIiksXCJ0ZXh0XCI9PT1jLnR5cGUmJmMuc2V0KGUuX19rZXksXy1mLFwidGV4dFwiKX1yZXR1cm4gdm9pZCh0aGlzLmZvcm1hdD1kKX0wPT09Znx8YWUodSl8fChbLHVdPXUuc3BsaXRUZXh0KGYpLGY9MCksdS5zZXRGb3JtYXQoZCk7Y29uc3QgcD1nLmdldEZvcm1hdEZsYWdzKHQsZCk7Xz4wJiYoXz09PWcuZ2V0VGV4dENvbnRlbnRTaXplKCl8fGFlKGcpfHwoW2ddPWcuc3BsaXRUZXh0KF8pKSxnLnNldEZvcm1hdChwKSk7Zm9yKGxldCBlPWErMTtlPGg7ZSsrKXtjb25zdCByPW5bZV0scz1yLmdldEZvcm1hdEZsYWdzKHQscCk7ci5zZXRGb3JtYXQocyl9XCJ0ZXh0XCI9PT1sLnR5cGUmJmwuc2V0KHUuX19rZXksZixcInRleHRcIiksXCJ0ZXh0XCI9PT1jLnR5cGUmJmMuc2V0KGcuX19rZXksXyxcInRleHRcIiksdGhpcy5mb3JtYXQ9ZHxwfWluc2VydE5vZGVzKHQpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm47aWYoXCJyb290XCI9PT10aGlzLmFuY2hvci5rZXkpe3RoaXMuaW5zZXJ0UGFyYWdyYXBoKCk7Y29uc3QgZT13cygpO3JldHVybiB1cyhlKXx8UnQoMTM0KSxlLmluc2VydE5vZGVzKHQpfWNvbnN0IGU9Q24oKHRoaXMuaXNCYWNrd2FyZCgpP3RoaXMuZm9jdXM6dGhpcy5hbmNob3IpLmdldE5vZGUoKSxUbiksbj10W3QubGVuZ3RoLTFdO2lmKFwiX19sYW5ndWFnZVwiaW4gZSYmbGkoZSkpe2lmKFwiX19sYW5ndWFnZVwiaW4gdFswXSl0aGlzLmluc2VydFRleHQodFswXS5nZXRUZXh0Q29udGVudCgpKTtlbHNle2NvbnN0IHI9QXModGhpcyk7ZS5zcGxpY2UociwwLHQpLG4uc2VsZWN0RW5kKCl9cmV0dXJufWlmKCF0LnNvbWUoKHQ9PihsaSh0KXx8dWkodCkpJiYhdC5pc0lubGluZSgpKSkpe2xpKGUpfHxSdCgxMzUpO2NvbnN0IHI9QXModGhpcyk7cmV0dXJuIGUuc3BsaWNlKHIsMCx0KSx2b2lkIG4uc2VsZWN0RW5kKCl9Y29uc3Qgcj1mdW5jdGlvbih0KXtjb25zdCBlPXhpKCk7bGV0IG49bnVsbDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgcz10W3JdLGk9QXIocyk7aWYoaXx8dWkocykmJnMuaXNJbmxpbmUoKXx8bGkocykmJnMuaXNJbmxpbmUoKXx8R3Iocyl8fHMuaXNQYXJlbnRSZXF1aXJlZCgpKXtpZihudWxsPT09biYmKG49cy5jcmVhdGVQYXJlbnRFbGVtZW50Tm9kZSgpLGUuYXBwZW5kKG4pLGkpKWNvbnRpbnVlO251bGwhPT1uJiZuLmFwcGVuZChzKX1lbHNlIGUuYXBwZW5kKHMpLG49bnVsbH1yZXR1cm4gZX0odCkscz1yLmdldExhc3REZXNjZW5kYW50KCksaT1yLmdldENoaWxkcmVuKCksbz10PT5cIl9fdmFsdWVcImluIHQmJlwiX19jaGVja2VkXCJpbiB0LGw9IWxpKGUpfHwhZS5pc0VtcHR5KCk/dGhpcy5pbnNlcnRQYXJhZ3JhcGgoKTpudWxsLGM9aVtpLmxlbmd0aC0xXTtsZXQgYT1pWzBdO3ZhciB1O2xpKHU9YSkmJlRuKHUpJiYhdS5pc0VtcHR5KCkmJmxpKGUpJiYoIWUuaXNFbXB0eSgpfHxvKGUpKSYmKGxpKGUpfHxSdCgxMzUpLGUuYXBwZW5kKC4uLmEuZ2V0Q2hpbGRyZW4oKSksYT1pWzFdKSxhJiZmdW5jdGlvbih0LGUsbil7Y29uc3Qgcj1lLmdldFBhcmVudE9yVGhyb3coKS5nZXRMYXN0Q2hpbGQoKTtsZXQgcz1lO2NvbnN0IGk9W2VdO2Zvcig7cyE9PXI7KXMuZ2V0TmV4dFNpYmxpbmcoKXx8UnQoMTQwKSxzPXMuZ2V0TmV4dFNpYmxpbmcoKSxpLnB1c2gocyk7bGV0IG89dDtmb3IoY29uc3QgdCBvZiBpKW89by5pbnNlcnRBZnRlcih0KX0oZSxhKTtjb25zdCBmPUNuKHMsVG4pO2wmJmxpKGYpJiYobyhsKXx8VG4oYykpJiYoZi5hcHBlbmQoLi4ubC5nZXRDaGlsZHJlbigpKSxsLnJlbW92ZSgpKSxsaShlKSYmZS5pc0VtcHR5KCkmJmUucmVtb3ZlKCkscy5zZWxlY3RFbmQoKTtjb25zdCBkPWxpKGUpP2UuZ2V0TGFzdENoaWxkKCk6bnVsbDtBcihkKSYmZiE9PWUmJmQucmVtb3ZlKCl9aW5zZXJ0UGFyYWdyYXBoKCl7aWYoXCJyb290XCI9PT10aGlzLmFuY2hvci5rZXkpe2NvbnN0IHQ9eGkoKTtyZXR1cm4ga2UoKS5zcGxpY2UodGhpcy5hbmNob3Iub2Zmc2V0LDAsW3RdKSx0LnNlbGVjdCgpLHR9Y29uc3QgdD1Bcyh0aGlzKSxlPUNuKHRoaXMuYW5jaG9yLmdldE5vZGUoKSxUbik7bGkoZSl8fFJ0KDEzNik7Y29uc3Qgbj1lLmdldENoaWxkQXRJbmRleCh0KSxyPW4/W24sLi4ubi5nZXROZXh0U2libGluZ3MoKV06W10scz1lLmluc2VydE5ld0FmdGVyKHRoaXMsITEpO3JldHVybiBzPyhzLmFwcGVuZCguLi5yKSxzLnNlbGVjdFN0YXJ0KCkscyk6bnVsbH1pbnNlcnRMaW5lQnJlYWsodCl7Y29uc3QgZT1McigpO2lmKHRoaXMuaW5zZXJ0Tm9kZXMoW2VdKSx0KXtjb25zdCB0PWUuZ2V0UGFyZW50T3JUaHJvdygpLG49ZS5nZXRJbmRleFdpdGhpblBhcmVudCgpO3Quc2VsZWN0KG4sbil9fWV4dHJhY3QoKXtjb25zdCB0PXRoaXMuZ2V0Tm9kZXMoKSxlPXQubGVuZ3RoLG49ZS0xLHI9dGhpcy5hbmNob3Iscz10aGlzLmZvY3VzO2xldCBpPXRbMF0sbz10W25dO2NvbnN0W2wsY109Z3ModGhpcyk7aWYoMD09PWUpcmV0dXJuW107aWYoMT09PWUpe2lmKEdyKGkpJiYhdGhpcy5pc0NvbGxhcHNlZCgpKXtjb25zdCB0PWw+Yz9jOmwsZT1sPmM/bDpjLG49aS5zcGxpdFRleHQodCxlKSxyPTA9PT10P25bMF06blsxXTtyZXR1cm4gbnVsbCE9cj9bcl06W119cmV0dXJuW2ldfWNvbnN0IGE9ci5pc0JlZm9yZShzKTtpZihHcihpKSl7Y29uc3QgZT1hP2w6YztlPT09aS5nZXRUZXh0Q29udGVudFNpemUoKT90LnNoaWZ0KCk6MCE9PWUmJihbLGldPWkuc3BsaXRUZXh0KGUpLHRbMF09aSl9aWYoR3Iobykpe2NvbnN0IGU9by5nZXRUZXh0Q29udGVudCgpLmxlbmd0aCxyPWE/YzpsOzA9PT1yP3QucG9wKCk6ciE9PWUmJihbb109by5zcGxpdFRleHQociksdFtuXT1vKX1yZXR1cm4gdH1tb2RpZnkodCxlLG4pe2NvbnN0IHI9dGhpcy5mb2N1cyxzPXRoaXMuYW5jaG9yLGk9XCJtb3ZlXCI9PT10LG89cWUocixlKTtpZih1aShvKSYmIW8uaXNJc29sYXRlZCgpKXtpZihpJiZvLmlzS2V5Ym9hcmRTZWxlY3RhYmxlKCkpe2NvbnN0IHQ9U3MoKTtyZXR1cm4gdC5hZGQoby5fX2tleSksdm9pZCB3ZSh0KX1jb25zdCB0PWU/by5nZXRQcmV2aW91c1NpYmxpbmcoKTpvLmdldE5leHRTaWJsaW5nKCk7aWYoR3IodCkpe2NvbnN0IG49dC5fX2tleSxvPWU/dC5nZXRUZXh0Q29udGVudCgpLmxlbmd0aDowO3JldHVybiByLnNldChuLG8sXCJ0ZXh0XCIpLHZvaWQoaSYmcy5zZXQobixvLFwidGV4dFwiKSl9e2NvbnN0IG49by5nZXRQYXJlbnRPclRocm93KCk7bGV0IGwsYztyZXR1cm4gbGkodCk/KGM9dC5fX2tleSxsPWU/dC5nZXRDaGlsZHJlblNpemUoKTowKToobD1vLmdldEluZGV4V2l0aGluUGFyZW50KCksYz1uLl9fa2V5LGV8fGwrKyksci5zZXQoYyxsLFwiZWxlbWVudFwiKSx2b2lkKGkmJnMuc2V0KGMsbCxcImVsZW1lbnRcIikpfX1jb25zdCBsPWpzKCksYz1fbihsLl93aW5kb3cpO2lmKCFjKXJldHVybjtjb25zdCBhPWwuX2Jsb2NrQ3Vyc29yRWxlbWVudCx1PWwuX3Jvb3RFbGVtZW50O2lmKG51bGw9PT11fHxudWxsPT09YXx8IWxpKG8pfHxvLmlzSW5saW5lKCl8fG8uY2FuQmVFbXB0eSgpfHxobihhLGwsdSksZnVuY3Rpb24odCxlLG4scil7dC5tb2RpZnkoZSxuLHIpfShjLHQsZT9cImJhY2t3YXJkXCI6XCJmb3J3YXJkXCIsbiksYy5yYW5nZUNvdW50PjApe2NvbnN0IHQ9Yy5nZXRSYW5nZUF0KDApLG49dGhpcy5hbmNob3IuZ2V0Tm9kZSgpLHI9ZGkobik/bjpvbihuKTtpZih0aGlzLmFwcGx5RE9NUmFuZ2UodCksdGhpcy5kaXJ0eT0hMCwhaSl7Y29uc3Qgbj10aGlzLmdldE5vZGVzKCkscz1bXTtsZXQgaT0hMTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyl7Y29uc3QgZT1uW3RdO25uKGUscik/cy5wdXNoKGUpOmk9ITB9aWYoaSYmcy5sZW5ndGg+MClpZihlKXtjb25zdCB0PXNbMF07bGkodCk/dC5zZWxlY3RTdGFydCgpOnQuZ2V0UGFyZW50T3JUaHJvdygpLnNlbGVjdFN0YXJ0KCl9ZWxzZXtjb25zdCB0PXNbcy5sZW5ndGgtMV07bGkodCk/dC5zZWxlY3RFbmQoKTp0LmdldFBhcmVudE9yVGhyb3coKS5zZWxlY3RFbmQoKX1jLmFuY2hvck5vZGU9PT10LnN0YXJ0Q29udGFpbmVyJiZjLmFuY2hvck9mZnNldD09PXQuc3RhcnRPZmZzZXR8fGZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5mb2N1cyxuPXQuYW5jaG9yLHI9bi5rZXkscz1uLm9mZnNldCxpPW4udHlwZTtjcyhuLGUua2V5LGUub2Zmc2V0LGUudHlwZSksY3MoZSxyLHMsaSksdC5fY2FjaGVkTm9kZXM9bnVsbH0odGhpcyl9fX1mb3J3YXJkRGVsZXRpb24odCxlLG4pe2lmKCFuJiYoXCJlbGVtZW50XCI9PT10LnR5cGUmJmxpKGUpJiZ0Lm9mZnNldD09PWUuZ2V0Q2hpbGRyZW5TaXplKCl8fFwidGV4dFwiPT09dC50eXBlJiZ0Lm9mZnNldD09PWUuZ2V0VGV4dENvbnRlbnRTaXplKCkpKXtjb25zdCB0PWUuZ2V0UGFyZW50KCksbj1lLmdldE5leHRTaWJsaW5nKCl8fChudWxsPT09dD9udWxsOnQuZ2V0TmV4dFNpYmxpbmcoKSk7aWYobGkobikmJm4uaXNTaGFkb3dSb290KCkpcmV0dXJuITB9cmV0dXJuITF9ZGVsZXRlQ2hhcmFjdGVyKHQpe2NvbnN0IG49dGhpcy5pc0NvbGxhcHNlZCgpO2lmKHRoaXMuaXNDb2xsYXBzZWQoKSl7Y29uc3Qgbj10aGlzLmFuY2hvcjtsZXQgcj1uLmdldE5vZGUoKTtpZih0aGlzLmZvcndhcmREZWxldGlvbihuLHIsdCkpcmV0dXJuO2NvbnN0IHM9dGhpcy5mb2N1cyxpPXFlKHMsdCk7aWYodWkoaSkmJiFpLmlzSXNvbGF0ZWQoKSl7aWYoaS5pc0tleWJvYXJkU2VsZWN0YWJsZSgpJiZsaShyKSYmMD09PXIuZ2V0Q2hpbGRyZW5TaXplKCkpe3IucmVtb3ZlKCk7Y29uc3QgdD1TcygpO3QuYWRkKGkuX19rZXkpLHdlKHQpfWVsc2V7aS5yZW1vdmUoKTtqcygpLmRpc3BhdGNoQ29tbWFuZChlLHZvaWQgMCl9cmV0dXJufWlmKCF0JiZsaShpKSYmbGkocikmJnIuaXNFbXB0eSgpKXJldHVybiByLnJlbW92ZSgpLHZvaWQgaS5zZWxlY3RTdGFydCgpO2lmKHRoaXMubW9kaWZ5KFwiZXh0ZW5kXCIsdCxcImNoYXJhY3RlclwiKSx0aGlzLmlzQ29sbGFwc2VkKCkpe2lmKHQmJjA9PT1uLm9mZnNldCl7aWYoKFwiZWxlbWVudFwiPT09bi50eXBlP24uZ2V0Tm9kZSgpOm4uZ2V0Tm9kZSgpLmdldFBhcmVudE9yVGhyb3coKSkuY29sbGFwc2VBdFN0YXJ0KHRoaXMpKXJldHVybn19ZWxzZXtjb25zdCBlPVwidGV4dFwiPT09cy50eXBlP3MuZ2V0Tm9kZSgpOm51bGw7aWYocj1cInRleHRcIj09PW4udHlwZT9uLmdldE5vZGUoKTpudWxsLG51bGwhPT1lJiZlLmlzU2VnbWVudGVkKCkpe2NvbnN0IG49cy5vZmZzZXQsaT1lLmdldFRleHRDb250ZW50U2l6ZSgpO2lmKGUuaXMocil8fHQmJm4hPT1pfHwhdCYmMCE9PW4pcmV0dXJuIHZvaWQgX3MoZSx0LG4pfWVsc2UgaWYobnVsbCE9PXImJnIuaXNTZWdtZW50ZWQoKSl7Y29uc3Qgcz1uLm9mZnNldCxpPXIuZ2V0VGV4dENvbnRlbnRTaXplKCk7aWYoci5pcyhlKXx8dCYmMCE9PXN8fCF0JiZzIT09aSlyZXR1cm4gdm9pZCBfcyhyLHQscyl9IWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmFuY2hvcixyPXQuZm9jdXMscz1uLmdldE5vZGUoKSxpPXIuZ2V0Tm9kZSgpO2lmKHM9PT1pJiZcInRleHRcIj09PW4udHlwZSYmXCJ0ZXh0XCI9PT1yLnR5cGUpe2NvbnN0IHQ9bi5vZmZzZXQsaT1yLm9mZnNldCxvPXQ8aSxsPW8/dDppLGM9bz9pOnQsYT1jLTE7aWYobCE9PWEpe1BlKHMuZ2V0VGV4dENvbnRlbnQoKS5zbGljZShsLGMpKXx8KGU/ci5vZmZzZXQ9YTpuLm9mZnNldD1hKX19fSh0aGlzLHQpfX1pZih0aGlzLnJlbW92ZVRleHQoKSx0JiYhbiYmdGhpcy5pc0NvbGxhcHNlZCgpJiZcImVsZW1lbnRcIj09PXRoaXMuYW5jaG9yLnR5cGUmJjA9PT10aGlzLmFuY2hvci5vZmZzZXQpe2NvbnN0IHQ9dGhpcy5hbmNob3IuZ2V0Tm9kZSgpO3QuaXNFbXB0eSgpJiZkaSh0LmdldFBhcmVudCgpKSYmMD09PXQuZ2V0SW5kZXhXaXRoaW5QYXJlbnQoKSYmdC5jb2xsYXBzZUF0U3RhcnQodGhpcyl9fWRlbGV0ZUxpbmUodCl7aWYodGhpcy5pc0NvbGxhcHNlZCgpKXtjb25zdCBlPVwiZWxlbWVudFwiPT09dGhpcy5hbmNob3IudHlwZTtlJiZ0aGlzLmluc2VydFRleHQoXCIgXCIpLHRoaXMubW9kaWZ5KFwiZXh0ZW5kXCIsdCxcImxpbmVib3VuZGFyeVwiKTtpZigwPT09KHQ/dGhpcy5mb2N1czp0aGlzLmFuY2hvcikub2Zmc2V0JiZ0aGlzLm1vZGlmeShcImV4dGVuZFwiLHQsXCJjaGFyYWN0ZXJcIiksZSl7Y29uc3QgZT10P3RoaXMuYW5jaG9yOnRoaXMuZm9jdXM7ZS5zZXQoZS5rZXksZS5vZmZzZXQrMSxlLnR5cGUpfX10aGlzLnJlbW92ZVRleHQoKX1kZWxldGVXb3JkKHQpe2lmKHRoaXMuaXNDb2xsYXBzZWQoKSl7Y29uc3QgZT10aGlzLmFuY2hvcixuPWUuZ2V0Tm9kZSgpO2lmKHRoaXMuZm9yd2FyZERlbGV0aW9uKGUsbix0KSlyZXR1cm47dGhpcy5tb2RpZnkoXCJleHRlbmRcIix0LFwid29yZFwiKX10aGlzLnJlbW92ZVRleHQoKX1pc0JhY2t3YXJkKCl7cmV0dXJuIHRoaXMuZm9jdXMuaXNCZWZvcmUodGhpcy5hbmNob3IpfWdldFN0YXJ0RW5kUG9pbnRzKCl7cmV0dXJuW3RoaXMuYW5jaG9yLHRoaXMuZm9jdXNdfX1mdW5jdGlvbiBkcyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGFzfWZ1bmN0aW9uIGhzKHQpe2NvbnN0IGU9dC5vZmZzZXQ7aWYoXCJ0ZXh0XCI9PT10LnR5cGUpcmV0dXJuIGU7Y29uc3Qgbj10LmdldE5vZGUoKTtyZXR1cm4gZT09PW4uZ2V0Q2hpbGRyZW5TaXplKCk/bi5nZXRUZXh0Q29udGVudCgpLmxlbmd0aDowfWZ1bmN0aW9uIGdzKHQpe2NvbnN0IGU9dC5nZXRTdGFydEVuZFBvaW50cygpO2lmKG51bGw9PT1lKXJldHVyblswLDBdO2NvbnN0W24scl09ZTtyZXR1cm5cImVsZW1lbnRcIj09PW4udHlwZSYmXCJlbGVtZW50XCI9PT1yLnR5cGUmJm4ua2V5PT09ci5rZXkmJm4ub2Zmc2V0PT09ci5vZmZzZXQ/WzAsMF06W2hzKG4pLGhzKHIpXX1mdW5jdGlvbiBfcyh0LGUsbil7Y29uc3Qgcj10LHM9ci5nZXRUZXh0Q29udGVudCgpLnNwbGl0KC8oPz1cXHMpL2cpLGk9cy5sZW5ndGg7bGV0IG89MCxsPTA7Zm9yKGxldCB0PTA7dDxpO3QrKyl7Y29uc3Qgcj10PT09aS0xO2lmKGw9byxvKz1zW3RdLmxlbmd0aCxlJiZvPT09bnx8bz5ufHxyKXtzLnNwbGljZSh0LDEpLHImJihsPXZvaWQgMCk7YnJlYWt9fWNvbnN0IGM9cy5qb2luKFwiXCIpLnRyaW0oKTtcIlwiPT09Yz9yLnJlbW92ZSgpOihyLnNldFRleHRDb250ZW50KGMpLHIuc2VsZWN0KGwsbCkpfWZ1bmN0aW9uIHBzKHQsZSxuLHIpe2xldCBzLGk9ZTtpZih0Lm5vZGVUeXBlPT09cnQpe2xldCBvPSExO2NvbnN0IGw9dC5jaGlsZE5vZGVzLGM9bC5sZW5ndGgsYT1yLl9ibG9ja0N1cnNvckVsZW1lbnQ7aT09PWMmJihvPSEwLGk9Yy0xKTtsZXQgdT1sW2ldLGY9ITE7aWYodT09PWEpdT1sW2krMV0sZj0hMDtlbHNlIGlmKG51bGwhPT1hKXtjb25zdCBuPWEucGFyZW50Tm9kZTtpZih0PT09bil7ZT5BcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKG4uY2hpbGRyZW4sYSkmJmktLX19aWYocz1OZSh1KSxHcihzKSlpPUVlKHMsbyk7ZWxzZXtsZXQgcj1OZSh0KTtpZihudWxsPT09cilyZXR1cm4gbnVsbDtpZihsaShyKSl7aT1NYXRoLm1pbihyLmdldENoaWxkcmVuU2l6ZSgpLGkpO2xldCB0PXIuZ2V0Q2hpbGRBdEluZGV4KGkpO2lmKGxpKHQpJiZmdW5jdGlvbih0LGUsbil7Y29uc3Qgcj10LmdldFBhcmVudCgpO3JldHVybiBudWxsPT09bnx8bnVsbD09PXJ8fCFyLmNhbkJlRW1wdHkoKXx8ciE9PW4uZ2V0Tm9kZSgpfSh0LDAsbikpe2NvbnN0IGU9bz90LmdldExhc3REZXNjZW5kYW50KCk6dC5nZXRGaXJzdERlc2NlbmRhbnQoKTtudWxsPT09ZT9yPXQ6KHQ9ZSxyPWxpKHQpP3Q6dC5nZXRQYXJlbnRPclRocm93KCkpLGk9MH1Hcih0KT8ocz10LHI9bnVsbCxpPUVlKHQsbykpOnQhPT1yJiZvJiYhZiYmaSsrfWVsc2V7Y29uc3Qgbj1yLmdldEluZGV4V2l0aGluUGFyZW50KCk7aT0wPT09ZSYmdWkocikmJk5lKHQpPT09cj9uOm4rMSxyPXIuZ2V0UGFyZW50T3JUaHJvdygpfWlmKGxpKHIpKXJldHVybiBpcyhyLl9fa2V5LGksXCJlbGVtZW50XCIpfX1lbHNlIHM9TmUodCk7cmV0dXJuIEdyKHMpP2lzKHMuX19rZXksaSxcInRleHRcIik6bnVsbH1mdW5jdGlvbiB5cyh0LGUsbil7Y29uc3Qgcj10Lm9mZnNldCxzPXQuZ2V0Tm9kZSgpO2lmKDA9PT1yKXtjb25zdCByPXMuZ2V0UHJldmlvdXNTaWJsaW5nKCksaT1zLmdldFBhcmVudCgpO2lmKGUpe2lmKChufHwhZSkmJm51bGw9PT1yJiZsaShpKSYmaS5pc0lubGluZSgpKXtjb25zdCBlPWkuZ2V0UHJldmlvdXNTaWJsaW5nKCk7R3IoZSkmJih0LmtleT1lLl9fa2V5LHQub2Zmc2V0PWUuZ2V0VGV4dENvbnRlbnQoKS5sZW5ndGgpfX1lbHNlIGxpKHIpJiYhbiYmci5pc0lubGluZSgpPyh0LmtleT1yLl9fa2V5LHQub2Zmc2V0PXIuZ2V0Q2hpbGRyZW5TaXplKCksdC50eXBlPVwiZWxlbWVudFwiKTpHcihyKSYmKHQua2V5PXIuX19rZXksdC5vZmZzZXQ9ci5nZXRUZXh0Q29udGVudCgpLmxlbmd0aCl9ZWxzZSBpZihyPT09cy5nZXRUZXh0Q29udGVudCgpLmxlbmd0aCl7Y29uc3Qgcj1zLmdldE5leHRTaWJsaW5nKCksaT1zLmdldFBhcmVudCgpO2lmKGUmJmxpKHIpJiZyLmlzSW5saW5lKCkpdC5rZXk9ci5fX2tleSx0Lm9mZnNldD0wLHQudHlwZT1cImVsZW1lbnRcIjtlbHNlIGlmKChufHxlKSYmbnVsbD09PXImJmxpKGkpJiZpLmlzSW5saW5lKCkmJiFpLmNhbkluc2VydFRleHRBZnRlcigpKXtjb25zdCBlPWkuZ2V0TmV4dFNpYmxpbmcoKTtHcihlKSYmKHQua2V5PWUuX19rZXksdC5vZmZzZXQ9MCl9fX1mdW5jdGlvbiBtcyh0LGUsbil7aWYoXCJ0ZXh0XCI9PT10LnR5cGUmJlwidGV4dFwiPT09ZS50eXBlKXtjb25zdCByPXQuaXNCZWZvcmUoZSkscz10LmlzKGUpO3lzKHQscixzKSx5cyhlLCFyLHMpLHMmJihlLmtleT10LmtleSxlLm9mZnNldD10Lm9mZnNldCxlLnR5cGU9dC50eXBlKTtjb25zdCBpPWpzKCk7aWYoaS5pc0NvbXBvc2luZygpJiZpLl9jb21wb3NpdGlvbktleSE9PXQua2V5JiZ1cyhuKSl7Y29uc3Qgcj1uLmFuY2hvcixzPW4uZm9jdXM7Y3ModCxyLmtleSxyLm9mZnNldCxyLnR5cGUpLGNzKGUscy5rZXkscy5vZmZzZXQscy50eXBlKX19fWZ1bmN0aW9uIHhzKHQsZSxuLHIscyxpKXtpZihudWxsPT09dHx8bnVsbD09PW58fCFsZShzLHQsbikpcmV0dXJuIG51bGw7Y29uc3Qgbz1wcyh0LGUsdXMoaSk/aS5hbmNob3I6bnVsbCxzKTtpZihudWxsPT09bylyZXR1cm4gbnVsbDtjb25zdCBsPXBzKG4scix1cyhpKT9pLmZvY3VzOm51bGwscyk7aWYobnVsbD09PWwpcmV0dXJuIG51bGw7aWYoXCJlbGVtZW50XCI9PT1vLnR5cGUmJlwiZWxlbWVudFwiPT09bC50eXBlKXtjb25zdCBlPU5lKHQpLHI9TmUobik7aWYodWkoZSkmJnVpKHIpKXJldHVybiBudWxsfXJldHVybiBtcyhvLGwsaSksW28sbF19ZnVuY3Rpb24gdnModCl7cmV0dXJuIGxpKHQpJiYhdC5pc0lubGluZSgpfWZ1bmN0aW9uIFRzKHQsZSxuLHIscyxpKXtjb25zdCBvPUhzKCksbD1uZXcgZnMoaXModCxlLHMpLGlzKG4scixpKSwwLFwiXCIpO3JldHVybiBsLmRpcnR5PSEwLG8uX3NlbGVjdGlvbj1sLGx9ZnVuY3Rpb24gQ3MoKXtjb25zdCB0PWlzKFwicm9vdFwiLDAsXCJlbGVtZW50XCIpLGU9aXMoXCJyb290XCIsMCxcImVsZW1lbnRcIik7cmV0dXJuIG5ldyBmcyh0LGUsMCxcIlwiKX1mdW5jdGlvbiBTcygpe3JldHVybiBuZXcgYXMobmV3IFNldCl9ZnVuY3Rpb24ga3ModCxlKXtyZXR1cm4gYnMobnVsbCx0LGUsbnVsbCl9ZnVuY3Rpb24gYnModCxlLG4scil7Y29uc3Qgcz1uLl93aW5kb3c7aWYobnVsbD09PXMpcmV0dXJuIG51bGw7Y29uc3QgaT1yfHxzLmV2ZW50LG89aT9pLnR5cGU6dm9pZCAwLGw9XCJzZWxlY3Rpb25jaGFuZ2VcIj09PW8sYz0hVXQmJihsfHxcImJlZm9yZWlucHV0XCI9PT1vfHxcImNvbXBvc2l0aW9uc3RhcnRcIj09PW98fFwiY29tcG9zaXRpb25lbmRcIj09PW98fFwiY2xpY2tcIj09PW8mJmkmJjM9PT1pLmRldGFpbHx8XCJkcm9wXCI9PT1vfHx2b2lkIDA9PT1vKTtsZXQgYSx1LGYsZDtpZih1cyh0KSYmIWMpcmV0dXJuIHQuY2xvbmUoKTtpZihudWxsPT09ZSlyZXR1cm4gbnVsbDtpZihhPWUuYW5jaG9yTm9kZSx1PWUuZm9jdXNOb2RlLGY9ZS5hbmNob3JPZmZzZXQsZD1lLmZvY3VzT2Zmc2V0LGwmJnVzKHQpJiYhbGUobixhLHUpKXJldHVybiB0LmNsb25lKCk7Y29uc3QgaD14cyhhLGYsdSxkLG4sdCk7aWYobnVsbD09PWgpcmV0dXJuIG51bGw7Y29uc3RbZyxfXT1oO3JldHVybiBuZXcgZnMoZyxfLHVzKHQpP3QuZm9ybWF0OjAsdXModCk/dC5zdHlsZTpcIlwiKX1mdW5jdGlvbiB3cygpe3JldHVybiBIcygpLl9zZWxlY3Rpb259ZnVuY3Rpb24gTnMoKXtyZXR1cm4ganMoKS5fZWRpdG9yU3RhdGUuX3NlbGVjdGlvbn1mdW5jdGlvbiBFcyh0LGUsbixyPTEpe2NvbnN0IHM9dC5hbmNob3IsaT10LmZvY3VzLG89cy5nZXROb2RlKCksbD1pLmdldE5vZGUoKTtpZighZS5pcyhvKSYmIWUuaXMobCkpcmV0dXJuO2NvbnN0IGM9ZS5fX2tleTtpZih0LmlzQ29sbGFwc2VkKCkpe2NvbnN0IGU9cy5vZmZzZXQ7aWYobjw9ZSYmcj4wfHxuPGUmJnI8MCl7Y29uc3Qgbj1NYXRoLm1heCgwLGUrcik7cy5zZXQoYyxuLFwiZWxlbWVudFwiKSxpLnNldChjLG4sXCJlbGVtZW50XCIpLFBzKHQpfX1lbHNle2NvbnN0IG89dC5pc0JhY2t3YXJkKCksbD1vP2k6cyxhPWwuZ2V0Tm9kZSgpLHU9bz9zOmksZj11LmdldE5vZGUoKTtpZihlLmlzKGEpKXtjb25zdCB0PWwub2Zmc2V0OyhuPD10JiZyPjB8fG48dCYmcjwwKSYmbC5zZXQoYyxNYXRoLm1heCgwLHQrciksXCJlbGVtZW50XCIpfWlmKGUuaXMoZikpe2NvbnN0IHQ9dS5vZmZzZXQ7KG48PXQmJnI+MHx8bjx0JiZyPDApJiZ1LnNldChjLE1hdGgubWF4KDAsdCtyKSxcImVsZW1lbnRcIil9fVBzKHQpfWZ1bmN0aW9uIFBzKHQpe2NvbnN0IGU9dC5hbmNob3Isbj1lLm9mZnNldCxyPXQuZm9jdXMscz1yLm9mZnNldCxpPWUuZ2V0Tm9kZSgpLG89ci5nZXROb2RlKCk7aWYodC5pc0NvbGxhcHNlZCgpKXtpZighbGkoaSkpcmV0dXJuO2NvbnN0IHQ9aS5nZXRDaGlsZHJlblNpemUoKSxzPW4+PXQsbz1zP2kuZ2V0Q2hpbGRBdEluZGV4KHQtMSk6aS5nZXRDaGlsZEF0SW5kZXgobik7aWYoR3Iobykpe2xldCB0PTA7cyYmKHQ9by5nZXRUZXh0Q29udGVudFNpemUoKSksZS5zZXQoby5fX2tleSx0LFwidGV4dFwiKSxyLnNldChvLl9fa2V5LHQsXCJ0ZXh0XCIpfX1lbHNle2lmKGxpKGkpKXtjb25zdCB0PWkuZ2V0Q2hpbGRyZW5TaXplKCkscj1uPj10LHM9cj9pLmdldENoaWxkQXRJbmRleCh0LTEpOmkuZ2V0Q2hpbGRBdEluZGV4KG4pO2lmKEdyKHMpKXtsZXQgdD0wO3ImJih0PXMuZ2V0VGV4dENvbnRlbnRTaXplKCkpLGUuc2V0KHMuX19rZXksdCxcInRleHRcIil9fWlmKGxpKG8pKXtjb25zdCB0PW8uZ2V0Q2hpbGRyZW5TaXplKCksZT1zPj10LG49ZT9vLmdldENoaWxkQXRJbmRleCh0LTEpOm8uZ2V0Q2hpbGRBdEluZGV4KHMpO2lmKEdyKG4pKXtsZXQgdD0wO2UmJih0PW4uZ2V0VGV4dENvbnRlbnRTaXplKCkpLHIuc2V0KG4uX19rZXksdCxcInRleHRcIil9fX19ZnVuY3Rpb24gRHModCxlLG4scixzKXtsZXQgaT1udWxsLG89MCxsPW51bGw7bnVsbCE9PXI/KGk9ci5fX2tleSxHcihyKT8obz1yLmdldFRleHRDb250ZW50U2l6ZSgpLGw9XCJ0ZXh0XCIpOmxpKHIpJiYobz1yLmdldENoaWxkcmVuU2l6ZSgpLGw9XCJlbGVtZW50XCIpKTpudWxsIT09cyYmKGk9cy5fX2tleSxHcihzKT9sPVwidGV4dFwiOmxpKHMpJiYobD1cImVsZW1lbnRcIikpLG51bGwhPT1pJiZudWxsIT09bD90LnNldChpLG8sbCk6KG89ZS5nZXRJbmRleFdpdGhpblBhcmVudCgpLC0xPT09byYmKG89bi5nZXRDaGlsZHJlblNpemUoKSksdC5zZXQobi5fX2tleSxvLFwiZWxlbWVudFwiKSl9ZnVuY3Rpb24gRnModCxlLG4scixzKXtcInRleHRcIj09PXQudHlwZT8odC5rZXk9bixlfHwodC5vZmZzZXQrPXMpKTp0Lm9mZnNldD5yLmdldEluZGV4V2l0aGluUGFyZW50KCkmJih0Lm9mZnNldC09MSl9ZnVuY3Rpb24gT3ModCxlLG4scixzLGksbyl7Y29uc3QgbD1yLmFuY2hvck5vZGUsYz1yLmZvY3VzTm9kZSxhPXIuYW5jaG9yT2Zmc2V0LHU9ci5mb2N1c09mZnNldCxmPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7aWYocy5oYXMoXCJjb2xsYWJvcmF0aW9uXCIpJiZmIT09aXx8bnVsbCE9PWYmJm9lKGYpKXJldHVybjtpZighdXMoZSkpcmV0dXJuIHZvaWQobnVsbCE9PXQmJmxlKG4sbCxjKSYmci5yZW1vdmVBbGxSYW5nZXMoKSk7Y29uc3QgZD1lLmFuY2hvcixoPWUuZm9jdXMsZz1kLmtleSxfPWgua2V5LHA9WmUobixnKSx5PVplKG4sXyksbT1kLm9mZnNldCx4PWgub2Zmc2V0LHY9ZS5mb3JtYXQsVD1lLnN0eWxlLEM9ZS5pc0NvbGxhcHNlZCgpO2xldCBTPXAsaz15LGI9ITE7aWYoXCJ0ZXh0XCI9PT1kLnR5cGUpe1M9ZmUocCk7Y29uc3QgdD1kLmdldE5vZGUoKTtiPXQuZ2V0Rm9ybWF0KCkhPT12fHx0LmdldFN0eWxlKCkhPT1UfWVsc2UgdXModCkmJlwidGV4dFwiPT09dC5hbmNob3IudHlwZSYmKGI9ITApO3ZhciB3LE4sRSxQLEQ7aWYoKFwidGV4dFwiPT09aC50eXBlJiYoaz1mZSh5KSksbnVsbCE9PVMmJm51bGwhPT1rKSYmKEMmJihudWxsPT09dHx8Ynx8dXModCkmJih0LmZvcm1hdCE9PXZ8fHQuc3R5bGUhPT1UKSkmJih3PXYsTj1ULEU9bSxQPWcsRD1wZXJmb3JtYW5jZS5ub3coKSxtcj1bdyxOLEUsUCxEXSksYSE9PW18fHUhPT14fHxsIT09U3x8YyE9PWt8fFwiUmFuZ2VcIj09PXIudHlwZSYmQ3x8KG51bGwhPT1mJiZpLmNvbnRhaW5zKGYpfHxpLmZvY3VzKHtwcmV2ZW50U2Nyb2xsOiEwfSksXCJlbGVtZW50XCI9PT1kLnR5cGUpKSl7dHJ5e3Iuc2V0QmFzZUFuZEV4dGVudChTLG0sayx4KX1jYXRjaCh0KXt9aWYoIXMuaGFzKFwic2tpcC1zY3JvbGwtaW50by12aWV3XCIpJiZlLmlzQ29sbGFwc2VkKCkmJm51bGwhPT1pJiZpPT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCl7Y29uc3QgdD1lIGluc3RhbmNlb2YgZnMmJlwiZWxlbWVudFwiPT09ZS5hbmNob3IudHlwZT9TLmNoaWxkTm9kZXNbbV18fG51bGw6ci5yYW5nZUNvdW50PjA/ci5nZXRSYW5nZUF0KDApOm51bGw7aWYobnVsbCE9PXQpe2xldCBlO2lmKHQgaW5zdGFuY2VvZiBUZXh0KXtjb25zdCBuPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7bi5zZWxlY3ROb2RlKHQpLGU9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1lbHNlIGU9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTshZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9bi5vd25lckRvY3VtZW50LHM9ci5kZWZhdWx0VmlldztpZihudWxsPT09cylyZXR1cm47bGV0e3RvcDppLGJvdHRvbTpvfT1lLGw9MCxjPTAsYT1uO2Zvcig7bnVsbCE9PWE7KXtjb25zdCBlPWE9PT1yLmJvZHk7aWYoZSlsPTAsYz1ybih0KS5pbm5lckhlaWdodDtlbHNle2NvbnN0IHQ9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtsPXQudG9wLGM9dC5ib3R0b219bGV0IG49MDtpZihpPGw/bj0tKGwtaSk6bz5jJiYobj1vLWMpLDAhPT1uKWlmKGUpcy5zY3JvbGxCeSgwLG4pO2Vsc2V7Y29uc3QgdD1hLnNjcm9sbFRvcDthLnNjcm9sbFRvcCs9bjtjb25zdCBlPWEuc2Nyb2xsVG9wLXQ7aS09ZSxvLT1lfWlmKGUpYnJlYWs7YT1HZShhKX19KG4sZSxpKX19Z3I9ITB9fWZ1bmN0aW9uIElzKHQpe2xldCBlPXdzKCl8fE5zKCk7bnVsbD09PWUmJihlPWtlKCkuc2VsZWN0RW5kKCkpLGUuaW5zZXJ0Tm9kZXModCl9ZnVuY3Rpb24gTHMoKXtjb25zdCB0PXdzKCk7cmV0dXJuIG51bGw9PT10P1wiXCI6dC5nZXRUZXh0Q29udGVudCgpfWZ1bmN0aW9uIEFzKHQpe2xldCBlPXQ7dC5pc0NvbGxhcHNlZCgpfHxlLnJlbW92ZVRleHQoKTtjb25zdCBuPXdzKCk7dXMobikmJihlPW4pLHVzKGUpfHxSdCgxNjEpO2NvbnN0IHI9ZS5hbmNob3I7bGV0IHM9ci5nZXROb2RlKCksaT1yLm9mZnNldDtmb3IoOyFUbihzKTspW3MsaV09TXMocyxpKTtyZXR1cm4gaX1mdW5jdGlvbiBNcyh0LGUpe2NvbnN0IG49dC5nZXRQYXJlbnQoKTtpZighbil7Y29uc3QgdD14aSgpO3JldHVybiBrZSgpLmFwcGVuZCh0KSx0LnNlbGVjdCgpLFtrZSgpLDBdfWlmKEdyKHQpKXtjb25zdCByPXQuc3BsaXRUZXh0KGUpO2lmKDA9PT1yLmxlbmd0aClyZXR1cm5bbix0LmdldEluZGV4V2l0aGluUGFyZW50KCldO2NvbnN0IHM9MD09PWU/MDoxO3JldHVybltuLHJbMF0uZ2V0SW5kZXhXaXRoaW5QYXJlbnQoKStzXX1pZighbGkodCl8fDA9PT1lKXJldHVybltuLHQuZ2V0SW5kZXhXaXRoaW5QYXJlbnQoKV07Y29uc3Qgcj10LmdldENoaWxkQXRJbmRleChlKTtpZihyKXtjb25zdCBuPW5ldyBmcyhpcyh0Ll9fa2V5LGUsXCJlbGVtZW50XCIpLGlzKHQuX19rZXksZSxcImVsZW1lbnRcIiksMCxcIlwiKSxzPXQuaW5zZXJ0TmV3QWZ0ZXIobik7cyYmcy5hcHBlbmQociwuLi5yLmdldE5leHRTaWJsaW5ncygpKX1yZXR1cm5bbix0LmdldEluZGV4V2l0aGluUGFyZW50KCkrMV19bGV0IHpzPW51bGwsV3M9bnVsbCxCcz0hMSxScz0hMSxLcz0wO2NvbnN0IEpzPXtjaGFyYWN0ZXJEYXRhOiEwLGNoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfTtmdW5jdGlvbiBVcygpe3JldHVybiBCc3x8bnVsbCE9PXpzJiZ6cy5fcmVhZE9ubHl9ZnVuY3Rpb24gVnMoKXtCcyYmUnQoMTMpfWZ1bmN0aW9uICRzKCl7S3M+OTkmJlJ0KDE0KX1mdW5jdGlvbiBIcygpe3JldHVybiBudWxsPT09enMmJlJ0KDE1KSx6c31mdW5jdGlvbiBqcygpe3JldHVybiBudWxsPT09V3MmJlJ0KDE2KSxXc31mdW5jdGlvbiBxcygpe3JldHVybiBXc31mdW5jdGlvbiBRcyh0LGUsbil7Y29uc3Qgcj1lLl9fdHlwZSxzPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10Ll9ub2Rlcy5nZXQoZSk7cmV0dXJuIHZvaWQgMD09PW4mJlJ0KDMwLGUpLG59KHQscik7bGV0IGk9bi5nZXQocik7dm9pZCAwPT09aSYmKGk9QXJyYXkuZnJvbShzLnRyYW5zZm9ybXMpLG4uc2V0KHIsaSkpO2NvbnN0IG89aS5sZW5ndGg7Zm9yKGxldCB0PTA7dDxvJiYoaVt0XShlKSxlLmlzQXR0YWNoZWQoKSk7dCsrKTt9ZnVuY3Rpb24gWHModCxlKXtyZXR1cm4gdm9pZCAwIT09dCYmdC5fX2tleSE9PWUmJnQuaXNBdHRhY2hlZCgpfWZ1bmN0aW9uIFlzKHQpe3JldHVybiBacyh0LGpzKCkuX25vZGVzKX1mdW5jdGlvbiBacyh0LGUpe2NvbnN0IG49dC50eXBlLHI9ZS5nZXQobik7dm9pZCAwPT09ciYmUnQoMTcsbik7Y29uc3Qgcz1yLmtsYXNzO3QudHlwZSE9PXMuZ2V0VHlwZSgpJiZSdCgxOCxzLm5hbWUpO2NvbnN0IGk9cy5pbXBvcnRKU09OKHQpLG89dC5jaGlsZHJlbjtpZihsaShpKSYmQXJyYXkuaXNBcnJheShvKSlmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoO3QrKyl7Y29uc3Qgbj1acyhvW3RdLGUpO2kuYXBwZW5kKG4pfXJldHVybiBpfWZ1bmN0aW9uIEdzKHQsZSl7Y29uc3Qgbj16cyxyPUJzLHM9V3M7enM9dCxCcz0hMCxXcz1udWxsO3RyeXtyZXR1cm4gZSgpfWZpbmFsbHl7enM9bixCcz1yLFdzPXN9fWZ1bmN0aW9uIHRpKHQsbil7Y29uc3Qgcj10Ll9wZW5kaW5nRWRpdG9yU3RhdGUscz10Ll9yb290RWxlbWVudCxpPXQuX2hlYWRsZXNzfHxudWxsPT09cztpZihudWxsPT09cilyZXR1cm47Y29uc3Qgbz10Ll9lZGl0b3JTdGF0ZSxsPW8uX3NlbGVjdGlvbixjPXIuX3NlbGVjdGlvbixhPXQuX2RpcnR5VHlwZSE9PWl0LHU9enMsZj1CcyxkPVdzLGg9dC5fdXBkYXRpbmcsZz10Ll9vYnNlcnZlcjtsZXQgXz1udWxsO2lmKHQuX3BlbmRpbmdFZGl0b3JTdGF0ZT1udWxsLHQuX2VkaXRvclN0YXRlPXIsIWkmJmEmJm51bGwhPT1nKXtXcz10LHpzPXIsQnM9ITEsdC5fdXBkYXRpbmc9ITA7dHJ5e2NvbnN0IGU9dC5fZGlydHlUeXBlLG49dC5fZGlydHlFbGVtZW50cyxzPXQuX2RpcnR5TGVhdmVzO2cuZGlzY29ubmVjdCgpLF89c3IobyxyLHQsZSxuLHMpfWNhdGNoKGUpe2lmKGUgaW5zdGFuY2VvZiBFcnJvciYmdC5fb25FcnJvcihlKSxScyl0aHJvdyBlO3JldHVybiB3aSh0LG51bGwscyxyKSxZdCh0KSx0Ll9kaXJ0eVR5cGU9bHQsUnM9ITAsdGkodCxvKSx2b2lkKFJzPSExKX1maW5hbGx5e2cub2JzZXJ2ZShzLEpzKSx0Ll91cGRhdGluZz1oLHpzPXUsQnM9ZixXcz1kfX1yLl9yZWFkT25seXx8KHIuX3JlYWRPbmx5PSEwKTtjb25zdCBwPXQuX2RpcnR5TGVhdmVzLHk9dC5fZGlydHlFbGVtZW50cyxtPXQuX25vcm1hbGl6ZWROb2Rlcyx4PXQuX3VwZGF0ZVRhZ3Msdj10Ll9kZWZlcnJlZDthJiYodC5fZGlydHlUeXBlPWl0LHQuX2Nsb25lTm90TmVlZGVkLmNsZWFyKCksdC5fZGlydHlMZWF2ZXM9bmV3IFNldCx0Ll9kaXJ0eUVsZW1lbnRzPW5ldyBNYXAsdC5fbm9ybWFsaXplZE5vZGVzPW5ldyBTZXQsdC5fdXBkYXRlVGFncz1uZXcgU2V0KSxmdW5jdGlvbih0LGUpe2NvbnN0IG49dC5fZGVjb3JhdG9ycztsZXQgcj10Ll9wZW5kaW5nRGVjb3JhdG9yc3x8bjtjb25zdCBzPWUuX25vZGVNYXA7bGV0IGk7Zm9yKGkgaW4gcilzLmhhcyhpKXx8KHI9PT1uJiYocj1DZSh0KSksZGVsZXRlIHJbaV0pfSh0LHIpO2NvbnN0IFQ9aT9udWxsOl9uKHQuX3dpbmRvdyk7aWYodC5fZWRpdGFibGUmJm51bGwhPT1UJiYoYXx8bnVsbD09PWN8fGMuZGlydHkpKXtXcz10LHpzPXI7dHJ5e2lmKG51bGwhPT1nJiZnLmRpc2Nvbm5lY3QoKSxhfHxudWxsPT09Y3x8Yy5kaXJ0eSl7Y29uc3QgZT10Ll9ibG9ja0N1cnNvckVsZW1lbnQ7bnVsbCE9PWUmJmhuKGUsdCxzKSxPcyhsLGMsdCxULHgscyl9Z24odCxzLGMpLG51bGwhPT1nJiZnLm9ic2VydmUocyxKcyl9ZmluYWxseXtXcz1kLHpzPXV9fW51bGwhPT1fJiZmdW5jdGlvbih0LGUsbixyLHMpe2NvbnN0IGk9QXJyYXkuZnJvbSh0Ll9saXN0ZW5lcnMubXV0YXRpb24pLG89aS5sZW5ndGg7Zm9yKGxldCB0PTA7dDxvO3QrKyl7Y29uc3RbbyxsXT1pW3RdLGM9ZS5nZXQobCk7dm9pZCAwIT09YyYmbyhjLHtkaXJ0eUxlYXZlczpyLHByZXZFZGl0b3JTdGF0ZTpzLHVwZGF0ZVRhZ3M6bn0pfX0odCxfLHgscCxvKSx1cyhjKXx8bnVsbD09PWN8fG51bGwhPT1sJiZsLmlzKGMpfHx0LmRpc3BhdGNoQ29tbWFuZChlLHZvaWQgMCk7Y29uc3QgQz10Ll9wZW5kaW5nRGVjb3JhdG9ycztudWxsIT09QyYmKHQuX2RlY29yYXRvcnM9Qyx0Ll9wZW5kaW5nRGVjb3JhdG9ycz1udWxsLGVpKFwiZGVjb3JhdG9yXCIsdCwhMCxDKSksZnVuY3Rpb24odCxlLG4pe2NvbnN0IHI9U2UoZSkscz1TZShuKTtyIT09cyYmZWkoXCJ0ZXh0Y29udGVudFwiLHQsITAscyl9KHQsbnx8byxyKSxlaShcInVwZGF0ZVwiLHQsITAse2RpcnR5RWxlbWVudHM6eSxkaXJ0eUxlYXZlczpwLGVkaXRvclN0YXRlOnIsbm9ybWFsaXplZE5vZGVzOm0scHJldkVkaXRvclN0YXRlOm58fG8sdGFnczp4fSksZnVuY3Rpb24odCxlKXtpZih0Ll9kZWZlcnJlZD1bXSwwIT09ZS5sZW5ndGgpe2NvbnN0IG49dC5fdXBkYXRpbmc7dC5fdXBkYXRpbmc9ITA7dHJ5e2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF0oKX1maW5hbGx5e3QuX3VwZGF0aW5nPW59fX0odCx2KSxmdW5jdGlvbih0KXtjb25zdCBlPXQuX3VwZGF0ZXM7aWYoMCE9PWUubGVuZ3RoKXtjb25zdCBuPWUuc2hpZnQoKTtpZihuKXtjb25zdFtlLHJdPW47c2kodCxlLHIpfX19KHQpfWZ1bmN0aW9uIGVpKHQsZSxuLC4uLnIpe2NvbnN0IHM9ZS5fdXBkYXRpbmc7ZS5fdXBkYXRpbmc9bjt0cnl7Y29uc3Qgbj1BcnJheS5mcm9tKGUuX2xpc3RlbmVyc1t0XSk7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspblt0XS5hcHBseShudWxsLHIpfWZpbmFsbHl7ZS5fdXBkYXRpbmc9c319ZnVuY3Rpb24gbmkodCxlLG4pe2lmKCExPT09dC5fdXBkYXRpbmd8fFdzIT09dCl7bGV0IHI9ITE7cmV0dXJuIHQudXBkYXRlKCgoKT0+e3I9bmkodCxlLG4pfSkpLHJ9Y29uc3Qgcj1EZSh0KTtmb3IobGV0IHM9NDtzPj0wO3MtLSlmb3IobGV0IGk9MDtpPHIubGVuZ3RoO2krKyl7Y29uc3Qgbz1yW2ldLl9jb21tYW5kcy5nZXQoZSk7aWYodm9pZCAwIT09byl7Y29uc3QgZT1vW3NdO2lmKHZvaWQgMCE9PWUpe2NvbnN0IHI9QXJyYXkuZnJvbShlKSxzPXIubGVuZ3RoO2ZvcihsZXQgZT0wO2U8cztlKyspaWYoITA9PT1yW2VdKG4sdCkpcmV0dXJuITB9fX1yZXR1cm4hMX1mdW5jdGlvbiByaSh0LGUpe2NvbnN0IG49dC5fdXBkYXRlcztsZXQgcj1lfHwhMTtmb3IoOzAhPT1uLmxlbmd0aDspe2NvbnN0IGU9bi5zaGlmdCgpO2lmKGUpe2NvbnN0W24sc109ZTtsZXQgaSxvO3ZvaWQgMCE9PXMmJihpPXMub25VcGRhdGUsbz1zLnRhZyxzLnNraXBUcmFuc2Zvcm1zJiYocj0hMCksaSYmdC5fZGVmZXJyZWQucHVzaChpKSxvJiZ0Ll91cGRhdGVUYWdzLmFkZChvKSksbigpfX1yZXR1cm4gcn1mdW5jdGlvbiBzaSh0LGUsbil7Y29uc3Qgcj10Ll91cGRhdGVUYWdzO2xldCBzLGksbz0hMSxsPSExO3ZvaWQgMCE9PW4mJihzPW4ub25VcGRhdGUsaT1uLnRhZyxudWxsIT1pJiZyLmFkZChpKSxvPW4uc2tpcFRyYW5zZm9ybXN8fCExLGw9bi5kaXNjcmV0ZXx8ITEpLHMmJnQuX2RlZmVycmVkLnB1c2gocyk7Y29uc3QgYz10Ll9lZGl0b3JTdGF0ZTtsZXQgYT10Ll9wZW5kaW5nRWRpdG9yU3RhdGUsdT0hMTsobnVsbD09PWF8fGEuX3JlYWRPbmx5KSYmKGE9dC5fcGVuZGluZ0VkaXRvclN0YXRlPW5ldyBfaShuZXcgTWFwKChhfHxjKS5fbm9kZU1hcCkpLHU9ITApLGEuX2ZsdXNoU3luYz1sO2NvbnN0IGY9enMsZD1CcyxoPVdzLGc9dC5fdXBkYXRpbmc7enM9YSxCcz0hMSx0Ll91cGRhdGluZz0hMCxXcz10O3RyeXt1JiYodC5faGVhZGxlc3M/bnVsbCE9PWMuX3NlbGVjdGlvbiYmKGEuX3NlbGVjdGlvbj1jLl9zZWxlY3Rpb24uY2xvbmUoKSk6YS5fc2VsZWN0aW9uPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5nZXRFZGl0b3JTdGF0ZSgpLl9zZWxlY3Rpb24sbj1fbih0Ll93aW5kb3cpO3JldHVybiB1cyhlKXx8bnVsbD09ZT9icyhlLG4sdCxudWxsKTplLmNsb25lKCl9KHQpKTtjb25zdCBuPXQuX2NvbXBvc2l0aW9uS2V5O2UoKSxvPXJpKHQsbyksZnVuY3Rpb24odCxlKXtjb25zdCBuPWUuZ2V0RWRpdG9yU3RhdGUoKS5fc2VsZWN0aW9uLHI9dC5fc2VsZWN0aW9uO2lmKHVzKHIpKXtjb25zdCB0PXIuYW5jaG9yLGU9ci5mb2N1cztsZXQgcztpZihcInRleHRcIj09PXQudHlwZSYmKHM9dC5nZXROb2RlKCkscy5zZWxlY3Rpb25UcmFuc2Zvcm0obixyKSksXCJ0ZXh0XCI9PT1lLnR5cGUpe2NvbnN0IHQ9ZS5nZXROb2RlKCk7cyE9PXQmJnQuc2VsZWN0aW9uVHJhbnNmb3JtKG4scil9fX0oYSx0KSx0Ll9kaXJ0eVR5cGUhPT1pdCYmKG8/ZnVuY3Rpb24odCxlKXtjb25zdCBuPWUuX2RpcnR5TGVhdmVzLHI9dC5fbm9kZU1hcDtmb3IoY29uc3QgdCBvZiBuKXtjb25zdCBlPXIuZ2V0KHQpO0dyKGUpJiZlLmlzQXR0YWNoZWQoKSYmZS5pc1NpbXBsZVRleHQoKSYmIWUuaXNVbm1lcmdlYWJsZSgpJiZ0ZShlKX19KGEsdCk6ZnVuY3Rpb24odCxlKXtjb25zdCBuPWUuX2RpcnR5TGVhdmVzLHI9ZS5fZGlydHlFbGVtZW50cyxzPXQuX25vZGVNYXAsaT1tZSgpLG89bmV3IE1hcDtsZXQgbD1uLGM9bC5zaXplLGE9cix1PWEuc2l6ZTtmb3IoO2M+MHx8dT4wOyl7aWYoYz4wKXtlLl9kaXJ0eUxlYXZlcz1uZXcgU2V0O2Zvcihjb25zdCB0IG9mIGwpe2NvbnN0IHI9cy5nZXQodCk7R3IocikmJnIuaXNBdHRhY2hlZCgpJiZyLmlzU2ltcGxlVGV4dCgpJiYhci5pc1VubWVyZ2VhYmxlKCkmJnRlKHIpLHZvaWQgMCE9PXImJlhzKHIsaSkmJlFzKGUscixvKSxuLmFkZCh0KX1pZihsPWUuX2RpcnR5TGVhdmVzLGM9bC5zaXplLGM+MCl7S3MrKztjb250aW51ZX19ZS5fZGlydHlMZWF2ZXM9bmV3IFNldCxlLl9kaXJ0eUVsZW1lbnRzPW5ldyBNYXA7Zm9yKGNvbnN0IHQgb2YgYSl7Y29uc3Qgbj10WzBdLGw9dFsxXTtpZihcInJvb3RcIiE9PW4mJiFsKWNvbnRpbnVlO2NvbnN0IGM9cy5nZXQobik7dm9pZCAwIT09YyYmWHMoYyxpKSYmUXMoZSxjLG8pLHIuc2V0KG4sbCl9bD1lLl9kaXJ0eUxlYXZlcyxjPWwuc2l6ZSxhPWUuX2RpcnR5RWxlbWVudHMsdT1hLnNpemUsS3MrK31lLl9kaXJ0eUxlYXZlcz1uLGUuX2RpcnR5RWxlbWVudHM9cn0oYSx0KSxyaSh0KSxmdW5jdGlvbih0LGUsbixyKXtjb25zdCBzPXQuX25vZGVNYXAsaT1lLl9ub2RlTWFwLG89W107Zm9yKGNvbnN0W3Rdb2Ygcil7Y29uc3QgZT1pLmdldCh0KTt2b2lkIDAhPT1lJiYoZS5pc0F0dGFjaGVkKCl8fChsaShlKSYma24oZSx0LHMsaSxvLHIpLHMuaGFzKHQpfHxyLmRlbGV0ZSh0KSxvLnB1c2godCkpKX1mb3IoY29uc3QgdCBvZiBvKWkuZGVsZXRlKHQpO2Zvcihjb25zdCB0IG9mIG4pe2NvbnN0IGU9aS5nZXQodCk7dm9pZCAwPT09ZXx8ZS5pc0F0dGFjaGVkKCl8fChzLmhhcyh0KXx8bi5kZWxldGUodCksaS5kZWxldGUodCkpfX0oYyxhLHQuX2RpcnR5TGVhdmVzLHQuX2RpcnR5RWxlbWVudHMpKTtuIT09dC5fY29tcG9zaXRpb25LZXkmJihhLl9mbHVzaFN5bmM9ITApO2NvbnN0IHI9YS5fc2VsZWN0aW9uO2lmKHVzKHIpKXtjb25zdCB0PWEuX25vZGVNYXAsZT1yLmFuY2hvci5rZXksbj1yLmZvY3VzLmtleTt2b2lkIDAhPT10LmdldChlKSYmdm9pZCAwIT09dC5nZXQobil8fFJ0KDE5KX1lbHNlIGRzKHIpJiYwPT09ci5fbm9kZXMuc2l6ZSYmKGEuX3NlbGVjdGlvbj1udWxsKX1jYXRjaChlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEVycm9yJiZ0Ll9vbkVycm9yKGUpLHQuX3BlbmRpbmdFZGl0b3JTdGF0ZT1jLHQuX2RpcnR5VHlwZT1sdCx0Ll9jbG9uZU5vdE5lZWRlZC5jbGVhcigpLHQuX2RpcnR5TGVhdmVzPW5ldyBTZXQsdC5fZGlydHlFbGVtZW50cy5jbGVhcigpLHZvaWQgdGkodCl9ZmluYWxseXt6cz1mLEJzPWQsV3M9aCx0Ll91cGRhdGluZz1nLEtzPTB9Y29uc3QgXz10Ll9kaXJ0eVR5cGUhPT1pdHx8ZnVuY3Rpb24odCxlKXtjb25zdCBuPWUuZ2V0RWRpdG9yU3RhdGUoKS5fc2VsZWN0aW9uLHI9dC5fc2VsZWN0aW9uO2lmKG51bGwhPT1yKXtpZihyLmRpcnR5fHwhci5pcyhuKSlyZXR1cm4hMH1lbHNlIGlmKG51bGwhPT1uKXJldHVybiEwO3JldHVybiExfShhLHQpO18/YS5fZmx1c2hTeW5jPyhhLl9mbHVzaFN5bmM9ITEsdGkodCkpOnUmJmllKCgoKT0+e3RpKHQpfSkpOihhLl9mbHVzaFN5bmM9ITEsdSYmKHIuY2xlYXIoKSx0Ll9kZWZlcnJlZD1bXSx0Ll9wZW5kaW5nRWRpdG9yU3RhdGU9bnVsbCkpfWZ1bmN0aW9uIGlpKHQsZSxuKXt0Ll91cGRhdGluZz90Ll91cGRhdGVzLnB1c2goW2Usbl0pOnNpKHQsZSxuKX1jbGFzcyBvaSBleHRlbmRzIEZye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX19maXJzdD1udWxsLHRoaXMuX19sYXN0PW51bGwsdGhpcy5fX3NpemU9MCx0aGlzLl9fZm9ybWF0PTAsdGhpcy5fX2luZGVudD0wLHRoaXMuX19kaXI9bnVsbH1nZXRGb3JtYXQoKXtyZXR1cm4gdGhpcy5nZXRMYXRlc3QoKS5fX2Zvcm1hdH1nZXRGb3JtYXRUeXBlKCl7Y29uc3QgdD10aGlzLmdldEZvcm1hdCgpO3JldHVybiBNdFt0XXx8XCJcIn1nZXRJbmRlbnQoKXtyZXR1cm4gdGhpcy5nZXRMYXRlc3QoKS5fX2luZGVudH1nZXRDaGlsZHJlbigpe2NvbnN0IHQ9W107bGV0IGU9dGhpcy5nZXRGaXJzdENoaWxkKCk7Zm9yKDtudWxsIT09ZTspdC5wdXNoKGUpLGU9ZS5nZXROZXh0U2libGluZygpO3JldHVybiB0fWdldENoaWxkcmVuS2V5cygpe2NvbnN0IHQ9W107bGV0IGU9dGhpcy5nZXRGaXJzdENoaWxkKCk7Zm9yKDtudWxsIT09ZTspdC5wdXNoKGUuX19rZXkpLGU9ZS5nZXROZXh0U2libGluZygpO3JldHVybiB0fWdldENoaWxkcmVuU2l6ZSgpe3JldHVybiB0aGlzLmdldExhdGVzdCgpLl9fc2l6ZX1pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmdldENoaWxkcmVuU2l6ZSgpfWlzRGlydHkoKXtjb25zdCB0PWpzKCkuX2RpcnR5RWxlbWVudHM7cmV0dXJuIG51bGwhPT10JiZ0Lmhhcyh0aGlzLl9fa2V5KX1pc0xhc3RDaGlsZCgpe2NvbnN0IHQ9dGhpcy5nZXRMYXRlc3QoKSxlPXRoaXMuZ2V0UGFyZW50T3JUaHJvdygpLmdldExhc3RDaGlsZCgpO3JldHVybiBudWxsIT09ZSYmZS5pcyh0KX1nZXRBbGxUZXh0Tm9kZXMoKXtjb25zdCB0PVtdO2xldCBlPXRoaXMuZ2V0Rmlyc3RDaGlsZCgpO2Zvcig7bnVsbCE9PWU7KXtpZihHcihlKSYmdC5wdXNoKGUpLGxpKGUpKXtjb25zdCBuPWUuZ2V0QWxsVGV4dE5vZGVzKCk7dC5wdXNoKC4uLm4pfWU9ZS5nZXROZXh0U2libGluZygpfXJldHVybiB0fWdldEZpcnN0RGVzY2VuZGFudCgpe2xldCB0PXRoaXMuZ2V0Rmlyc3RDaGlsZCgpO2Zvcig7bGkodCk7KXtjb25zdCBlPXQuZ2V0Rmlyc3RDaGlsZCgpO2lmKG51bGw9PT1lKWJyZWFrO3Q9ZX1yZXR1cm4gdH1nZXRMYXN0RGVzY2VuZGFudCgpe2xldCB0PXRoaXMuZ2V0TGFzdENoaWxkKCk7Zm9yKDtsaSh0KTspe2NvbnN0IGU9dC5nZXRMYXN0Q2hpbGQoKTtpZihudWxsPT09ZSlicmVhazt0PWV9cmV0dXJuIHR9Z2V0RGVzY2VuZGFudEJ5SW5kZXgodCl7Y29uc3QgZT10aGlzLmdldENoaWxkcmVuKCksbj1lLmxlbmd0aDtpZih0Pj1uKXtjb25zdCB0PWVbbi0xXTtyZXR1cm4gbGkodCkmJnQuZ2V0TGFzdERlc2NlbmRhbnQoKXx8dHx8bnVsbH1jb25zdCByPWVbdF07cmV0dXJuIGxpKHIpJiZyLmdldEZpcnN0RGVzY2VuZGFudCgpfHxyfHxudWxsfWdldEZpcnN0Q2hpbGQoKXtjb25zdCB0PXRoaXMuZ2V0TGF0ZXN0KCkuX19maXJzdDtyZXR1cm4gbnVsbD09PXQ/bnVsbDp4ZSh0KX1nZXRGaXJzdENoaWxkT3JUaHJvdygpe2NvbnN0IHQ9dGhpcy5nZXRGaXJzdENoaWxkKCk7cmV0dXJuIG51bGw9PT10JiZSdCg0NSx0aGlzLl9fa2V5KSx0fWdldExhc3RDaGlsZCgpe2NvbnN0IHQ9dGhpcy5nZXRMYXRlc3QoKS5fX2xhc3Q7cmV0dXJuIG51bGw9PT10P251bGw6eGUodCl9Z2V0TGFzdENoaWxkT3JUaHJvdygpe2NvbnN0IHQ9dGhpcy5nZXRMYXN0Q2hpbGQoKTtyZXR1cm4gbnVsbD09PXQmJlJ0KDk2LHRoaXMuX19rZXkpLHR9Z2V0Q2hpbGRBdEluZGV4KHQpe2NvbnN0IGU9dGhpcy5nZXRDaGlsZHJlblNpemUoKTtsZXQgbixyO2lmKHQ8ZS8yKXtmb3Iobj10aGlzLmdldEZpcnN0Q2hpbGQoKSxyPTA7bnVsbCE9PW4mJnI8PXQ7KXtpZihyPT09dClyZXR1cm4gbjtuPW4uZ2V0TmV4dFNpYmxpbmcoKSxyKyt9cmV0dXJuIG51bGx9Zm9yKG49dGhpcy5nZXRMYXN0Q2hpbGQoKSxyPWUtMTtudWxsIT09biYmcj49dDspe2lmKHI9PT10KXJldHVybiBuO249bi5nZXRQcmV2aW91c1NpYmxpbmcoKSxyLS19cmV0dXJuIG51bGx9Z2V0VGV4dENvbnRlbnQoKXtsZXQgdD1cIlwiO2NvbnN0IGU9dGhpcy5nZXRDaGlsZHJlbigpLG49ZS5sZW5ndGg7Zm9yKGxldCByPTA7cjxuO3IrKyl7Y29uc3Qgcz1lW3JdO3QrPXMuZ2V0VGV4dENvbnRlbnQoKSxsaShzKSYmciE9PW4tMSYmIXMuaXNJbmxpbmUoKSYmKHQrPU50KX1yZXR1cm4gdH1nZXRUZXh0Q29udGVudFNpemUoKXtsZXQgdD0wO2NvbnN0IGU9dGhpcy5nZXRDaGlsZHJlbigpLG49ZS5sZW5ndGg7Zm9yKGxldCByPTA7cjxuO3IrKyl7Y29uc3Qgcz1lW3JdO3QrPXMuZ2V0VGV4dENvbnRlbnRTaXplKCksbGkocykmJnIhPT1uLTEmJiFzLmlzSW5saW5lKCkmJih0Kz1OdC5sZW5ndGgpfXJldHVybiB0fWdldERpcmVjdGlvbigpe3JldHVybiB0aGlzLmdldExhdGVzdCgpLl9fZGlyfWhhc0Zvcm1hdCh0KXtpZihcIlwiIT09dCl7Y29uc3QgZT1BdFt0XTtyZXR1cm4hISh0aGlzLmdldEZvcm1hdCgpJmUpfXJldHVybiExfXNlbGVjdCh0LGUpe1ZzKCk7Y29uc3Qgbj13cygpO2xldCByPXQscz1lO2NvbnN0IGk9dGhpcy5nZXRDaGlsZHJlblNpemUoKTtpZighdGhpcy5jYW5CZUVtcHR5KCkpaWYoMD09PXQmJjA9PT1lKXtjb25zdCB0PXRoaXMuZ2V0Rmlyc3RDaGlsZCgpO2lmKEdyKHQpfHxsaSh0KSlyZXR1cm4gdC5zZWxlY3QoMCwwKX1lbHNlIGlmKCEodm9pZCAwIT09dCYmdCE9PWl8fHZvaWQgMCE9PWUmJmUhPT1pKSl7Y29uc3QgdD10aGlzLmdldExhc3RDaGlsZCgpO2lmKEdyKHQpfHxsaSh0KSlyZXR1cm4gdC5zZWxlY3QoKX12b2lkIDA9PT1yJiYocj1pKSx2b2lkIDA9PT1zJiYocz1pKTtjb25zdCBvPXRoaXMuX19rZXk7cmV0dXJuIHVzKG4pPyhuLmFuY2hvci5zZXQobyxyLFwiZWxlbWVudFwiKSxuLmZvY3VzLnNldChvLHMsXCJlbGVtZW50XCIpLG4uZGlydHk9ITAsbik6VHMobyxyLG8scyxcImVsZW1lbnRcIixcImVsZW1lbnRcIil9c2VsZWN0U3RhcnQoKXtjb25zdCB0PXRoaXMuZ2V0Rmlyc3REZXNjZW5kYW50KCk7cmV0dXJuIHQ/dC5zZWxlY3RTdGFydCgpOnRoaXMuc2VsZWN0KCl9c2VsZWN0RW5kKCl7Y29uc3QgdD10aGlzLmdldExhc3REZXNjZW5kYW50KCk7cmV0dXJuIHQ/dC5zZWxlY3RFbmQoKTp0aGlzLnNlbGVjdCgpfWNsZWFyKCl7Y29uc3QgdD10aGlzLmdldFdyaXRhYmxlKCk7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRyZW4oKS5mb3JFYWNoKCh0PT50LnJlbW92ZSgpKSksdH1hcHBlbmQoLi4udCl7cmV0dXJuIHRoaXMuc3BsaWNlKHRoaXMuZ2V0Q2hpbGRyZW5TaXplKCksMCx0KX1zZXREaXJlY3Rpb24odCl7Y29uc3QgZT10aGlzLmdldFdyaXRhYmxlKCk7cmV0dXJuIGUuX19kaXI9dCxlfXNldEZvcm1hdCh0KXtyZXR1cm4gdGhpcy5nZXRXcml0YWJsZSgpLl9fZm9ybWF0PVwiXCIhPT10P0F0W3RdOjAsdGhpc31zZXRJbmRlbnQodCl7cmV0dXJuIHRoaXMuZ2V0V3JpdGFibGUoKS5fX2luZGVudD10LHRoaXN9c3BsaWNlKHQsZSxuKXtjb25zdCByPW4ubGVuZ3RoLHM9dGhpcy5nZXRDaGlsZHJlblNpemUoKSxpPXRoaXMuZ2V0V3JpdGFibGUoKSxvPWkuX19rZXksbD1bXSxjPVtdLGE9dGhpcy5nZXRDaGlsZEF0SW5kZXgodCtlKTtsZXQgdT1udWxsLGY9cy1lK3I7aWYoMCE9PXQpaWYodD09PXMpdT10aGlzLmdldExhc3RDaGlsZCgpO2Vsc2V7Y29uc3QgZT10aGlzLmdldENoaWxkQXRJbmRleCh0KTtudWxsIT09ZSYmKHU9ZS5nZXRQcmV2aW91c1NpYmxpbmcoKSl9aWYoZT4wKXtsZXQgdD1udWxsPT09dT90aGlzLmdldEZpcnN0Q2hpbGQoKTp1LmdldE5leHRTaWJsaW5nKCk7Zm9yKGxldCBuPTA7bjxlO24rKyl7bnVsbD09PXQmJlJ0KDEwMCk7Y29uc3QgZT10LmdldE5leHRTaWJsaW5nKCksbj10Ll9fa2V5O19lKHQuZ2V0V3JpdGFibGUoKSksYy5wdXNoKG4pLHQ9ZX19bGV0IGQ9dTtmb3IobGV0IHQ9MDt0PHI7dCsrKXtjb25zdCBlPW5bdF07bnVsbCE9PWQmJmUuaXMoZCkmJih1PWQ9ZC5nZXRQcmV2aW91c1NpYmxpbmcoKSk7Y29uc3Qgcj1lLmdldFdyaXRhYmxlKCk7ci5fX3BhcmVudD09PW8mJmYtLSxfZShyKTtjb25zdCBzPWUuX19rZXk7aWYobnVsbD09PWQpaS5fX2ZpcnN0PXMsci5fX3ByZXY9bnVsbDtlbHNle2NvbnN0IHQ9ZC5nZXRXcml0YWJsZSgpO3QuX19uZXh0PXMsci5fX3ByZXY9dC5fX2tleX1lLl9fa2V5PT09byYmUnQoNzYpLHIuX19wYXJlbnQ9byxsLnB1c2gocyksZD1lfWlmKHQrZT09PXMpe2lmKG51bGwhPT1kKXtkLmdldFdyaXRhYmxlKCkuX19uZXh0PW51bGwsaS5fX2xhc3Q9ZC5fX2tleX19ZWxzZSBpZihudWxsIT09YSl7Y29uc3QgdD1hLmdldFdyaXRhYmxlKCk7aWYobnVsbCE9PWQpe2NvbnN0IGU9ZC5nZXRXcml0YWJsZSgpO3QuX19wcmV2PWQuX19rZXksZS5fX25leHQ9YS5fX2tleX1lbHNlIHQuX19wcmV2PW51bGx9aWYoaS5fX3NpemU9ZixjLmxlbmd0aCl7Y29uc3QgdD13cygpO2lmKHVzKHQpKXtjb25zdCBlPW5ldyBTZXQoYyksbj1uZXcgU2V0KGwpLHthbmNob3I6cixmb2N1czpzfT10O2NpKHIsZSxuKSYmRHMocixyLmdldE5vZGUoKSx0aGlzLHUsYSksY2kocyxlLG4pJiZEcyhzLHMuZ2V0Tm9kZSgpLHRoaXMsdSxhKSwwIT09Znx8dGhpcy5jYW5CZUVtcHR5KCl8fGxuKHRoaXMpfHx0aGlzLnJlbW92ZSgpfX1yZXR1cm4gaX1leHBvcnRKU09OKCl7cmV0dXJue2NoaWxkcmVuOltdLGRpcmVjdGlvbjp0aGlzLmdldERpcmVjdGlvbigpLGZvcm1hdDp0aGlzLmdldEZvcm1hdFR5cGUoKSxpbmRlbnQ6dGhpcy5nZXRJbmRlbnQoKSx0eXBlOlwiZWxlbWVudFwiLHZlcnNpb246MX19aW5zZXJ0TmV3QWZ0ZXIodCxlKXtyZXR1cm4gbnVsbH1jYW5JbmRlbnQoKXtyZXR1cm4hMH1jb2xsYXBzZUF0U3RhcnQodCl7cmV0dXJuITF9ZXhjbHVkZUZyb21Db3B5KHQpe3JldHVybiExfWNhblJlcGxhY2VXaXRoKHQpe3JldHVybiEwfWNhbkluc2VydEFmdGVyKHQpe3JldHVybiEwfWNhbkJlRW1wdHkoKXtyZXR1cm4hMH1jYW5JbnNlcnRUZXh0QmVmb3JlKCl7cmV0dXJuITB9Y2FuSW5zZXJ0VGV4dEFmdGVyKCl7cmV0dXJuITB9aXNJbmxpbmUoKXtyZXR1cm4hMX1pc1NoYWRvd1Jvb3QoKXtyZXR1cm4hMX1jYW5NZXJnZVdpdGgodCl7cmV0dXJuITF9ZXh0cmFjdFdpdGhDaGlsZCh0LGUsbil7cmV0dXJuITF9fWZ1bmN0aW9uIGxpKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygb2l9ZnVuY3Rpb24gY2kodCxlLG4pe2xldCByPXQuZ2V0Tm9kZSgpO2Zvcig7cjspe2NvbnN0IHQ9ci5fX2tleTtpZihlLmhhcyh0KSYmIW4uaGFzKHQpKXJldHVybiEwO3I9ci5nZXRQYXJlbnQoKX1yZXR1cm4hMX1jbGFzcyBhaSBleHRlbmRzIEZye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpfWRlY29yYXRlKHQsZSl7UnQoNDcpfWlzSXNvbGF0ZWQoKXtyZXR1cm4hMX1pc0lubGluZSgpe3JldHVybiEwfWlzS2V5Ym9hcmRTZWxlY3RhYmxlKCl7cmV0dXJuITB9fWZ1bmN0aW9uIHVpKHQpe3JldHVybiB0IGluc3RhbmNlb2YgYWl9Y2xhc3MgZmkgZXh0ZW5kcyBvaXtzdGF0aWMgZ2V0VHlwZSgpe3JldHVyblwicm9vdFwifXN0YXRpYyBjbG9uZSgpe3JldHVybiBuZXcgZml9Y29uc3RydWN0b3IoKXtzdXBlcihcInJvb3RcIiksdGhpcy5fX2NhY2hlZFRleHQ9bnVsbH1nZXRUb3BMZXZlbEVsZW1lbnRPclRocm93KCl7UnQoNTEpfWdldFRleHRDb250ZW50KCl7Y29uc3QgdD10aGlzLl9fY2FjaGVkVGV4dDtyZXR1cm4hVXMoKSYmanMoKS5fZGlydHlUeXBlIT09aXR8fG51bGw9PT10P3N1cGVyLmdldFRleHRDb250ZW50KCk6dH1yZW1vdmUoKXtSdCg1Mil9cmVwbGFjZSh0KXtSdCg1Myl9aW5zZXJ0QmVmb3JlKHQpe1J0KDU0KX1pbnNlcnRBZnRlcih0KXtSdCg1NSl9dXBkYXRlRE9NKHQsZSl7cmV0dXJuITF9YXBwZW5kKC4uLnQpe2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBuPXRbZV07bGkobil8fHVpKG4pfHxSdCg1Nil9cmV0dXJuIHN1cGVyLmFwcGVuZCguLi50KX1zdGF0aWMgaW1wb3J0SlNPTih0KXtjb25zdCBlPWtlKCk7cmV0dXJuIGUuc2V0Rm9ybWF0KHQuZm9ybWF0KSxlLnNldEluZGVudCh0LmluZGVudCksZS5zZXREaXJlY3Rpb24odC5kaXJlY3Rpb24pLGV9ZXhwb3J0SlNPTigpe3JldHVybntjaGlsZHJlbjpbXSxkaXJlY3Rpb246dGhpcy5nZXREaXJlY3Rpb24oKSxmb3JtYXQ6dGhpcy5nZXRGb3JtYXRUeXBlKCksaW5kZW50OnRoaXMuZ2V0SW5kZW50KCksdHlwZTpcInJvb3RcIix2ZXJzaW9uOjF9fWNvbGxhcHNlQXRTdGFydCgpe3JldHVybiEwfX1mdW5jdGlvbiBkaSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGZpfWZ1bmN0aW9uIGhpKCl7cmV0dXJuIG5ldyBfaShuZXcgTWFwKFtbXCJyb290XCIsbmV3IGZpXV0pKX1mdW5jdGlvbiBnaSh0KXtjb25zdCBlPXQuZXhwb3J0SlNPTigpLG49dC5jb25zdHJ1Y3RvcjtpZihlLnR5cGUhPT1uLmdldFR5cGUoKSYmUnQoMTMwLG4ubmFtZSksbGkodCkpe2NvbnN0IHI9ZS5jaGlsZHJlbjtBcnJheS5pc0FycmF5KHIpfHxSdCg1OSxuLm5hbWUpO2NvbnN0IHM9dC5nZXRDaGlsZHJlbigpO2ZvcihsZXQgdD0wO3Q8cy5sZW5ndGg7dCsrKXtjb25zdCBlPWdpKHNbdF0pO3IucHVzaChlKX19cmV0dXJuIGV9Y2xhc3MgX2l7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9ub2RlTWFwPXQsdGhpcy5fc2VsZWN0aW9uPWV8fG51bGwsdGhpcy5fZmx1c2hTeW5jPSExLHRoaXMuX3JlYWRPbmx5PSExfWlzRW1wdHkoKXtyZXR1cm4gMT09PXRoaXMuX25vZGVNYXAuc2l6ZSYmbnVsbD09PXRoaXMuX3NlbGVjdGlvbn1yZWFkKHQpe3JldHVybiBHcyh0aGlzLHQpfWNsb25lKHQpe2NvbnN0IGU9bmV3IF9pKHRoaXMuX25vZGVNYXAsdm9pZCAwPT09dD90aGlzLl9zZWxlY3Rpb246dCk7cmV0dXJuIGUuX3JlYWRPbmx5PSEwLGV9dG9KU09OKCl7cmV0dXJuIEdzKHRoaXMsKCgpPT4oe3Jvb3Q6Z2koa2UoKSl9KSkpfX1jbGFzcyBwaSBleHRlbmRzIG9pe3N0YXRpYyBnZXRUeXBlKCl7cmV0dXJuXCJhcnRpZmljaWFsXCJ9Y3JlYXRlRE9NKHQpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpfX1jbGFzcyB5aSBleHRlbmRzIG9pe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX190ZXh0Rm9ybWF0PTB9c3RhdGljIGdldFR5cGUoKXtyZXR1cm5cInBhcmFncmFwaFwifWdldFRleHRGb3JtYXQoKXtyZXR1cm4gdGhpcy5nZXRMYXRlc3QoKS5fX3RleHRGb3JtYXR9c2V0VGV4dEZvcm1hdCh0KXtjb25zdCBlPXRoaXMuZ2V0V3JpdGFibGUoKTtyZXR1cm4gZS5fX3RleHRGb3JtYXQ9dCxlfWhhc1RleHRGb3JtYXQodCl7Y29uc3QgZT1JdFt0XTtyZXR1cm4hISh0aGlzLmdldFRleHRGb3JtYXQoKSZlKX1zdGF0aWMgY2xvbmUodCl7cmV0dXJuIG5ldyB5aSh0Ll9fa2V5KX1jcmVhdGVET00odCl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKSxuPVZlKHQudGhlbWUsXCJwYXJhZ3JhcGhcIik7aWYodm9pZCAwIT09bil7ZS5jbGFzc0xpc3QuYWRkKC4uLm4pfXJldHVybiBlfXVwZGF0ZURPTSh0LGUsbil7cmV0dXJuITF9c3RhdGljIGltcG9ydERPTSgpe3JldHVybntwOnQ9Pih7Y29udmVyc2lvbjptaSxwcmlvcml0eTowfSl9fWV4cG9ydERPTSh0KXtjb25zdHtlbGVtZW50OmV9PXN1cGVyLmV4cG9ydERPTSh0KTtpZihlJiZtbihlKSl7dGhpcy5pc0VtcHR5KCkmJmUuYXBwZW5kKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7Y29uc3QgdD10aGlzLmdldEZvcm1hdFR5cGUoKTtlLnN0eWxlLnRleHRBbGlnbj10O2NvbnN0IG49dGhpcy5nZXREaXJlY3Rpb24oKTtuJiYoZS5kaXI9bik7Y29uc3Qgcj10aGlzLmdldEluZGVudCgpO3I+MCYmKGUuc3R5bGUudGV4dEluZGVudD0yMCpyK1wicHhcIil9cmV0dXJue2VsZW1lbnQ6ZX19c3RhdGljIGltcG9ydEpTT04odCl7Y29uc3QgZT14aSgpO3JldHVybiBlLnNldEZvcm1hdCh0LmZvcm1hdCksZS5zZXRJbmRlbnQodC5pbmRlbnQpLGUuc2V0RGlyZWN0aW9uKHQuZGlyZWN0aW9uKSxlLnNldFRleHRGb3JtYXQodC50ZXh0Rm9ybWF0KSxlfWV4cG9ydEpTT04oKXtyZXR1cm57Li4uc3VwZXIuZXhwb3J0SlNPTigpLHRleHRGb3JtYXQ6dGhpcy5nZXRUZXh0Rm9ybWF0KCksdHlwZTpcInBhcmFncmFwaFwiLHZlcnNpb246MX19aW5zZXJ0TmV3QWZ0ZXIodCxlKXtjb25zdCBuPXhpKCk7bi5zZXRUZXh0Rm9ybWF0KHQuZm9ybWF0KTtjb25zdCByPXRoaXMuZ2V0RGlyZWN0aW9uKCk7cmV0dXJuIG4uc2V0RGlyZWN0aW9uKHIpLG4uc2V0Rm9ybWF0KHRoaXMuZ2V0Rm9ybWF0VHlwZSgpKSx0aGlzLmluc2VydEFmdGVyKG4sZSksbn1jb2xsYXBzZUF0U3RhcnQoKXtjb25zdCB0PXRoaXMuZ2V0Q2hpbGRyZW4oKTtpZigwPT09dC5sZW5ndGh8fEdyKHRbMF0pJiZcIlwiPT09dFswXS5nZXRUZXh0Q29udGVudCgpLnRyaW0oKSl7aWYobnVsbCE9PXRoaXMuZ2V0TmV4dFNpYmxpbmcoKSlyZXR1cm4gdGhpcy5zZWxlY3ROZXh0KCksdGhpcy5yZW1vdmUoKSwhMDtpZihudWxsIT09dGhpcy5nZXRQcmV2aW91c1NpYmxpbmcoKSlyZXR1cm4gdGhpcy5zZWxlY3RQcmV2aW91cygpLHRoaXMucmVtb3ZlKCksITB9cmV0dXJuITF9fWZ1bmN0aW9uIG1pKHQpe2NvbnN0IGU9eGkoKTtpZih0LnN0eWxlKXtlLnNldEZvcm1hdCh0LnN0eWxlLnRleHRBbGlnbik7Y29uc3Qgbj1wYXJzZUludCh0LnN0eWxlLnRleHRJbmRlbnQsMTApLzIwO24+MCYmZS5zZXRJbmRlbnQobil9cmV0dXJue25vZGU6ZX19ZnVuY3Rpb24geGkoKXtyZXR1cm4gYW4obmV3IHlpKX1mdW5jdGlvbiB2aSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHlpfWNvbnN0IFRpPTAsQ2k9MSxTaT0yLGtpPTMsYmk9NDtmdW5jdGlvbiB3aSh0LGUsbixyKXtjb25zdCBzPXQuX2tleVRvRE9NTWFwO3MuY2xlYXIoKSx0Ll9lZGl0b3JTdGF0ZT1oaSgpLHQuX3BlbmRpbmdFZGl0b3JTdGF0ZT1yLHQuX2NvbXBvc2l0aW9uS2V5PW51bGwsdC5fZGlydHlUeXBlPWl0LHQuX2Nsb25lTm90TmVlZGVkLmNsZWFyKCksdC5fZGlydHlMZWF2ZXM9bmV3IFNldCx0Ll9kaXJ0eUVsZW1lbnRzLmNsZWFyKCksdC5fbm9ybWFsaXplZE5vZGVzPW5ldyBTZXQsdC5fdXBkYXRlVGFncz1uZXcgU2V0LHQuX3VwZGF0ZXM9W10sdC5fYmxvY2tDdXJzb3JFbGVtZW50PW51bGw7Y29uc3QgaT10Ll9vYnNlcnZlcjtudWxsIT09aSYmKGkuZGlzY29ubmVjdCgpLHQuX29ic2VydmVyPW51bGwpLG51bGwhPT1lJiYoZS50ZXh0Q29udGVudD1cIlwiKSxudWxsIT09biYmKG4udGV4dENvbnRlbnQ9XCJcIixzLnNldChcInJvb3RcIixuKSl9ZnVuY3Rpb24gTmkodCl7Y29uc3QgZT10fHx7fSxuPXFzKCkscj1lLnRoZW1lfHx7fSxzPXZvaWQgMD09PXQ/bjplLnBhcmVudEVkaXRvcnx8bnVsbCxpPWUuZGlzYWJsZUV2ZW50c3x8ITEsbz1oaSgpLGw9ZS5uYW1lc3BhY2V8fChudWxsIT09cz9zLl9jb25maWcubmFtZXNwYWNlOkZlKCkpLGM9ZS5lZGl0b3JTdGF0ZSxhPVtmaSxVcixPcixlcyx5aSxwaSwuLi5lLm5vZGVzfHxbXV0se29uRXJyb3I6dSxodG1sOmZ9PWUsZD12b2lkIDA9PT1lLmVkaXRhYmxlfHxlLmVkaXRhYmxlO2xldCBoO2lmKHZvaWQgMD09PXQmJm51bGwhPT1uKWg9bi5fbm9kZXM7ZWxzZXtoPW5ldyBNYXA7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aDt0Kyspe2xldCBlPWFbdF0sbj1udWxsLHI9bnVsbDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXtjb25zdCB0PWU7ZT10LnJlcGxhY2Usbj10LndpdGgscj10LndpdGhLbGFzc3x8bnVsbH1jb25zdCBzPWUuZ2V0VHlwZSgpLGk9ZS50cmFuc2Zvcm0oKSxvPW5ldyBTZXQ7bnVsbCE9PWkmJm8uYWRkKGkpLGguc2V0KHMse2V4cG9ydERPTTpmJiZmLmV4cG9ydD9mLmV4cG9ydC5nZXQoZSk6dm9pZCAwLGtsYXNzOmUscmVwbGFjZTpuLHJlcGxhY2VXaXRoS2xhc3M6cix0cmFuc2Zvcm1zOm99KX19Y29uc3QgZz1uZXcgRWkobyxzLGgse2Rpc2FibGVFdmVudHM6aSxuYW1lc3BhY2U6bCx0aGVtZTpyfSx1fHxjb25zb2xlLmVycm9yLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1uZXcgTWFwLHI9bmV3IFNldCxzPXQ9PntPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChlPT57bGV0IHI9bi5nZXQoZSk7dm9pZCAwPT09ciYmKHI9W10sbi5zZXQoZSxyKSksci5wdXNoKHRbZV0pfSkpfTtyZXR1cm4gdC5mb3JFYWNoKCh0PT57Y29uc3QgZT10LmtsYXNzLmltcG9ydERPTTtpZihudWxsPT1lfHxyLmhhcyhlKSlyZXR1cm47ci5hZGQoZSk7Y29uc3Qgbj1lLmNhbGwodC5rbGFzcyk7bnVsbCE9PW4mJnMobil9KSksZSYmcyhlKSxufShoLGY/Zi5pbXBvcnQ6dm9pZCAwKSxkKTtyZXR1cm4gdm9pZCAwIT09YyYmKGcuX3BlbmRpbmdFZGl0b3JTdGF0ZT1jLGcuX2RpcnR5VHlwZT1sdCksZ31jbGFzcyBFaXtjb25zdHJ1Y3Rvcih0LGUsbixyLHMsaSxvKXt0aGlzLl9wYXJlbnRFZGl0b3I9ZSx0aGlzLl9yb290RWxlbWVudD1udWxsLHRoaXMuX2VkaXRvclN0YXRlPXQsdGhpcy5fcGVuZGluZ0VkaXRvclN0YXRlPW51bGwsdGhpcy5fY29tcG9zaXRpb25LZXk9bnVsbCx0aGlzLl9kZWZlcnJlZD1bXSx0aGlzLl9rZXlUb0RPTU1hcD1uZXcgTWFwLHRoaXMuX3VwZGF0ZXM9W10sdGhpcy5fdXBkYXRpbmc9ITEsdGhpcy5fbGlzdGVuZXJzPXtkZWNvcmF0b3I6bmV3IFNldCxlZGl0YWJsZTpuZXcgU2V0LG11dGF0aW9uOm5ldyBNYXAscm9vdDpuZXcgU2V0LHRleHRjb250ZW50Om5ldyBTZXQsdXBkYXRlOm5ldyBTZXR9LHRoaXMuX2NvbW1hbmRzPW5ldyBNYXAsdGhpcy5fY29uZmlnPXIsdGhpcy5fbm9kZXM9bix0aGlzLl9kZWNvcmF0b3JzPXt9LHRoaXMuX3BlbmRpbmdEZWNvcmF0b3JzPW51bGwsdGhpcy5fZGlydHlUeXBlPWl0LHRoaXMuX2Nsb25lTm90TmVlZGVkPW5ldyBTZXQsdGhpcy5fZGlydHlMZWF2ZXM9bmV3IFNldCx0aGlzLl9kaXJ0eUVsZW1lbnRzPW5ldyBNYXAsdGhpcy5fbm9ybWFsaXplZE5vZGVzPW5ldyBTZXQsdGhpcy5fdXBkYXRlVGFncz1uZXcgU2V0LHRoaXMuX29ic2VydmVyPW51bGwsdGhpcy5fa2V5PUZlKCksdGhpcy5fb25FcnJvcj1zLHRoaXMuX2h0bWxDb252ZXJzaW9ucz1pLHRoaXMuX2VkaXRhYmxlPW8sdGhpcy5faGVhZGxlc3M9bnVsbCE9PWUmJmUuX2hlYWRsZXNzLHRoaXMuX3dpbmRvdz1udWxsLHRoaXMuX2Jsb2NrQ3Vyc29yRWxlbWVudD1udWxsfWlzQ29tcG9zaW5nKCl7cmV0dXJuIG51bGwhPXRoaXMuX2NvbXBvc2l0aW9uS2V5fXJlZ2lzdGVyVXBkYXRlTGlzdGVuZXIodCl7Y29uc3QgZT10aGlzLl9saXN0ZW5lcnMudXBkYXRlO3JldHVybiBlLmFkZCh0KSwoKT0+e2UuZGVsZXRlKHQpfX1yZWdpc3RlckVkaXRhYmxlTGlzdGVuZXIodCl7Y29uc3QgZT10aGlzLl9saXN0ZW5lcnMuZWRpdGFibGU7cmV0dXJuIGUuYWRkKHQpLCgpPT57ZS5kZWxldGUodCl9fXJlZ2lzdGVyRGVjb3JhdG9yTGlzdGVuZXIodCl7Y29uc3QgZT10aGlzLl9saXN0ZW5lcnMuZGVjb3JhdG9yO3JldHVybiBlLmFkZCh0KSwoKT0+e2UuZGVsZXRlKHQpfX1yZWdpc3RlclRleHRDb250ZW50TGlzdGVuZXIodCl7Y29uc3QgZT10aGlzLl9saXN0ZW5lcnMudGV4dGNvbnRlbnQ7cmV0dXJuIGUuYWRkKHQpLCgpPT57ZS5kZWxldGUodCl9fXJlZ2lzdGVyUm9vdExpc3RlbmVyKHQpe2NvbnN0IGU9dGhpcy5fbGlzdGVuZXJzLnJvb3Q7cmV0dXJuIHQodGhpcy5fcm9vdEVsZW1lbnQsbnVsbCksZS5hZGQodCksKCk9Pnt0KG51bGwsdGhpcy5fcm9vdEVsZW1lbnQpLGUuZGVsZXRlKHQpfX1yZWdpc3RlckNvbW1hbmQodCxlLG4pe3ZvaWQgMD09PW4mJlJ0KDM1KTtjb25zdCByPXRoaXMuX2NvbW1hbmRzO3IuaGFzKHQpfHxyLnNldCh0LFtuZXcgU2V0LG5ldyBTZXQsbmV3IFNldCxuZXcgU2V0LG5ldyBTZXRdKTtjb25zdCBzPXIuZ2V0KHQpO3ZvaWQgMD09PXMmJlJ0KDM2LFN0cmluZyh0KSk7Y29uc3QgaT1zW25dO3JldHVybiBpLmFkZChlKSwoKT0+e2kuZGVsZXRlKGUpLHMuZXZlcnkoKHQ9PjA9PT10LnNpemUpKSYmci5kZWxldGUodCl9fXJlZ2lzdGVyTXV0YXRpb25MaXN0ZW5lcih0LGUpe2xldCBuPXRoaXMuX25vZGVzLmdldCh0LmdldFR5cGUoKSk7dm9pZCAwPT09biYmUnQoMzcsdC5uYW1lKTtsZXQgcj10LHM9bnVsbDtmb3IoO3M9bi5yZXBsYWNlV2l0aEtsYXNzOylyPXMsbj10aGlzLl9ub2Rlcy5nZXQocy5nZXRUeXBlKCkpLHZvaWQgMD09PW4mJlJ0KDM3LHMubmFtZSk7Y29uc3QgaT10aGlzLl9saXN0ZW5lcnMubXV0YXRpb247cmV0dXJuIGkuc2V0KGUsciksKCk9PntpLmRlbGV0ZShlKX19cmVnaXN0ZXJOb2RlVHJhbnNmb3JtVG9LbGFzcyh0LGUpe2NvbnN0IG49dC5nZXRUeXBlKCkscj10aGlzLl9ub2Rlcy5nZXQobik7dm9pZCAwPT09ciYmUnQoMzcsdC5uYW1lKTtyZXR1cm4gci50cmFuc2Zvcm1zLmFkZChlKSxyfXJlZ2lzdGVyTm9kZVRyYW5zZm9ybSh0LGUpe2NvbnN0IG49dGhpcy5yZWdpc3Rlck5vZGVUcmFuc2Zvcm1Ub0tsYXNzKHQsZSkscj1bbl0scz1uLnJlcGxhY2VXaXRoS2xhc3M7aWYobnVsbCE9cyl7Y29uc3QgdD10aGlzLnJlZ2lzdGVyTm9kZVRyYW5zZm9ybVRvS2xhc3MocyxlKTtyLnB1c2godCl9dmFyIGksbztyZXR1cm4gaT10aGlzLG89dC5nZXRUeXBlKCksaWkoaSwoKCk9Pntjb25zdCB0PUhzKCk7aWYodC5pc0VtcHR5KCkpcmV0dXJuO2lmKFwicm9vdFwiPT09bylyZXR1cm4gdm9pZCBrZSgpLm1hcmtEaXJ0eSgpO2NvbnN0IGU9dC5fbm9kZU1hcDtmb3IoY29uc3RbLHRdb2YgZSl0Lm1hcmtEaXJ0eSgpfSksbnVsbD09PWkuX3BlbmRpbmdFZGl0b3JTdGF0ZT97dGFnOlwiaGlzdG9yeS1tZXJnZVwifTp2b2lkIDApLCgpPT57ci5mb3JFYWNoKCh0PT50LnRyYW5zZm9ybXMuZGVsZXRlKGUpKSl9fWhhc05vZGUodCl7cmV0dXJuIHRoaXMuX25vZGVzLmhhcyh0LmdldFR5cGUoKSl9aGFzTm9kZXModCl7cmV0dXJuIHQuZXZlcnkodGhpcy5oYXNOb2RlLmJpbmQodGhpcykpfWRpc3BhdGNoQ29tbWFuZCh0LGUpe3JldHVybiBYZSh0aGlzLHQsZSl9Z2V0RGVjb3JhdG9ycygpe3JldHVybiB0aGlzLl9kZWNvcmF0b3JzfWdldFJvb3RFbGVtZW50KCl7cmV0dXJuIHRoaXMuX3Jvb3RFbGVtZW50fWdldEtleSgpe3JldHVybiB0aGlzLl9rZXl9c2V0Um9vdEVsZW1lbnQodCl7Y29uc3QgZT10aGlzLl9yb290RWxlbWVudDtpZih0IT09ZSl7Y29uc3Qgbj1WZSh0aGlzLl9jb25maWcudGhlbWUsXCJyb290XCIpLHI9dGhpcy5fcGVuZGluZ0VkaXRvclN0YXRlfHx0aGlzLl9lZGl0b3JTdGF0ZTtpZih0aGlzLl9yb290RWxlbWVudD10LHdpKHRoaXMsZSx0LHIpLG51bGwhPT1lJiYodGhpcy5fY29uZmlnLmRpc2FibGVFdmVudHN8fFByKGUpLG51bGwhPW4mJmUuY2xhc3NMaXN0LnJlbW92ZSguLi5uKSksbnVsbCE9PXQpe2NvbnN0IGU9ZnVuY3Rpb24odCl7Y29uc3QgZT10Lm93bmVyRG9jdW1lbnQ7cmV0dXJuIGUmJmUuZGVmYXVsdFZpZXd8fG51bGx9KHQpLHI9dC5zdHlsZTtyLnVzZXJTZWxlY3Q9XCJ0ZXh0XCIsci53aGl0ZVNwYWNlPVwicHJlLXdyYXBcIixyLndvcmRCcmVhaz1cImJyZWFrLXdvcmRcIix0LnNldEF0dHJpYnV0ZShcImRhdGEtbGV4aWNhbC1lZGl0b3JcIixcInRydWVcIiksdGhpcy5fd2luZG93PWUsdGhpcy5fZGlydHlUeXBlPWx0LFl0KHRoaXMpLHRoaXMuX3VwZGF0ZVRhZ3MuYWRkKFwiaGlzdG9yeS1tZXJnZVwiKSx0aSh0aGlzKSx0aGlzLl9jb25maWcuZGlzYWJsZUV2ZW50c3x8ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQub3duZXJEb2N1bWVudCxyPWhyLmdldChuKTsodm9pZCAwPT09cnx8cjwxKSYmbi5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsd3IpLGhyLnNldChuLChyfHwwKSsxKSx0Ll9fbGV4aWNhbEVkaXRvcj1lO2NvbnN0IHM9a3IodCk7Zm9yKGxldCBuPTA7bjxjci5sZW5ndGg7bisrKXtjb25zdFtyLGldPWNyW25dLG89XCJmdW5jdGlvblwiPT10eXBlb2YgaT90PT57RXIodCl8fChOcih0KSwoZS5pc0VkaXRhYmxlKCl8fFwiY2xpY2tcIj09PXIpJiZpKHQsZSkpfTp0PT57aWYoRXIodCkpcmV0dXJuO05yKHQpO2NvbnN0IG49ZS5pc0VkaXRhYmxlKCk7c3dpdGNoKHIpe2Nhc2VcImN1dFwiOnJldHVybiBuJiZYZShlLHosdCk7Y2FzZVwiY29weVwiOnJldHVybiBYZShlLE0sdCk7Y2FzZVwicGFzdGVcIjpyZXR1cm4gbiYmWGUoZSxjLHQpO2Nhc2VcImRyYWdzdGFydFwiOnJldHVybiBuJiZYZShlLEksdCk7Y2FzZVwiZHJhZ292ZXJcIjpyZXR1cm4gbiYmWGUoZSxMLHQpO2Nhc2VcImRyYWdlbmRcIjpyZXR1cm4gbiYmWGUoZSxBLHQpO2Nhc2VcImZvY3VzXCI6cmV0dXJuIG4mJlhlKGUsVSx0KTtjYXNlXCJibHVyXCI6cmV0dXJuIG4mJlhlKGUsVix0KTtjYXNlXCJkcm9wXCI6cmV0dXJuIG4mJlhlKGUsRix0KX19O3QuYWRkRXZlbnRMaXN0ZW5lcihyLG8pLHMucHVzaCgoKCk9Pnt0LnJlbW92ZUV2ZW50TGlzdGVuZXIocixvKX0pKX19KHQsdGhpcyksbnVsbCE9biYmdC5jbGFzc0xpc3QuYWRkKC4uLm4pfWVsc2UgdGhpcy5fZWRpdG9yU3RhdGU9cix0aGlzLl9wZW5kaW5nRWRpdG9yU3RhdGU9bnVsbCx0aGlzLl93aW5kb3c9bnVsbDtlaShcInJvb3RcIix0aGlzLCExLHQsZSl9fWdldEVsZW1lbnRCeUtleSh0KXtyZXR1cm4gdGhpcy5fa2V5VG9ET01NYXAuZ2V0KHQpfHxudWxsfWdldEVkaXRvclN0YXRlKCl7cmV0dXJuIHRoaXMuX2VkaXRvclN0YXRlfXNldEVkaXRvclN0YXRlKHQsZSl7dC5pc0VtcHR5KCkmJlJ0KDM4KSxYdCh0aGlzKTtjb25zdCBuPXRoaXMuX3BlbmRpbmdFZGl0b3JTdGF0ZSxyPXRoaXMuX3VwZGF0ZVRhZ3Mscz12b2lkIDAhPT1lP2UudGFnOm51bGw7bnVsbD09PW58fG4uaXNFbXB0eSgpfHwobnVsbCE9cyYmci5hZGQocyksdGkodGhpcykpLHRoaXMuX3BlbmRpbmdFZGl0b3JTdGF0ZT10LHRoaXMuX2RpcnR5VHlwZT1sdCx0aGlzLl9kaXJ0eUVsZW1lbnRzLnNldChcInJvb3RcIiwhMSksdGhpcy5fY29tcG9zaXRpb25LZXk9bnVsbCxudWxsIT1zJiZyLmFkZChzKSx0aSh0aGlzKX1wYXJzZUVkaXRvclN0YXRlKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtjb25zdCByPWhpKCkscz16cyxpPUJzLG89V3MsbD1lLl9kaXJ0eUVsZW1lbnRzLGM9ZS5fZGlydHlMZWF2ZXMsYT1lLl9jbG9uZU5vdE5lZWRlZCx1PWUuX2RpcnR5VHlwZTtlLl9kaXJ0eUVsZW1lbnRzPW5ldyBNYXAsZS5fZGlydHlMZWF2ZXM9bmV3IFNldCxlLl9jbG9uZU5vdE5lZWRlZD1uZXcgU2V0LGUuX2RpcnR5VHlwZT0wLHpzPXIsQnM9ITEsV3M9ZTt0cnl7Y29uc3Qgcz1lLl9ub2Rlcztacyh0LnJvb3QscyksbiYmbigpLHIuX3JlYWRPbmx5PSEwfWNhdGNoKHQpe3QgaW5zdGFuY2VvZiBFcnJvciYmZS5fb25FcnJvcih0KX1maW5hbGx5e2UuX2RpcnR5RWxlbWVudHM9bCxlLl9kaXJ0eUxlYXZlcz1jLGUuX2Nsb25lTm90TmVlZGVkPWEsZS5fZGlydHlUeXBlPXUsenM9cyxCcz1pLFdzPW99cmV0dXJuIHJ9KFwic3RyaW5nXCI9PXR5cGVvZiB0P0pTT04ucGFyc2UodCk6dCx0aGlzLGUpfXVwZGF0ZSh0LGUpe2lpKHRoaXMsdCxlKX1mb2N1cyh0LGU9e30pe2NvbnN0IG49dGhpcy5fcm9vdEVsZW1lbnQ7bnVsbCE9PW4mJihuLnNldEF0dHJpYnV0ZShcImF1dG9jYXBpdGFsaXplXCIsXCJvZmZcIiksaWkodGhpcywoKCk9Pntjb25zdCB0PXdzKCksbj1rZSgpO251bGwhPT10P3QuZGlydHk9ITA6MCE9PW4uZ2V0Q2hpbGRyZW5TaXplKCkmJihcInJvb3RTdGFydFwiPT09ZS5kZWZhdWx0U2VsZWN0aW9uP24uc2VsZWN0U3RhcnQoKTpuLnNlbGVjdEVuZCgpKX0pLHtvblVwZGF0ZTooKT0+e24ucmVtb3ZlQXR0cmlidXRlKFwiYXV0b2NhcGl0YWxpemVcIiksdCYmdCgpfSx0YWc6XCJmb2N1c1wifSksbnVsbD09PXRoaXMuX3BlbmRpbmdFZGl0b3JTdGF0ZSYmbi5yZW1vdmVBdHRyaWJ1dGUoXCJhdXRvY2FwaXRhbGl6ZVwiKSl9Ymx1cigpe2NvbnN0IHQ9dGhpcy5fcm9vdEVsZW1lbnQ7bnVsbCE9PXQmJnQuYmx1cigpO2NvbnN0IGU9X24odGhpcy5fd2luZG93KTtudWxsIT09ZSYmZS5yZW1vdmVBbGxSYW5nZXMoKX1pc0VkaXRhYmxlKCl7cmV0dXJuIHRoaXMuX2VkaXRhYmxlfXNldEVkaXRhYmxlKHQpe3RoaXMuX2VkaXRhYmxlIT09dCYmKHRoaXMuX2VkaXRhYmxlPXQsZWkoXCJlZGl0YWJsZVwiLHRoaXMsITAsdCkpfXRvSlNPTigpe3JldHVybntlZGl0b3JTdGF0ZTp0aGlzLl9lZGl0b3JTdGF0ZS50b0pTT04oKX19fWV4cG9ydHtlbiBhcyAkYWRkVXBkYXRlVGFnLGFuIGFzICRhcHBseU5vZGVSZXBsYWNlbWVudCxjbiBhcyAkY29weU5vZGUsTHIgYXMgJGNyZWF0ZUxpbmVCcmVha05vZGUsU3MgYXMgJGNyZWF0ZU5vZGVTZWxlY3Rpb24seGkgYXMgJGNyZWF0ZVBhcmFncmFwaE5vZGUsaXMgYXMgJGNyZWF0ZVBvaW50LENzIGFzICRjcmVhdGVSYW5nZVNlbGVjdGlvbixrcyBhcyAkY3JlYXRlUmFuZ2VTZWxlY3Rpb25Gcm9tRG9tLG5zIGFzICRjcmVhdGVUYWJOb2RlLFpyIGFzICRjcmVhdGVUZXh0Tm9kZSxxZSBhcyAkZ2V0QWRqYWNlbnROb2RlLGdzIGFzICRnZXRDaGFyYWN0ZXJPZmZzZXRzLFNuIGFzICRnZXRFZGl0b3IsVGUgYXMgJGdldE5lYXJlc3ROb2RlRnJvbURPTU5vZGUsb24gYXMgJGdldE5lYXJlc3RSb290T3JTaGFkb3dSb290LHhlIGFzICRnZXROb2RlQnlLZXksZm4gYXMgJGdldE5vZGVCeUtleU9yVGhyb3csTnMgYXMgJGdldFByZXZpb3VzU2VsZWN0aW9uLGtlIGFzICRnZXRSb290LHdzIGFzICRnZXRTZWxlY3Rpb24sTHMgYXMgJGdldFRleHRDb250ZW50LG5uIGFzICRoYXNBbmNlc3Rvcix0biBhcyAkaGFzVXBkYXRlVGFnLElzIGFzICRpbnNlcnROb2Rlcyx2cyBhcyAkaXNCbG9ja0VsZW1lbnROb2RlLHVpIGFzICRpc0RlY29yYXRvck5vZGUsbGkgYXMgJGlzRWxlbWVudE5vZGUsc24gYXMgJGlzSW5saW5lRWxlbWVudE9yRGVjb3JhdG9yTm9kZSxoZSBhcyAkaXNMZWFmTm9kZSxBciBhcyAkaXNMaW5lQnJlYWtOb2RlLGRzIGFzICRpc05vZGVTZWxlY3Rpb24sdmkgYXMgJGlzUGFyYWdyYXBoTm9kZSx1cyBhcyAkaXNSYW5nZVNlbGVjdGlvbixkaSBhcyAkaXNSb290Tm9kZSxsbiBhcyAkaXNSb290T3JTaGFkb3dSb290LHJzIGFzICRpc1RhYk5vZGUsR3IgYXMgJGlzVGV4dE5vZGUsSGUgYXMgJG5vZGVzT2ZUeXBlLGVlIGFzICRub3JtYWxpemVTZWxlY3Rpb25fX0VYUEVSSU1FTlRBTCxZcyBhcyAkcGFyc2VTZXJpYWxpemVkTm9kZSxVZSBhcyAkc2VsZWN0QWxsLHllIGFzICRzZXRDb21wb3NpdGlvbktleSx3ZSBhcyAkc2V0U2VsZWN0aW9uLHBuIGFzICRzcGxpdE5vZGUscGkgYXMgQXJ0aWZpY2lhbE5vZGVfX0RPX05PVF9VU0UsViBhcyBCTFVSX0NPTU1BTkQsSyBhcyBDQU5fUkVET19DT01NQU5ELEogYXMgQ0FOX1VORE9fQ09NTUFORCxCIGFzIENMRUFSX0VESVRPUl9DT01NQU5ELFIgYXMgQ0xFQVJfSElTVE9SWV9DT01NQU5ELHIgYXMgQ0xJQ0tfQ09NTUFORCxiaSBhcyBDT01NQU5EX1BSSU9SSVRZX0NSSVRJQ0FMLFRpIGFzIENPTU1BTkRfUFJJT1JJVFlfRURJVE9SLGtpIGFzIENPTU1BTkRfUFJJT1JJVFlfSElHSCxDaSBhcyBDT01NQU5EX1BSSU9SSVRZX0xPVyxTaSBhcyBDT01NQU5EX1BSSU9SSVRZX05PUk1BTCxsIGFzIENPTlRST0xMRURfVEVYVF9JTlNFUlRJT05fQ09NTUFORCxNIGFzIENPUFlfQ09NTUFORCx6IGFzIENVVF9DT01NQU5ELHMgYXMgREVMRVRFX0NIQVJBQ1RFUl9DT01NQU5ELGYgYXMgREVMRVRFX0xJTkVfQ09NTUFORCx1IGFzIERFTEVURV9XT1JEX0NPTU1BTkQsQSBhcyBEUkFHRU5EX0NPTU1BTkQsTCBhcyBEUkFHT1ZFUl9DT01NQU5ELEkgYXMgRFJBR1NUQVJUX0NPTU1BTkQsRiBhcyBEUk9QX0NPTU1BTkQsYWkgYXMgRGVjb3JhdG9yTm9kZSxvaSBhcyBFbGVtZW50Tm9kZSxVIGFzIEZPQ1VTX0NPTU1BTkQsTyBhcyBGT1JNQVRfRUxFTUVOVF9DT01NQU5ELGQgYXMgRk9STUFUX1RFWFRfQ09NTUFORCxQIGFzIElOREVOVF9DT05URU5UX0NPTU1BTkQsaSBhcyBJTlNFUlRfTElORV9CUkVBS19DT01NQU5ELG8gYXMgSU5TRVJUX1BBUkFHUkFQSF9DT01NQU5ELEUgYXMgSU5TRVJUX1RBQl9DT01NQU5ELHh0IGFzIElTX0FMTF9GT1JNQVRUSU5HLGZ0IGFzIElTX0JPTEQsX3QgYXMgSVNfQ09ERSxtdCBhcyBJU19ISUdITElHSFQsZHQgYXMgSVNfSVRBTElDLGh0IGFzIElTX1NUUklLRVRIUk9VR0gscHQgYXMgSVNfU1VCU0NSSVBULHl0IGFzIElTX1NVUEVSU0NSSVBULGd0IGFzIElTX1VOREVSTElORSxUIGFzIEtFWV9BUlJPV19ET1dOX0NPTU1BTkQsbSBhcyBLRVlfQVJST1dfTEVGVF9DT01NQU5ELHAgYXMgS0VZX0FSUk9XX1JJR0hUX0NPTU1BTkQsdiBhcyBLRVlfQVJST1dfVVBfQ09NTUFORCxrIGFzIEtFWV9CQUNLU1BBQ0VfQ09NTUFORCx3IGFzIEtFWV9ERUxFVEVfQ09NTUFORCxfIGFzIEtFWV9ET1dOX0NPTU1BTkQsQyBhcyBLRVlfRU5URVJfQ09NTUFORCxiIGFzIEtFWV9FU0NBUEVfQ09NTUFORCwkIGFzIEtFWV9NT0RJRklFUl9DT01NQU5ELFMgYXMgS0VZX1NQQUNFX0NPTU1BTkQsTiBhcyBLRVlfVEFCX0NPTU1BTkQsT3IgYXMgTGluZUJyZWFrTm9kZSx5IGFzIE1PVkVfVE9fRU5ELHggYXMgTU9WRV9UT19TVEFSVCxEIGFzIE9VVERFTlRfQ09OVEVOVF9DT01NQU5ELGMgYXMgUEFTVEVfQ09NTUFORCx5aSBhcyBQYXJhZ3JhcGhOb2RlLGcgYXMgUkVET19DT01NQU5ELGEgYXMgUkVNT1ZFX1RFWFRfQ09NTUFORCxmaSBhcyBSb290Tm9kZSxlIGFzIFNFTEVDVElPTl9DSEFOR0VfQ09NTUFORCxuIGFzIFNFTEVDVElPTl9JTlNFUlRfQ0xJUEJPQVJEX05PREVTX0NPTU1BTkQsVyBhcyBTRUxFQ1RfQUxMX0NPTU1BTkQsSXQgYXMgVEVYVF9UWVBFX1RPX0ZPUk1BVCxlcyBhcyBUYWJOb2RlLFVyIGFzIFRleHROb2RlLGggYXMgVU5ET19DT01NQU5ELHQgYXMgY3JlYXRlQ29tbWFuZCxOaSBhcyBjcmVhdGVFZGl0b3IsY2UgYXMgZ2V0TmVhcmVzdEVkaXRvckZyb21ET01Ob2RlLHZuIGFzIGlzQmxvY2tEb21Ob2RlLFVzIGFzIGlzQ3VycmVudGx5UmVhZE9ubHlNb2RlLHluIGFzIGlzSFRNTEFuY2hvckVsZW1lbnQsbW4gYXMgaXNIVE1MRWxlbWVudCx4biBhcyBpc0lubGluZURvbU5vZGUsb2UgYXMgaXNTZWxlY3Rpb25DYXB0dXJlZEluRGVjb3JhdG9ySW5wdXQsbGUgYXMgaXNTZWxlY3Rpb25XaXRoaW5FZGl0b3Isc2UgYXMgcmVzZXRSYW5kb21LZXl9O1xuIiwiaW1wb3J0IHsgJGdldFJvb3QsICRnZXRTZWxlY3Rpb24sICRjcmVhdGVQYXJhZ3JhcGhOb2RlLCAkY3JlYXRlVGV4dE5vZGUsIGNyZWF0ZUVkaXRvciB9IGZyb20gXCJsZXhpY2FsXCI7XG5cbi8vIExleGljYWwgaW1wbGVtZW50YXRpb24gZm9yIGVkaXRpbmcgWE1MIG1hcmt1cCB3aXRoIG92ZXJsYXBwaW5nIHRhZ3NcblxuY29uc3QgY29uZmlnID0ge1xuICAgIG5hbWVzcGFjZTogXCJYTUwgSW5saW5lIEVkaXRvclwiLFxuICAgIHRoZW1lOiB7fSxcbiAgICBvbkVycm9yOiBjb25zb2xlLmVycm9yXG59O1xuXG5jb25zdCBlZGl0b3IgPSBjcmVhdGVFZGl0b3IoY29uZmlnKTtcblxuY29uc3QgY29udGVudEVkaXRhYmxlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd4bWxFZGl0b3InKTtcblxuZWRpdG9yLnNldFJvb3RFbGVtZW50KGNvbnRlbnRFZGl0YWJsZUVsZW1lbnQpO1xuXG5lZGl0b3IudXBkYXRlKCgpID0+IHtcbiAgICBjb25zdCByb290ID0gJGdldFJvb3QoKTtcblxuICAgIGNvbnN0IHNlbGVjdGlvbiA9ICRnZXRTZWxlY3Rpb24oKTtcblxuICAgIGNvbnN0IHBhcmFncmFwaE5vZGUgPSAkY3JlYXRlUGFyYWdyYXBoTm9kZSgpO1xuXG4gICAgY29uc3QgdGV4dE5vZGUgPSAkY3JlYXRlVGV4dE5vZGUoXCJId2FldCB3b3JsZFwiKTtcblxuICAgIHBhcmFncmFwaE5vZGUuYXBwZW5kKHRleHROb2RlKTtcblxuICAgIHJvb3QuYXBwZW5kKHBhcmFncmFwaE5vZGUpO1xufSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///463\n')}},__webpack_exports__={};__webpack_modules__[463]()})();